var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return c(t,(t=>e=t))(),e}function a(t,e,n){t.$$.on_destroy.push(c(e,n))}const f="undefined"!=typeof window;let d=f?()=>window.performance.now():()=>Date.now(),$=f?t=>requestAnimationFrame(t):t;const p=new Set;function m(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&$(m)}function g(t){let e;return 0===p.size&&$(m),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}function h(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function E(){return w("")}function k(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t){return function(e){return e.preventDefault(),t.call(this,e)}}function O(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function I(t,e){t.value=null==e?"":e}class T{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=_(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)y(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(v)}}const R=new Set;let M,V=0;function N(t,e,n,r,o,s,i,l=0){const c=16.666/r;let u="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*s(t);u+=100*t+`%{${i(r,1-r)}}\n`}const a=u+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${l}`,d=t.ownerDocument;R.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(_("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${o}ms 1 both`,V+=1,f}function L(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),V-=o,V||$((()=>{V||(R.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),R.clear())})))}function W(n,r,o,s){if(!r)return t;const i=n.getBoundingClientRect();if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom)return t;const{delay:l=0,duration:c=300,easing:u=e,start:a=d()+l,end:f=a+c,tick:$=t,css:p}=o(n,{from:r,to:i},s);let m,h=!0,y=!1;function v(){p&&L(n,m),h=!1}return g((t=>{if(!y&&t>=a&&(y=!0),y&&t>=f&&($(1,0),v()),!h)return!1;if(y){const e=0+1*u((t-a)/c);$(e,1-e)}return!0})),p&&(m=N(n,0,1,c,l,u,p)),l||(y=!0),$(0,1),v}function G(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,A(t,o)}}function A(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function H(t){M=t}function D(t){(function(){if(!M)throw new Error("Function called outside component initialization");return M})().$$.on_mount.push(t)}const P=[],U=[],q=[],B=[],z=Promise.resolve();let j=!1;function Y(t){q.push(t)}let F=!1;const J=new Set;function K(){if(!F){F=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];H(e),Q(e.$$)}for(H(null),P.length=0;U.length;)U.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];J.has(e)||(J.add(e),e())}q.length=0}while(P.length);for(;B.length;)B.pop()();j=!1,F=!1,J.clear()}}function Q(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let X;function Z(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function tt(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function rt(){nt={r:0,c:[],p:nt}}function ot(){nt.r||s(nt.c),nt=nt.p}function st(t,e){t&&t.i&&(et.delete(t),t.i(e))}function it(t,e,n,r){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const lt={duration:0};function ct(n,r,o){let s,l,c=r(n,o),u=!1,a=0;function f(){s&&L(n,s)}function $(){const{delay:r=0,duration:o=300,easing:i=e,tick:$=t,css:p}=c||lt;p&&(s=N(n,0,1,o,r,i,p,a++)),$(0,1);const m=d()+r,h=m+o;l&&l.abort(),u=!0,Y((()=>tt(n,!0,"start"))),l=g((t=>{if(u){if(t>=h)return $(1,0),tt(n,!0,"end"),f(),u=!1;if(t>=m){const e=i((t-m)/o);$(e,1-e)}}return u}))}let p=!1;return{start(){p||(L(n),i(c)?(c=c(),Z().then($)):$())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function ut(n,r,o){let l,c=r(n,o),u=!0;const a=nt;function f(){const{delay:r=0,duration:o=300,easing:i=e,tick:f=t,css:$}=c||lt;$&&(l=N(n,1,0,o,r,i,$));const p=d()+r,m=p+o;Y((()=>tt(n,!1,"start"))),g((t=>{if(u){if(t>=m)return f(0,1),tt(n,!1,"end"),--a.r||s(a.c),!1;if(t>=p){const e=i((t-p)/o);f(1-e,e)}}return u}))}return a.r+=1,i(c)?Z().then((()=>{c=c(),f()})):f(),{end(t){t&&c.tick&&c.tick(1,0),u&&(l&&L(n,l),u=!1)}}}function at(t,e){t.d(1),e.delete(t.key)}function ft(t,e){t.f(),at(t,e)}function dt(t,e){t.f(),function(t,e){it(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function $t(t,e,n,r,o,s,i,l,c,u,a,f){let d=t.length,$=s.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const g=[],h=new Map,y=new Map;for(p=$;p--;){const t=f(o,s,p),l=n(t);let c=i.get(l);c?r&&c.p(t,e):(c=u(l,t),c.c()),h.set(l,g[p]=c),l in m&&y.set(l,Math.abs(p-m[l]))}const v=new Set,b=new Set;function _(t){st(t,1),t.m(l,a),i.set(t.key,t),a=t.first,$--}for(;d&&$;){const e=g[$-1],n=t[d-1],r=e.key,o=n.key;e===n?(a=e.first,d--,$--):h.has(o)?!i.has(r)||v.has(r)?_(e):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),_(e)):(v.add(o),d--):(c(n,i),d--)}for(;d--;){const e=t[d];h.has(e.key)||c(e,i)}for(;$;)_(g[$-1]);return g}function pt(t){t&&t.c()}function mt(t,e,n){const{fragment:o,on_mount:l,on_destroy:c,after_update:u}=t.$$;o&&o.m(e,n),Y((()=>{const e=l.map(r).filter(i);c?c.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(Y)}function gt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(P.push(t),j||(j=!0,z.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(e,n,r,i,l,c,u=[-1]){const a=M;H(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),d&&ht(e,t)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(v)}else f.fragment&&f.fragment.c();n.intro&&st(e.$$.fragment),mt(e,n.target,n.anchor),K()}H(a)}class vt{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function bt(t){const e=t-1;return e*e*e+1}function _t(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function wt(t,{delay:n=0,duration:r=400,easing:o=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*s}}function xt(t,{delay:e=0,duration:n=400,easing:r=bt,x:o=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,u="none"===l.transform?"":l.transform,a=c*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*o}px, ${(1-t)*s}px);\n\t\t\topacity: ${c-a*e}`}}const Et=[];function kt(e,n=t){let r;const o=[];function s(t){if(l(e,t)&&(e=t,r)){const t=!Et.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Et.push(n,e)}if(t){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,l=t){const c=[i,l];return o.push(c),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function Ct(e,n,r){const o=!Array.isArray(e),l=o?[e]:e,u=n.length<2;return{subscribe:kt(r,(e=>{let r=!1;const a=[];let f=0,d=t;const $=()=>{if(f)return;d();const r=n(o?a[0]:a,e);u?e(r):d=i(r)?r:t},p=l.map(((t,e)=>c(t,(t=>{a[e]=t,f&=~(1<<e),r&&$()}),(()=>{f|=1<<e}))));return r=!0,$(),function(){s(p),d()}})).subscribe}}var Ot,St;!function(t){t.UNDERCOVER="Undercover",t.MR_WHITE="Mr. White",t.OTHER="Civilian"}(Ot||(Ot={})),function(t){t.LOBBY="LOBBY",t.PLAYING="PLAYING",t.VOTING="VOTING",t.FINISHED_VOTING="FINISHED_VOTING",t.DRAW_VOTE="DRAW_VOTE",t.MR_WHITE_GUESS_WAITING="MR_WHITE_GUESS_WAITING",t.WON="WON",t.LOST="LOST"}(St||(St={}));const It=kt([]),Tt=kt(""),Rt=kt(0),Mt=kt(0),Vt=kt(!1),Nt=kt("init"),Lt=kt("init"),Wt=kt([]),Gt=kt(""),At=kt([]),Ht=kt(0),Dt=kt({turn:0,result:"DRAW",gameState:St.PLAYING}),Pt=kt([]),Ut=Ct(Nt,(t=>""===t)),qt=Ct([Pt,Tt],(([t,e])=>-1!==t.indexOf(e))),Bt=Ct([At,Tt],(([t,e])=>-1!==t.indexOf(e))),zt=Ct([At,It],(([t,e])=>e.filter((e=>-1===t.indexOf(e))))),jt=Ct(Wt,(t=>new Set(t.reduce(((t,e)=>t.concat(e[1].map((t=>t.toLowerCase())))),[])))),Yt=Ct([Gt,Tt],(([t,e])=>t===e));console.log('{"env":{"VERCEL":"1","VERCEL_ENV":"development","VERCEL_URL":"","VERCEL_GIT_PROVIDER":"","VERCEL_GIT_REPO_SLUG":"","VERCEL_GIT_REPO_OWNER":"","VERCEL_GIT_REPO_ID":"","VERCEL_GIT_COMMIT_REF":"","VERCEL_GIT_COMMIT_SHA":"","VERCEL_GIT_COMMIT_MESSAGE":"","VERCEL_GIT_COMMIT_AUTHOR_LOGIN":"","VERCEL_GIT_COMMIT_AUTHOR_NAME":"","API_URL":"wss://b455891f6f6b.ngrok.io"}} + wss://b455891f6f6b.ngrok.io');const Ft=new WebSocket("ws://localhost:3000");Ft.addEventListener("open",(()=>Vt.set(!0))),Ft.addEventListener("message",(function(t){const e=JSON.parse(t.data);if("player"===e.topic){if("update"===e.subtopic){!function(t){It.set(t.data)}(e)}}else if("settings"===e.topic){!function(t){const e=t.data;Rt.set(e.underCoverCount),Mt.set(e.mrWhiteCount)}(e)}else if("game"===e.topic){if("word"===e.subtopic){const t=e;Nt.set(t.data),Lt.set("started")}else if("update"===e.subtopic){const t=e.data;Wt.set(t.playerToWords),Ht.set(t.turn),Gt.set(t.player),t.state===St.VOTING&&(console.log(`Switching to voting mode!\n        playingState: ${u(Lt)},\n        hasVoted: ${u(qt)},\n        playersWhoVoted: ${u(Pt)}\n        `),Lt.set("voting"))}}else if("vote"===e.topic)if("update"===e.subtopic){const t=e;console.log(`Updating playersWhoVoted ${u(Pt)}`),console.log(`hasVoted ${u(qt)}`),Pt.set(t.data.playersWhoVoted),console.log(`Updated playersWhoVoted ${u(Pt)}`),console.log(`hasVoted ${u(qt)}`),t.data.state!==St.FINISHED_VOTING&&t.data.state!==St.MR_WHITE_GUESS_WAITING||Jt({topic:"vote",subtopic:"result"})}else if("result"===e.subtopic){const t=e;Dt.set(t.data),Lt.set("result")}else if("guess"===e.subtopic){const t=e;let n=u(Dt);n.gameState=t.data,Dt.set(n)}console.log(`Logging stores after message\n  playingState: ${u(Lt)},\n  voteResult: ${JSON.stringify(u(Dt))},\n  currentTurn: ${u(Ht)},\n  playersWhoVoted: ${u(Pt)},\n  votedOutPlayers: ${u(At)},\n  playerLost: ${u(Bt)},\n  `)}));const Jt=t=>{u(Vt)&&Ft.send(JSON.stringify(t))},[Kt,Qt]=function(t){var{fallback:e}=t,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["fallback"]);const o=new Map,s=new Map;function l(t,o,s){return(l,c)=>(t.set(c.key,{rect:l.getBoundingClientRect()}),()=>{if(o.has(c.key)){const{rect:t}=o.get(c.key);return o.delete(c.key),function(t,e,o){const{delay:s=0,duration:l=(t=>30*Math.sqrt(t)),easing:c=bt}=n(n({},r),o),u=e.getBoundingClientRect(),a=t.left-u.left,f=t.top-u.top,d=t.width/u.width,$=t.height/u.height,p=Math.sqrt(a*a+f*f),m=getComputedStyle(e),g="none"===m.transform?"":m.transform,h=+m.opacity;return{delay:s,duration:i(l)?l(p):l,easing:c,css:(t,e)=>`\n\t\t\t\topacity: ${t*h};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${e*a}px,${e*f}px) scale(${t+(1-t)*d}, ${t+(1-t)*$});\n\t\t\t`}}(t,l,c)}return t.delete(c.key),e&&e(l,c,s)})}return[l(s,o,!1),l(o,s,!0)]}({duration:t=>Math.sqrt(200*t),fallback(t){const e=getComputedStyle(t),n="none"===e.transform?"":e.transform;return{duration:600,easing:_t,css:t=>`\n        transform: ${n} scale(${t});\n        opacity: ${t}\n      `}}}),Xt=Kt,Zt=Qt;function te(t,e,n={}){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform,s=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/s,u=(e.from.top-e.to.top)/l,a=Math.sqrt(c*c+u*u),{delay:f=0,duration:d=(t=>120*Math.sqrt(t)),easing:$=bt}=n;return{delay:f,duration:i(d)?d(a):d,easing:$,css:(t,e)=>`transform: ${o} translate(${e*c}px, ${e*u}px);`}}function ee(t,e,n){const r=t.slice();return r[2]=e[n],r}function ne(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function re(e,n){let r,o,s,i,l=n[5]+"",c=t;return{key:e,first:null,c(){r=_("p"),o=w(l),O(r,"class","item svelte-8e6fra"),this.first=r},m(t,e){y(t,r,e),h(r,o)},p(t,e){n=t,1&e&&l!==(l=n[5]+"")&&S(o,l)},r(){i=r.getBoundingClientRect()},f(){G(r),c()},a(){c(),c=W(r,i,te,{})},i(t){s||Y((()=>{s=ct(r,Zt,{key:n[5]}),s.start()}))},o:t,d(t){t&&v(r)}}}function oe(e){let n,r,o,s,i,l,c=ie(e[1],e[2][0])+"",u=[],a=new Map,f=e[2][1];const d=t=>t[5];for(let t=0;t<f.length;t+=1){let n=ne(e,f,t),r=d(n);a.set(r,u[t]=re(r,n))}return{c(){n=_("div"),r=_("div"),o=x(),s=_("p"),s.textContent="* * *",i=x();for(let t=0;t<u.length;t+=1)u[t].c();l=x(),O(s,"class","svelte-8e6fra"),O(n,"class","card svelte-8e6fra")},m(t,e){y(t,n,e),h(n,r),r.innerHTML=c,h(n,o),h(n,s),h(n,i);for(let t=0;t<u.length;t+=1)u[t].m(n,null);h(n,l)},p(t,e){if(3&e&&c!==(c=ie(t[1],t[2][0])+"")&&(r.innerHTML=c),1&e){f=t[2][1];for(let t=0;t<u.length;t+=1)u[t].r();u=$t(u,e,d,1,t,f,a,n,ft,re,l,ne);for(let t=0;t<u.length;t+=1)u[t].a()}},i(t){for(let t=0;t<f.length;t+=1)st(u[t])},o:t,d(t){t&&v(n);for(let t=0;t<u.length;t+=1)u[t].d()}}}function se(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=oe(ee(e,r,t));return{c(){n=_("main");for(let t=0;t<o.length;t+=1)o[t].c();O(n,"class","svelte-8e6fra")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(3&e){let s;for(r=t[0],s=0;s<r.length;s+=1){const i=ee(t,r,s);o[s]?(o[s].p(i,e),st(o[s],1)):(o[s]=oe(i),o[s].c(),st(o[s],1),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},i(t){for(let t=0;t<r.length;t+=1)st(o[t])},o:t,d(t){t&&v(n),b(o,t)}}}function ie(t,e){return-1!==t.indexOf(e)?`<div style="color: grey;"><s>${e}</s></div>`:`<div>${e}</div>`}function le(t,e,n){let r,o;return a(t,Wt,(t=>n(0,r=t))),a(t,At,(t=>n(1,o=t))),[r,o]}class ce extends vt{constructor(t){super(),yt(this,t,le,se,l,{})}}function ue(e){let n,r,o;return{c(){n=_("main"),r=_("h2"),o=w(e[0]),O(r,"class","svelte-1ml2o7h"),O(n,"class","svelte-1ml2o7h")},m(t,e){y(t,n,e),h(n,r),h(r,o)},p(t,[e]){1&e&&S(o,t[0])},i:t,o:t,d(t){t&&v(n)}}}function ae(t,e,n){let r,o,s;return a(t,Gt,(t=>n(1,o=t))),a(t,Tt,(t=>n(2,s=t))),t.$$.update=()=>{var e;2&t.$$.dirty&&n(0,r=s===(e=o)?"It's your turn!":`It's ${e}'s turn`)},[r,o]}class fe extends vt{constructor(t){super(),yt(this,t,ae,ue,l,{})}}function de(e){let n;return{c(){n=_("h2"),n.textContent="You are Mr.White!",O(n,"class","svelte-1gzksqy")},m(t,e){y(t,n,e)},p:t,d(t){t&&v(n)}}}function $e(t){let e,n,r,o;return{c(){e=_("h2"),e.textContent="Your word is",n=x(),r=_("h3"),o=w(t[0]),O(e,"class","svelte-1gzksqy"),O(r,"class","svelte-1gzksqy")},m(t,s){y(t,e,s),y(t,n,s),y(t,r,s),h(r,o)},p(t,e){1&e&&S(o,t[0])},d(t){t&&v(e),t&&v(n),t&&v(r)}}}function pe(e){let n;function r(t,e){return t[0]?$e:de}let o=r(e),s=o(e);return{c(){n=_("main"),s.c()},m(t,e){y(t,n,e),s.m(n,null)},p(t,[e]){o===(o=r(t))&&s?s.p(t,e):(s.d(1),s=o(t),s&&(s.c(),s.m(n,null)))},i:t,o:t,d(t){t&&v(n),s.d()}}}function me(t,e,n){let r;return a(t,Nt,(t=>n(0,r=t))),[r]}class ge extends vt{constructor(t){super(),yt(this,t,me,pe,l,{})}}function he(e){let n,r,o,i,l,c,u,a;return{c(){n=_("main"),r=_("input"),o=x(),i=_("button"),l=w("Submit"),O(r,"type","text"),O(r,"placeholder",e[3]),O(r,"class","svelte-prh7qb"),i.disabled=c=!e[1],O(i,"class","svelte-prh7qb"),O(n,"class","svelte-prh7qb")},m(t,s){y(t,n,s),h(n,r),e[9](r),I(r,e[2]),h(n,o),h(n,i),h(i,l),u||(a=[k(r,"input",e[10]),k(r,"keyup",C(e[5])),k(i,"click",e[4])],u=!0)},p(t,[e]){8&e&&O(r,"placeholder",t[3]),4&e&&r.value!==t[2]&&I(r,t[2]),2&e&&c!==(c=!t[1])&&(i.disabled=c)},i:t,o:t,d(t){t&&v(n),e[9](null),u=!1,s(a)}}}function ye(t,e,n){let r,o,s,i,l;a(t,Ut,(t=>n(7,o=t))),a(t,Nt,(t=>n(8,s=t))),a(t,Yt,(t=>n(1,i=t))),a(t,jt,(t=>n(11,l=t)));let c,u="",f=!1;function d(){const t=u.trim();t.length>0&&(l.has(t.toLowerCase())?alert(`${t} has already been used!`):Jt({topic:"game",subtopic:"add",data:t}),n(2,u=""))}return D((()=>n(6,f=!0))),t.$$.update=()=>{384&t.$$.dirty&&n(3,r=o?"Try to describe..":`Describe ${s}`),67&t.$$.dirty&&i&&f&&c.focus()},[c,i,u,r,d,function(){"Enter"===event.code&&d()},f,o,s,function(t){U[t?"unshift":"push"]((()=>{c=t,n(0,c)}))},function(){u=this.value,n(2,u)}]}class ve extends vt{constructor(t){super(),yt(this,t,ye,he,l,{})}}function be(t){const e=kt(t);let n=t;return{state:e,transitionTo:function(t){n!==t&&(n=t,e.set(null))},onOutro:function(){e.set(n)}}}function _e(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function we(t){let e,n,r,o,s,i,l=t[5]+"";function c(){return t[4](t[5])}return{c(){e=_("p"),n=_("button"),r=w(l),o=x(),O(n,"class","svelte-1ci3dly")},m(t,l){y(t,e,l),h(e,n),h(n,r),h(e,o),s||(i=k(n,"click",c),s=!0)},p(e,n){t=e,1&n&&l!==(l=t[5]+"")&&S(r,l)},d(t){t&&v(e),s=!1,i()}}}function xe(t,e){let n,r,o=e[5]!==e[1]&&we(e);return{key:t,first:null,c(){n=E(),o&&o.c(),r=E(),this.first=n},m(t,e){y(t,n,e),o&&o.m(t,e),y(t,r,e)},p(t,n){(e=t)[5]!==e[1]?o?o.p(e,n):(o=we(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&v(n),o&&o.d(t),t&&v(r)}}}function Ee(e){let n,r,o,s=[],i=new Map,l=e[0];const c=t=>t[5];for(let t=0;t<l.length;t+=1){let n=_e(e,l,t),r=c(n);i.set(r,s[t]=xe(r,n))}return{c(){n=_("main"),r=_("h2"),r.textContent="Vote against",o=x();for(let t=0;t<s.length;t+=1)s[t].c();O(r,"class","svelte-1ci3dly")},m(t,e){y(t,n,e),h(n,r),h(n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){7&e&&(l=t[0],s=$t(s,e,c,1,t,l,i,n,at,xe,null,_e))},i:t,o:t,d(t){t&&v(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function ke(t,e,n){let r,o,s;function i(t){Jt({topic:"vote",subtopic:"against",data:t})}a(t,zt,(t=>n(3,o=t))),a(t,Tt,(t=>n(1,s=t)));return t.$$.update=()=>{8&t.$$.dirty&&n(0,r=o)},[r,s,i,o,t=>i(t)]}class Ce extends vt{constructor(t){super(),yt(this,t,ke,Ee,l,{})}}function Oe(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function Se(e,n){let r,o,s,i,l,c,u=`${n[2]} `,a=t;return{key:e,first:null,c(){r=_("div"),o=w(u),O(r,"class","item svelte-1ko2p7z"),this.first=r},m(t,e){y(t,r,e),h(r,o),c=!0},p(t,e){n=t,(!c||1&e)&&u!==(u=`${n[2]} `)&&S(o,u)},r(){l=r.getBoundingClientRect()},f(){G(r),a(),A(r,l)},a(){a(),a=W(r,l,te,{})},i(t){c||(Y((()=>{i&&i.end(1),s||(s=ct(r,Zt,{key:n[2]})),s.start()})),c=!0)},o(t){s&&s.invalidate(),i=ut(r,Xt,{key:n[2]}),c=!1},d(t){t&&v(r),t&&i&&i.end()}}}function Ie(t){let e,n,r,o,s,i,l,c=[],u=new Map,a=t[0];const f=t=>t[2];for(let e=0;e<a.length;e+=1){let n=Oe(t,a,e),r=f(n);u.set(r,c[e]=Se(r,n))}return{c(){e=_("main"),n=_("h2"),r=w(t[1]),o=x(),s=_("br"),i=x();for(let t=0;t<c.length;t+=1)c[t].c();O(n,"class","svelte-1ko2p7z"),O(e,"class","svelte-1ko2p7z")},m(t,u){y(t,e,u),h(e,n),h(n,r),h(e,o),h(e,s),h(e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);l=!0},p(t,[n]){if((!l||2&n)&&S(r,t[1]),1&n){a=t[0],rt();for(let t=0;t<c.length;t+=1)c[t].r();c=$t(c,n,f,1,t,a,u,e,dt,Se,null,Oe);for(let t=0;t<c.length;t+=1)c[t].a();ot()}},i(t){if(!l){for(let t=0;t<a.length;t+=1)st(c[t]);l=!0}},o(t){for(let t=0;t<c.length;t+=1)it(c[t]);l=!1},d(t){t&&v(e);for(let t=0;t<c.length;t+=1)c[t].d()}}}function Te(t,e,n){let r,o;return a(t,Pt,(t=>n(0,o=t))),t.$$.update=()=>{1&t.$$.dirty&&n(1,r=o.length>0?"Has voted: ":"Nobody has voted yet ðŸ¤·â€â™‚ï¸")},[o,r]}class Re extends vt{constructor(t){super(),yt(this,t,Te,Ie,l,{})}}function Me(e){let n;return{c(){n=_("h2"),n.textContent="Waiting for vote completion..",O(n,"class","svelte-ydyzfp")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class Ve extends vt{constructor(t){super(),yt(this,t,null,Me,l,{})}}function Ne(e){let n,r,o,s=e[1](e[0])+"";return{c(){n=_("main"),r=_("div"),o=w(s),O(r,"class","end svelte-8u94d1")},m(t,e){y(t,n,e),h(n,r),h(r,o)},p(t,[e]){1&e&&s!==(s=t[1](t[0])+"")&&S(o,s)},i:t,o:t,d(t){t&&v(n)}}}function Le(t,e,n){let r,o;return a(t,Dt,(t=>n(2,o=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,r=o.gameState)},[r,function(t){const e="won the game!";return t===St.WON?`Cilivians ${e}`:`Vilains ${e}`},o]}class We extends vt{constructor(t){super(),yt(this,t,Le,Ne,l,{})}}function Ge(e){let n,r,o,i,l,c,u,a;return{c(){n=_("main"),r=_("h3"),r.textContent="Try to guess the word to win!",o=x(),i=_("input"),l=x(),c=_("button"),c.textContent="Guess",O(r,"class","svelte-rkg4x0"),O(i,"type","text")},m(t,s){y(t,n,s),h(n,r),h(n,o),h(n,i),I(i,e[0]),h(n,l),h(n,c),u||(a=[k(i,"input",e[3]),k(i,"keyup",C(e[2])),k(c,"click",e[1])],u=!0)},p(t,[e]){1&e&&i.value!==t[0]&&I(i,t[0])},i:t,o:t,d(t){t&&v(n),u=!1,s(a)}}}function Ae(t,e,n){let r="";function o(){const t=r.trim();t.length>0&&Jt({topic:"vote",subtopic:"guess",data:t})}return[r,o,function(){"Enter"===event.code&&o()},function(){r=this.value,n(0,r)}]}class He extends vt{constructor(t){super(),yt(this,t,Ae,Ge,l,{})}}function De(t,e,n){const r=t.slice();return r[14]=e[n],r}function Pe(t){let e,n,r=`${t[14][0]}: ${t[14][1]}`;return{c(){e=_("p"),n=w(r),O(e,"class","svelte-1kvarbr")},m(t,r){y(t,e,r),h(e,n)},p(t,e){2&e&&r!==(r=`${t[14][0]}: ${t[14][1]}`)&&S(n,r)},d(t){t&&v(e)}}}function Ue(t){let e,n,r,o;const s=[ze,Be],i=[];function l(t,e){return t[3]!==t[6]?0:1}return e=l(t),n=i[e]=s[e](t),{c(){n.c(),r=E()},m(t,n){i[e].m(t,n),y(t,r,n),o=!0},p(t,o){let c=e;e=l(t),e!==c&&(rt(),it(i[c],1,1,(()=>{i[c]=null})),ot(),n=i[e],n||(n=i[e]=s[e](t),n.c()),st(n,1),n.m(r.parentNode,r))},i(t){o||(st(n),o=!0)},o(t){it(n),o=!1},d(t){i[e].d(t),t&&v(r)}}}function qe(e){let n,r;return n=new We({}),{c(){pt(n.$$.fragment)},m(t,e){mt(n,t,e),r=!0},p:t,i(t){r||(st(n.$$.fragment,t),r=!0)},o(t){it(n.$$.fragment,t),r=!1},d(t){gt(n,t)}}}function Be(t){let e,n;return e=new He({}),{c(){pt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function ze(e){let n;return{c(){n=_("h3"),n.textContent="Waiting for Mr white's guess...",O(n,"class","svelte-1kvarbr")},m(t,e){y(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function je(t){let e,n,r,o,s,i,l,c,u,a,f,d,$,p,m,g,E,C,I,T,R,M,V=t[1],N=[];for(let e=0;e<V.length;e+=1)N[e]=Pe(De(t,V,e));const L=[qe,Ue],W=[];function G(t,e){return 1&e&&(d=!!t[8](t[0])),d?0:t[5]?1:-1}return~($=G(t,-1))&&(p=W[$]=L[$](t)),{c(){e=_("main"),n=_("h2"),n.textContent="Vote result",r=x();for(let t=0;t<N.length;t+=1)N[t].c();o=x(),s=_("br"),i=x(),l=_("br"),c=x(),u=_("h3"),a=w(t[2]),f=x(),p&&p.c(),m=x(),g=_("br"),E=x(),C=_("button"),I=w(t[4]),O(n,"class","svelte-1kvarbr"),O(u,"class","svelte-1kvarbr"),C.disabled=t[5]},m(d,p){y(d,e,p),h(e,n),h(e,r);for(let t=0;t<N.length;t+=1)N[t].m(e,null);h(e,o),h(e,s),h(e,i),h(e,l),h(e,c),h(e,u),h(u,a),h(e,f),~$&&W[$].m(e,null),h(e,m),h(e,g),h(e,E),h(e,C),h(C,I),T=!0,R||(M=k(C,"click",t[11]),R=!0)},p(t,[n]){if(2&n){let r;for(V=t[1],r=0;r<V.length;r+=1){const s=De(t,V,r);N[r]?N[r].p(s,n):(N[r]=Pe(s),N[r].c(),N[r].m(e,o))}for(;r<N.length;r+=1)N[r].d(1);N.length=V.length}(!T||4&n)&&S(a,t[2]);let r=$;$=G(t,n),$===r?~$&&W[$].p(t,n):(p&&(rt(),it(W[r],1,1,(()=>{W[r]=null})),ot()),~$?(p=W[$],p?p.p(t,n):(p=W[$]=L[$](t),p.c()),st(p,1),p.m(e,m)):p=null),(!T||16&n)&&S(I,t[4]),(!T||32&n)&&(C.disabled=t[5])},i(t){T||(st(p),T=!0)},o(t){it(p),T=!1},d(t){t&&v(e),b(N,t),~$&&W[$].d(),R=!1,M()}}}function Ye(t,e,n){let r,o,s,i,l,c,u,f,d,$;function p(t){r?Lt.set("voting"):m(t)?(Jt({topic:"game",subtopic:"start"}),Lt.set("started")):(Jt({topic:"game",subtopic:"update"}),At.set([...d,f.playerOut]),Lt.set("started"))}a(t,Dt,(t=>n(10,f=t))),a(t,At,(t=>n(12,d=t))),a(t,Tt,(t=>n(6,$=t)));const m=t=>t===St.WON||t===St.LOST;D((()=>{Pt.set([])}));return t.$$.update=()=>{1024&t.$$.dirty&&n(9,r="DRAW"===f.result),1024&t.$$.dirty&&n(1,o=f.voteDetails),1536&t.$$.dirty&&n(2,s=r?"It is a draw! ðŸ™ƒ":`${f.playerOut} (${f.playerOutRole}) has been eliminated! â˜ ï¸`),1024&t.$$.dirty&&n(0,i=f.gameState),1024&t.$$.dirty&&n(3,l=f.playerOut),1025&t.$$.dirty&&n(4,c=function(t,e){return m(t)?"Play again":"DRAW"===e?"Vote again!":"Next turn"}(i,f.result)),1&t.$$.dirty&&n(5,u=i===St.MR_WHITE_GUESS_WAITING),1&t.$$.dirty&&m(i)&&At.set([])},[i,o,s,l,c,u,$,p,m,r,f,()=>p(i)]}class Fe extends vt{constructor(t){super(),yt(this,t,Ye,je,l,{})}}function Je(t){let e,n,r,o,s,i,l,c,u,a,f=!t[1]&&Ke();return r=new Re({}),s=new ce({}),{c(){e=_("div"),f&&f.c(),n=x(),pt(r.$$.fragment),o=x(),pt(s.$$.fragment)},m(i,l){y(i,e,l),f&&f.m(e,null),h(e,n),mt(r,e,null),h(e,o),mt(s,e,null),c=!0,u||(a=k(e,"outroend",t[2]),u=!0)},p(t,r){t[1]?f&&(rt(),it(f,1,1,(()=>{f=null})),ot()):f?2&r&&st(f,1):(f=Ke(),f.c(),st(f,1),f.m(e,n))},i(t){c||(st(f),st(r.$$.fragment,t),st(s.$$.fragment,t),Y((()=>{l&&l.end(1),i||(i=ct(e,wt,{})),i.start()})),c=!0)},o(t){it(f),it(r.$$.fragment,t),it(s.$$.fragment,t),i&&i.invalidate(),l=ut(e,wt,{}),c=!1},d(t){t&&v(e),f&&f.d(),gt(r),gt(s),t&&l&&l.end(),u=!1,a()}}}function Ke(t){let e,n;return e=new Ce({}),{c(){pt(e.$$.fragment)},m(t,r){mt(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function Qe(e){let n,r,o,s,i,l,c,u,a;return r=new Ve({}),s=new Re({}),{c(){n=_("div"),pt(r.$$.fragment),o=x(),pt(s.$$.fragment)},m(t,i){y(t,n,i),mt(r,n,null),h(n,o),mt(s,n,null),c=!0,u||(a=k(n,"outroend",e[2]),u=!0)},p:t,i(t){c||(st(r.$$.fragment,t),st(s.$$.fragment,t),Y((()=>{l&&l.end(1),i||(i=ct(n,wt,{})),i.start()})),c=!0)},o(t){it(r.$$.fragment,t),it(s.$$.fragment,t),i&&i.invalidate(),l=ut(n,wt,{}),c=!1},d(t){t&&v(n),gt(r),gt(s),t&&l&&l.end(),u=!1,a()}}}function Xe(e){let n,r,o,s,i,l,c;return r=new Fe({}),{c(){n=_("div"),pt(r.$$.fragment)},m(t,o){y(t,n,o),mt(r,n,null),i=!0,l||(c=k(n,"outroend",e[2]),l=!0)},p:t,i(t){i||(st(r.$$.fragment,t),Y((()=>{s&&s.end(1),o||(o=ct(n,wt,{})),o.start()})),i=!0)},o(t){it(r.$$.fragment,t),o&&o.invalidate(),s=ut(n,wt,{}),i=!1},d(t){t&&v(n),gt(r),t&&s&&s.end(),l=!1,c()}}}function Ze(t){let e,n,r,o,s="init"===t[0]&&Je(t),i="voted"===t[0]&&Qe(t),l="result"===t[0]&&Xe(t);return{c(){e=_("main"),s&&s.c(),n=x(),i&&i.c(),r=x(),l&&l.c()},m(t,c){y(t,e,c),s&&s.m(e,null),h(e,n),i&&i.m(e,null),h(e,r),l&&l.m(e,null),o=!0},p(t,[o]){"init"===t[0]?s?(s.p(t,o),1&o&&st(s,1)):(s=Je(t),s.c(),st(s,1),s.m(e,n)):s&&(rt(),it(s,1,1,(()=>{s=null})),ot()),"voted"===t[0]?i?(i.p(t,o),1&o&&st(i,1)):(i=Qe(t),i.c(),st(i,1),i.m(e,r)):i&&(rt(),it(i,1,1,(()=>{i=null})),ot()),"result"===t[0]?l?(l.p(t,o),1&o&&st(l,1)):(l=Xe(t),l.c(),st(l,1),l.m(e,null)):l&&(rt(),it(l,1,1,(()=>{l=null})),ot())},i(t){o||(st(s),st(i),st(l),o=!0)},o(t){it(s),it(i),it(l),o=!1},d(t){t&&v(e),s&&s.d(),i&&i.d(),l&&l.d()}}}function tn(t,e,n){let r,o,s,i,l;a(t,Lt,(t=>n(4,r=t))),a(t,qt,(t=>n(5,o=t))),a(t,Pt,(t=>n(6,s=t))),a(t,Bt,(t=>n(1,l=t)));const{onOutro:c,transitionTo:u,state:f}=be("init");return a(t,f,(t=>n(0,i=t))),t.$$.update=()=>{112&t.$$.dirty&&("voting"!==r||o?"result"===r?(console.log("Showing result!!"),u("result")):(console.log(`$hasVoted: ${o}, playingState: ${r}.\n    $playersWhoVoted: ${s}`),console.log("has voted!!"),u("voted")):(console.log("Vote init!!"),u("init")))},[i,l,c,f,r,o,s]}class en extends vt{constructor(t){super(),yt(this,t,tn,Ze,l,{})}}function nn(e){let n;return{c(){n=_("h2"),n.textContent="Waiting for game to complete..",O(n,"class","svelte-dk8aud")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class rn extends vt{constructor(t){super(),yt(this,t,null,nn,l,{})}}function on(e){let n,r,o;return{c(){n=_("button"),n.textContent="Skip word"},m(t,s){y(t,n,s),r||(o=k(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&v(n),r=!1,o()}}}function sn(t){return[function(){Jt({topic:"game",subtopic:"start"})}]}class ln extends vt{constructor(t){super(),yt(this,t,sn,on,l,{})}}function cn(e){let n,r,o,s,i,l,c,u,a,f,d,$,p,m,g;return r=new ge({}),s=new fe({}),l=new ve({}),f=new ln({}),{c(){n=_("div"),pt(r.$$.fragment),o=x(),pt(s.$$.fragment),i=x(),pt(l.$$.fragment),c=x(),u=_("br"),a=x(),pt(f.$$.fragment)},m(t,d){y(t,n,d),mt(r,n,null),h(n,o),mt(s,n,null),h(n,i),mt(l,n,null),h(n,c),h(n,u),h(n,a),mt(f,n,null),p=!0,m||(g=k(n,"outroend",e[2]),m=!0)},p:t,i(t){p||(st(r.$$.fragment,t),st(s.$$.fragment,t),st(l.$$.fragment,t),st(f.$$.fragment,t),Y((()=>{$&&$.end(1),d||(d=ct(n,xt,{y:500,duration:300})),d.start()})),p=!0)},o(t){it(r.$$.fragment,t),it(s.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),d&&d.invalidate(),$=ut(n,xt,{y:500,duration:300}),p=!1},d(t){t&&v(n),gt(r),gt(s),gt(l),gt(f),t&&$&&$.end(),m=!1,g()}}}function un(t){let e,n,r,o,s,i,l,c,u,a,f,d;const $=[fn,an],p=[];function m(t,e){return t[1]?0:1}return n=m(t),r=p[n]=$[n](t),l=new ce({}),{c(){e=_("div"),r.c(),o=x(),s=_("br"),i=x(),pt(l.$$.fragment)},m(r,c){y(r,e,c),p[n].m(e,null),h(e,o),h(e,s),h(e,i),mt(l,e,null),a=!0,f||(d=k(e,"outroend",t[2]),f=!0)},p(t,s){let i=n;n=m(t),n!==i&&(rt(),it(p[i],1,1,(()=>{p[i]=null})),ot(),r=p[n],r||(r=p[n]=$[n](t),r.c()),st(r,1),r.m(e,o))},i(t){a||(st(r),st(l.$$.fragment,t),Y((()=>{u&&u.end(1),c||(c=ct(e,xt,{y:500,duration:300})),c.start()})),a=!0)},o(t){it(r),it(l.$$.fragment,t),c&&c.invalidate(),u=ut(e,xt,{y:500,duration:300}),a=!1},d(t){t&&v(e),p[n].d(),gt(l),t&&u&&u.end(),f=!1,d()}}}function an(t){let e,n,r,o,s,i;return e=new ge({}),r=new fe({}),s=new ve({}),{c(){pt(e.$$.fragment),n=x(),pt(r.$$.fragment),o=x(),pt(s.$$.fragment)},m(t,l){mt(e,t,l),y(t,n,l),mt(r,t,l),y(t,o,l),mt(s,t,l),i=!0},i(t){i||(st(e.$$.fragment,t),st(r.$$.fragment,t),st(s.$$.fragment,t),i=!0)},o(t){it(e.$$.fragment,t),it(r.$$.fragment,t),it(s.$$.fragment,t),i=!1},d(t){gt(e,t),t&&v(n),gt(r,t),t&&v(o),gt(s,t)}}}function fn(t){let e,n,r,o,s,i;return e=new rn({}),r=new ge({}),s=new fe({}),{c(){pt(e.$$.fragment),n=x(),pt(r.$$.fragment),o=x(),pt(s.$$.fragment)},m(t,l){mt(e,t,l),y(t,n,l),mt(r,t,l),y(t,o,l),mt(s,t,l),i=!0},i(t){i||(st(e.$$.fragment,t),st(r.$$.fragment,t),st(s.$$.fragment,t),i=!0)},o(t){it(e.$$.fragment,t),it(r.$$.fragment,t),it(s.$$.fragment,t),i=!1},d(t){gt(e,t),t&&v(n),gt(r,t),t&&v(o),gt(s,t)}}}function dn(e){let n,r,o,s,i,l,c;return r=new en({}),{c(){n=_("div"),pt(r.$$.fragment)},m(t,o){y(t,n,o),mt(r,n,null),i=!0,l||(c=k(n,"outroend",e[2]),l=!0)},p:t,i(t){i||(st(r.$$.fragment,t),Y((()=>{s&&s.end(1),o||(o=ct(n,xt,{y:500,duration:300})),o.start()})),i=!0)},o(t){it(r.$$.fragment,t),o&&o.invalidate(),s=ut(n,xt,{y:500,duration:300}),i=!1},d(t){t&&v(n),gt(r),t&&s&&s.end(),l=!1,c()}}}function $n(t){let e,n,r,o,s="first"===t[0]&&cn(t),i="started"===t[0]&&un(t),l="voting"===t[0]&&dn(t);return{c(){e=_("main"),s&&s.c(),n=x(),i&&i.c(),r=x(),l&&l.c()},m(t,c){y(t,e,c),s&&s.m(e,null),h(e,n),i&&i.m(e,null),h(e,r),l&&l.m(e,null),o=!0},p(t,[o]){"first"===t[0]?s?(s.p(t,o),1&o&&st(s,1)):(s=cn(t),s.c(),st(s,1),s.m(e,n)):s&&(rt(),it(s,1,1,(()=>{s=null})),ot()),"started"===t[0]?i?(i.p(t,o),1&o&&st(i,1)):(i=un(t),i.c(),st(i,1),i.m(e,r)):i&&(rt(),it(i,1,1,(()=>{i=null})),ot()),"voting"===t[0]?l?(l.p(t,o),1&o&&st(l,1)):(l=dn(t),l.c(),st(l,1),l.m(e,null)):l&&(rt(),it(l,1,1,(()=>{l=null})),ot())},i(t){o||(st(s),st(i),st(l),o=!0)},o(t){it(s),it(i),it(l),o=!1},d(t){t&&v(e),s&&s.d(),i&&i.d(),l&&l.d()}}}function pn(t,e,n){let r,o,s,i;a(t,Lt,(t=>n(4,r=t))),a(t,Ht,(t=>n(5,o=t))),a(t,Bt,(t=>n(1,i=t)));const{onOutro:l,transitionTo:c,state:u}=be("first");return a(t,u,(t=>n(0,s=t))),t.$$.update=()=>{48&t.$$.dirty&&("voting"===r?(console.log("voting"),c(r)):0===o?(console.log("first"),c("first")):"started"===r?(console.log("started"),c(r)):console.log(`I'm nowhere...\n    $playingState ${r},\n    $playingState ${o},\n    `))},[s,i,l,u,r,o]}class mn extends vt{constructor(t){super(),yt(this,t,pn,$n,l,{})}}function gn(e){let n,r,o,l,c,u,a,f,d,$,p,m,g,b;return{c(){n=_("main"),r=_("h1"),r.textContent="Undercover",o=x(),l=_("h2"),l.textContent="Input your name",c=x(),u=_("br"),a=x(),f=_("input"),d=x(),$=_("br"),p=x(),m=_("button"),m.textContent="OK",O(r,"class","svelte-4ra9uf"),O(l,"class","svelte-4ra9uf"),O(f,"type","text"),O(f,"size","15"),O(f,"class","svelte-4ra9uf"),O(m,"class","svelte-4ra9uf")},m(s,v){var _;y(s,n,v),h(n,r),h(n,o),h(n,l),h(n,c),h(n,u),h(n,a),h(n,f),I(f,e[0]),h(n,d),h(n,$),h(n,p),h(n,m),g||(b=[(_=hn.call(null,f),_&&i(_.destroy)?_.destroy:t),k(f,"input",e[5]),k(f,"keyup",C(e[2])),k(m,"click",e[1])],g=!0)},p(t,[e]){1&e&&f.value!==t[0]&&I(f,t[0])},i:t,o:t,d(t){t&&v(n),g=!1,s(b)}}}function hn(t){t.focus()}function yn(t,e,n){let r,o,s;a(t,It,(t=>n(3,o=t))),a(t,Vt,(t=>n(4,s=t)));let i="";function l(){i.length>0&&(-1===r.indexOf(i)?(Jt(function(t){return{topic:"player",subtopic:"add",data:t}}(i)),Tt.set(i)):alert("This name has already been picked!"))}return t.$$.update=()=>{8&t.$$.dirty&&(r=o),16&t.$$.dirty&&s&&Jt({topic:"player",subtopic:"get"})},[i,l,function(){"Enter"===event.code&&l()},o,s,function(){i=this.value,n(0,i)}]}class vn extends vt{constructor(t){super(),yt(this,t,yn,gn,l,{})}}function bn(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function _n(e,n){let r,o,s,i,l,c,u,a=xn(n[1],n[3])+"",f=t;return{key:e,first:null,c(){r=_("p"),s=x(),o=new T(s),this.first=r},m(t,e){y(t,r,e),o.m(a,r),h(r,s),u=!0},p(t,e){n=t,(!u||3&e)&&a!==(a=xn(n[1],n[3])+"")&&o.p(a)},r(){c=r.getBoundingClientRect()},f(){G(r),f(),A(r,c)},a(){f(),f=W(r,c,te,{})},i(t){u||(Y((()=>{l&&l.end(1),i||(i=ct(r,Zt,{key:n[1]})),i.start()})),u=!0)},o(t){i&&i.invalidate(),l=ut(r,Xt,{key:n[1]}),u=!1},d(t){t&&v(r),t&&l&&l.end()}}}function wn(t){let e,n,r,o,s=[],i=new Map,l=t[0];const c=t=>t[3];for(let e=0;e<l.length;e+=1){let n=bn(t,l,e),r=c(n);i.set(r,s[e]=_n(r,n))}return{c(){e=_("main"),n=_("h2"),n.textContent="Connected players",r=x();for(let t=0;t<s.length;t+=1)s[t].c();O(n,"class","svelte-dk8aud")},m(t,i){y(t,e,i),h(e,n),h(e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);o=!0},p(t,[n]){if(3&n){l=t[0],rt();for(let t=0;t<s.length;t+=1)s[t].r();s=$t(s,n,c,1,t,l,i,e,dt,_n,null,bn);for(let t=0;t<s.length;t+=1)s[t].a();ot()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)st(s[t]);o=!0}},o(t){for(let t=0;t<s.length;t+=1)it(s[t]);o=!1},d(t){t&&v(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function xn(t,e){return t===e?`<b> ${e} <b>`:e}function En(t,e,n){let r,o,s;return a(t,It,(t=>n(2,o=t))),a(t,Tt,(t=>n(1,s=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,r=o)},[r,s,o]}class kn extends vt{constructor(t){super(),yt(this,t,En,wn,l,{})}}function Cn(e){let n,r,o,i,l,c,u,a,f,d,$,p,m,g,b,E,C,I,T,R,M,V;return{c(){n=_("main"),r=_("h2"),r.textContent="Settings",o=x(),i=_("p"),i.textContent="Undercover",l=x(),c=_("button"),c.textContent="<",u=x(),a=_("div"),f=w(e[0]),d=x(),$=_("button"),$.textContent=">",p=x(),m=_("p"),m.textContent="Mr White",g=x(),b=_("button"),b.textContent="<",E=x(),C=_("div"),I=w(e[1]),T=x(),R=_("button"),R.textContent=">",O(r,"class","svelte-15h6cuf"),O(c,"class","svelte-15h6cuf"),O(a,"class","svelte-15h6cuf"),O($,"class","svelte-15h6cuf"),O(b,"class","svelte-15h6cuf"),O(C,"class","svelte-15h6cuf"),O(R,"class","svelte-15h6cuf"),O(n,"class","svelte-15h6cuf")},m(t,s){y(t,n,s),h(n,r),h(n,o),h(n,i),h(n,l),h(n,c),h(n,u),h(n,a),h(a,f),h(n,d),h(n,$),h(n,p),h(n,m),h(n,g),h(n,b),h(n,E),h(n,C),h(C,I),h(n,T),h(n,R),M||(V=[k(c,"click",e[3]),k($,"click",e[4]),k(b,"click",e[5]),k(R,"click",e[6])],M=!0)},p(t,[e]){1&e&&S(f,t[0]),2&e&&S(I,t[1])},i:t,o:t,d(t){t&&v(n),M=!1,s(V)}}}function On(t,e,n){let r,o;function s(t,e){Jt({topic:"settings",subtopic:t,data:e})}a(t,Rt,(t=>n(0,r=t))),a(t,Mt,(t=>n(1,o=t))),D((()=>{Jt({topic:"settings",subtopic:"get"})}));return[r,o,s,()=>s("undercover","decrement"),()=>s("undercover","increment"),()=>s("white","decrement"),()=>s("white","increment")]}class Sn extends vt{constructor(t){super(),yt(this,t,On,Cn,l,{})}}function In(e){let n,r,o,s;return{c(){n=_("button"),r=w("Start"),n.disabled=e[0]},m(t,i){y(t,n,i),h(n,r),o||(s=k(n,"click",e[1]),o=!0)},p(t,[e]){1&e&&(n.disabled=t[0])},i:t,o:t,d(t){t&&v(n),o=!1,s()}}}function Tn(t,e,n){let r,o,s,i,l;return a(t,It,(t=>n(3,s=t))),a(t,Rt,(t=>n(4,i=t))),a(t,Mt,(t=>n(5,l=t))),t.$$.update=()=>{8&t.$$.dirty&&n(2,r=s.length),52&t.$$.dirty&&n(0,o=!function(t,e,n){let r=t+e;return!(n<3||0===r||r>=n)&&n-r>=2}(i,l,r))},[o,function(){Jt({topic:"game",subtopic:"start"})},r,s,i,l]}class Rn extends vt{constructor(t){super(),yt(this,t,Tn,In,l,{})}}function Mn(e){let n,r,o,s,i,l;return r=new vn({}),{c(){n=_("div"),pt(r.$$.fragment)},m(t,o){y(t,n,o),mt(r,n,null),s=!0,i||(l=k(n,"outroend",e[2]),i=!0)},p:t,i(t){s||(st(r.$$.fragment,t),o&&o.end(1),s=!0)},o(t){it(r.$$.fragment,t),o=ut(n,xt,{y:500,duration:300}),s=!1},d(t){t&&v(n),gt(r),t&&o&&o.end(),i=!1,l()}}}function Vn(e){let n,r,o,s,i,l,c,u,a,f,d,$,p,m;return r=new Sn({}),l=new Rn({}),f=new kn({}),{c(){n=_("div"),pt(r.$$.fragment),o=x(),s=_("br"),i=x(),pt(l.$$.fragment),c=x(),u=_("br"),a=x(),pt(f.$$.fragment)},m(t,d){y(t,n,d),mt(r,n,null),h(n,o),h(n,s),h(n,i),mt(l,n,null),h(n,c),h(n,u),h(n,a),mt(f,n,null),$=!0,p||(m=k(n,"outroend",e[2]),p=!0)},p:t,i(t){$||(st(r.$$.fragment,t),st(l.$$.fragment,t),st(f.$$.fragment,t),d||Y((()=>{d=ct(n,xt,{y:500,duration:500}),d.start()})),$=!0)},o(t){it(r.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),$=!1},d(t){t&&v(n),gt(r),gt(l),gt(f),p=!1,m()}}}function Nn(t){let e,n,r,o="init"===t[1]&&Mn(t),s=t[1]===t[0]&&Vn(t);return{c(){e=_("main"),o&&o.c(),n=x(),s&&s.c()},m(t,i){y(t,e,i),o&&o.m(e,null),h(e,n),s&&s.m(e,null),r=!0},p(t,[r]){"init"===t[1]?o?(o.p(t,r),2&r&&st(o,1)):(o=Mn(t),o.c(),st(o,1),o.m(e,n)):o&&(rt(),it(o,1,1,(()=>{o=null})),ot()),t[1]===t[0]?s?(s.p(t,r),3&r&&st(s,1)):(s=Vn(t),s.c(),st(s,1),s.m(e,null)):s&&(rt(),it(s,1,1,(()=>{s=null})),ot())},i(t){r||(st(o),st(s),r=!0)},o(t){it(o),it(s),r=!1},d(t){t&&v(e),o&&o.d(),s&&s.d()}}}function Ln(t,e,n){let r,o;a(t,Tt,(t=>n(0,r=t)));const{onOutro:s,transitionTo:i,state:l}=be("init");return a(t,l,(t=>n(1,o=t))),t.$$.update=()=>{1&t.$$.dirty&&r&&i(r)},[r,o,s,l]}class Wn extends vt{constructor(t){super(),yt(this,t,Ln,Nn,l,{})}}function Gn(e){let n,r,o,s,i,l;return r=new Wn({}),{c(){n=_("div"),pt(r.$$.fragment)},m(t,o){y(t,n,o),mt(r,n,null),s=!0,i||(l=k(n,"outroend",e[1]),i=!0)},p:t,i(t){s||(st(r.$$.fragment,t),o&&o.end(1),s=!0)},o(t){it(r.$$.fragment,t),o=ut(n,xt,{y:500,duration:300}),s=!1},d(t){t&&v(n),gt(r),t&&o&&o.end(),i=!1,l()}}}function An(e){let n,r,o,s,i,l;return r=new mn({}),{c(){n=_("div"),pt(r.$$.fragment)},m(t,o){y(t,n,o),mt(r,n,null),s=!0,i||(l=k(n,"outroend",e[1]),i=!0)},p:t,i(t){s||(st(r.$$.fragment,t),o||Y((()=>{o=ct(n,xt,{y:500,duration:500}),o.start()})),s=!0)},o(t){it(r.$$.fragment,t),s=!1},d(t){t&&v(n),gt(r),i=!1,l()}}}function Hn(t){let e,n,r,o="init"===t[0]&&Gn(t),s="started"===t[0]&&An(t);return{c(){e=_("main"),o&&o.c(),n=x(),s&&s.c(),O(e,"class","svelte-yg16s0")},m(t,i){y(t,e,i),o&&o.m(e,null),h(e,n),s&&s.m(e,null),r=!0},p(t,[r]){"init"===t[0]?o?(o.p(t,r),1&r&&st(o,1)):(o=Gn(t),o.c(),st(o,1),o.m(e,n)):o&&(rt(),it(o,1,1,(()=>{o=null})),ot()),"started"===t[0]?s?(s.p(t,r),1&r&&st(s,1)):(s=An(t),s.c(),st(s,1),s.m(e,null)):s&&(rt(),it(s,1,1,(()=>{s=null})),ot())},i(t){r||(st(o),st(s),r=!0)},o(t){it(o),it(s),r=!1},d(t){t&&v(e),o&&o.d(),s&&s.d()}}}function Dn(t,e,n){let r,o;a(t,Lt,(t=>n(3,r=t)));const{onOutro:s,transitionTo:i,state:l}=be("init");return a(t,l,(t=>n(0,o=t))),t.$$.update=()=>{8&t.$$.dirty&&"started"===r&&i("started")},[o,s,l,r]}return new class extends vt{constructor(t){super(),yt(this,t,Dn,Hn,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
