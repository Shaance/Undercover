var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function c(t){let n;return u(t,(t=>n=t))(),n}function a(t,n,e){t.$$.on_destroy.push(u(n,e))}function f(n){return n&&i(n.destroy)?n.destroy:t}const d="undefined"!=typeof window;let m=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):t;const $=new Set;function g(t){$.forEach((n=>{n.c(t)||($.delete(n),n.f())})),0!==$.size&&p(g)}function h(t){let n;return 0===$.size&&p(g),{promise:new Promise((e=>{$.add(n={c:t,f:e})})),abort(){$.delete(n)}}}function v(t,n){t.appendChild(n)}function y(t,n,e){t.insertBefore(n,e||null)}function b(t){t.parentNode.removeChild(t)}function w(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function x(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function C(){return _(" ")}function I(){return _("")}function S(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function T(t){return function(n){return n.preventDefault(),t.call(this,n)}}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function O(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function E(t,n){t.value=null==n?"":n}class R{constructor(t=null){this.a=t,this.e=this.n=null}m(t,n,e=null){this.e||(this.e=x(n.nodeName),this.t=n,this.h(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)y(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(b)}}const W=new Set;let M,N=0;function A(t,n,e,o,r,s,i,l=0){const u=16.666/o;let c="{\n";for(let t=0;t<=1;t+=u){const o=n+(e-n)*s(t);c+=100*t+`%{${i(o,1-o)}}\n`}const a=c+`100% {${i(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${l}`,d=t.ownerDocument;W.add(d);const m=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(x("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,m.insertRule(`@keyframes ${f} ${a}`,m.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${f} ${o}ms linear ${r}ms 1 both`,N+=1,f}function L(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),r=e.length-o.length;r&&(t.style.animation=o.join(", "),N-=r,N||p((()=>{N||(W.forEach((t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}})),W.clear())})))}function P(e,o,r,s){if(!o)return t;const i=e.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:l=0,duration:u=300,easing:c=n,start:a=m()+l,end:f=a+u,tick:d=t,css:p}=r(e,{from:o,to:i},s);let $,g=!0,v=!1;function y(){p&&L(e,$),g=!1}return h((t=>{if(!v&&t>=a&&(v=!0),v&&t>=f&&(d(1,0),y()),!g)return!1;if(v){const n=0+1*c((t-a)/u);d(n,1-n)}return!0})),p&&($=A(e,0,1,u,l,c,p)),l||(v=!0),d(0,1),y}function U(t){const n=getComputedStyle(t);if("absolute"!==n.position&&"fixed"!==n.position){const{width:e,height:o}=n,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=e,t.style.height=o,G(t,r)}}function G(t,n){const e=t.getBoundingClientRect();if(n.left!==e.left||n.top!==e.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${n.left-e.left}px, ${n.top-e.top}px)`}}function q(t){M=t}function D(t){(function(){if(!M)throw new Error("Function called outside component initialization");return M})().$$.on_mount.push(t)}const V=[],j=[],H=[],B=[],z=Promise.resolve();let Y=!1;function F(t){H.push(t)}let J=!1;const K=new Set;function Q(){if(!J){J=!0;do{for(let t=0;t<V.length;t+=1){const n=V[t];q(n),X(n.$$)}for(q(null),V.length=0;j.length;)j.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];K.has(n)||(K.add(n),n())}H.length=0}while(V.length);for(;B.length;)B.pop()();Y=!1,J=!1,K.clear()}}function X(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(F)}}let Z;function tt(){return Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z}function nt(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const et=new Set;let ot;function rt(){ot={r:0,c:[],p:ot}}function st(){ot.r||s(ot.c),ot=ot.p}function it(t,n){t&&t.i&&(et.delete(t),t.i(n))}function lt(t,n,e,o){if(t&&t.o){if(et.has(t))return;et.add(t),ot.c.push((()=>{et.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const ut={duration:0};function ct(e,o,r){let s,l,u=o(e,r),c=!1,a=0;function f(){s&&L(e,s)}function d(){const{delay:o=0,duration:r=300,easing:i=n,tick:d=t,css:p}=u||ut;p&&(s=A(e,0,1,r,o,i,p,a++)),d(0,1);const $=m()+o,g=$+r;l&&l.abort(),c=!0,F((()=>nt(e,!0,"start"))),l=h((t=>{if(c){if(t>=g)return d(1,0),nt(e,!0,"end"),f(),c=!1;if(t>=$){const n=i((t-$)/r);d(n,1-n)}}return c}))}let p=!1;return{start(){p||(L(e),i(u)?(u=u(),tt().then(d)):d())},invalidate(){p=!1},end(){c&&(f(),c=!1)}}}function at(e,o,r){let l,u=o(e,r),c=!0;const a=ot;function f(){const{delay:o=0,duration:r=300,easing:i=n,tick:f=t,css:d}=u||ut;d&&(l=A(e,1,0,r,o,i,d));const p=m()+o,$=p+r;F((()=>nt(e,!1,"start"))),h((t=>{if(c){if(t>=$)return f(0,1),nt(e,!1,"end"),--a.r||s(a.c),!1;if(t>=p){const n=i((t-p)/r);f(1-n,n)}}return c}))}return a.r+=1,i(u)?tt().then((()=>{u=u(),f()})):f(),{end(t){t&&u.tick&&u.tick(1,0),c&&(l&&L(e,l),c=!1)}}}function ft(t,n){t.d(1),n.delete(t.key)}function dt(t,n){lt(t,1,1,(()=>{n.delete(t.key)}))}function mt(t,n){t.f(),ft(t,n)}function pt(t,n){t.f(),dt(t,n)}function $t(t,n,e,o,r,s,i,l,u,c,a,f){let d=t.length,m=s.length,p=d;const $={};for(;p--;)$[t[p].key]=p;const g=[],h=new Map,v=new Map;for(p=m;p--;){const t=f(r,s,p),l=e(t);let u=i.get(l);u?o&&u.p(t,n):(u=c(l,t),u.c()),h.set(l,g[p]=u),l in $&&v.set(l,Math.abs(p-$[l]))}const y=new Set,b=new Set;function w(t){it(t,1),t.m(l,a),i.set(t.key,t),a=t.first,m--}for(;d&&m;){const n=g[m-1],e=t[d-1],o=n.key,r=e.key;n===e?(a=n.first,d--,m--):h.has(r)?!i.has(o)||y.has(o)?w(n):b.has(r)?d--:v.get(o)>v.get(r)?(b.add(o),w(n)):(y.add(r),d--):(u(e,i),d--)}for(;d--;){const n=t[d];h.has(n.key)||u(n,i)}for(;m;)w(g[m-1]);return g}function gt(t){t&&t.c()}function ht(t,n,e){const{fragment:r,on_mount:l,on_destroy:u,after_update:c}=t.$$;r&&r.m(n,e),F((()=>{const n=l.map(o).filter(i);u?u.push(...n):s(n),t.$$.on_mount=[]})),c.forEach(F)}function vt(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function yt(t,n){-1===t.$$.dirty[0]&&(V.push(t),Y||(Y=!0,z.then(Q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function bt(n,e,o,i,l,u,c=[-1]){const a=M;q(n);const f=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=o?o(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return f.ctx&&l(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&yt(n,t)),e})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();e.intro&&it(n.$$.fragment),ht(n,e.target,e.anchor),Q()}q(a)}class wt{$destroy(){vt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function xt(t){const n=1.70158;return--t*t*((n+1)*t+n)+1}function _t(t){const n=t-1;return n*n*n+1}function Ct(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function It(t,{delay:e=0,duration:o=400,easing:r=n}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:r,css:t=>"opacity: "+t*s}}function St(t,{delay:n=0,duration:e=400,easing:o=_t,x:r=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(t),u=+l.opacity,c="none"===l.transform?"":l.transform,a=u*(1-i);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${u-a*n}`}}const Tt=[];function kt(n,e=t){let o;const r=[];function s(t){if(l(n,t)&&(n=t,o)){const t=!Tt.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),Tt.push(e,n)}if(t){for(let t=0;t<Tt.length;t+=2)Tt[t][0](Tt[t+1]);Tt.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(i,l=t){const u=[i,l];return r.push(u),1===r.length&&(o=e(s)||t),i(n),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function Ot(n,e,o){const r=!Array.isArray(n),l=r?[n]:n,c=e.length<2;return a=n=>{let o=!1;const a=[];let f=0,d=t;const m=()=>{if(f)return;d();const o=e(r?a[0]:a,n);c?n(o):d=i(o)?o:t},p=l.map(((t,n)=>u(t,(t=>{a[n]=t,f&=~(1<<n),o&&m()}),(()=>{f|=1<<n}))));return o=!0,m(),function(){s(p),d()}},{subscribe:kt(o,a).subscribe};var a}function Et(t,n){return{topic:"player",subtopic:"add",data:t,roomId:n}}function Rt(t){return{topic:"game",subtopic:"start",roomId:t}}var Wt,Mt,Nt,At,Lt;!function(t){t.UNDERCOVER="Undercover",t.MR_WHITE="Mr. White",t.OTHER="Civilian"}(Wt||(Wt={})),function(t){t.LOBBY="LOBBY",t.PLAYING="PLAYING",t.VOTING="VOTING",t.FINISHED_VOTING="FINISHED_VOTING",t.DRAW_VOTE="DRAW_VOTE",t.MR_WHITE_GUESS_WAITING="MR_WHITE_GUESS_WAITING",t.WON="WON",t.LOST="LOST"}(Mt||(Mt={}));const Pt=kt([]),Ut=kt(null!==(Nt=localStorage.getItem("playerId"))&&void 0!==Nt?Nt:""),Gt=kt(!1),qt=kt(""),Dt=kt(0),Vt=kt(0),jt=kt(!1),Ht=kt("init"),Bt=kt("init"),zt=kt([]),Yt=kt(""),Ft=kt([]),Jt=kt(0),Kt=kt({turn:0,result:"DRAW",gameState:Mt.PLAYING}),Qt=kt([]),Xt=Ot(Ht,(t=>""===t)),Zt=Ot([Qt,Ut],(([t,n])=>-1!==t.indexOf(n))),tn=Ot([Ft,Ut],(([t,n])=>-1!==t.indexOf(n))),nn=Ot([Ft,Pt],(([t,n])=>n.filter((n=>-1===t.indexOf(n))))),en=Ot(zt,(t=>{const n=t.map((([t,n])=>n.map((t=>t.toLowerCase())))).reduce(((t,n)=>(n.forEach((n=>t.push(n))),t)),[]);return new Set(n)})),on=Ot([Yt,Ut],(([t,n])=>t===n)),rn=null!==(Lt=null===(At=null=={env:{WS_API_URL:"ws://localhost:8080",REST_API_URL:"http://localhost:8081"}}?void 0:{WS_API_URL:"ws://localhost:8080",REST_API_URL:"http://localhost:8081"})||void 0===At?void 0:At.WS_API_URL)&&void 0!==Lt?Lt:"ws://localhost:8080",sn=new WebSocket(rn);sn.addEventListener("open",(()=>jt.set(!0))),sn.addEventListener("message",(function(t){const n=JSON.parse(t.data);if((null==n?void 0:n.roomId)!=c(qt))return void console.log("Not the same roomId ignore message");if("player"===n.topic){if("update"===n.subtopic){!function(t){Pt.set(t.data)}(n)}}else if("settings"===n.topic){!function(t){const n=t.data;Dt.set(n.underCoverCount),Vt.set(n.mrWhiteCount)}(n)}else if("game"===n.topic){if("word"===n.subtopic){const t=n;Ht.set(t.data),Bt.set("started")}else if("update"===n.subtopic){const t=n.data;zt.set(t.playerToWords),Jt.set(t.turn),Yt.set(t.player),t.state===Mt.VOTING&&Bt.set("voting")}}else if("vote"===n.topic)if("update"===n.subtopic){const t=n;Qt.set(t.data.playersWhoVoted),t.data.state!==Mt.FINISHED_VOTING&&t.data.state!==Mt.MR_WHITE_GUESS_WAITING||ln(function(t){return{topic:"vote",subtopic:"result",roomId:t}}(c(qt)))}else if("result"===n.subtopic){const t=n;Kt.set(t.data),Bt.set("result")}else if("guess"===n.subtopic){const t=n;let e=c(Kt);e.gameState=t.data,Kt.set(e)}}));const ln=t=>{c(jt)&&sn.send(JSON.stringify(t))},[un,cn]=function(t){var{fallback:n}=t,o=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e}(t,["fallback"]);const r=new Map,s=new Map;function l(t,r,s){return(l,u)=>(t.set(u.key,{rect:l.getBoundingClientRect()}),()=>{if(r.has(u.key)){const{rect:t}=r.get(u.key);return r.delete(u.key),function(t,n,r){const{delay:s=0,duration:l=(t=>30*Math.sqrt(t)),easing:u=_t}=e(e({},o),r),c=n.getBoundingClientRect(),a=t.left-c.left,f=t.top-c.top,d=t.width/c.width,m=t.height/c.height,p=Math.sqrt(a*a+f*f),$=getComputedStyle(n),g="none"===$.transform?"":$.transform,h=+$.opacity;return{delay:s,duration:i(l)?l(p):l,easing:u,css:(t,n)=>`\n\t\t\t\topacity: ${t*h};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${n*a}px,${n*f}px) scale(${t+(1-t)*d}, ${t+(1-t)*m});\n\t\t\t`}}(t,l,u)}return t.delete(u.key),n&&n(l,u,s)})}return[l(s,r,!1),l(r,s,!0)]}({duration:t=>Math.sqrt(200*t),fallback(t){const n=getComputedStyle(t),e="none"===n.transform?"":n.transform;return{duration:600,easing:Ct,css:t=>`\n        transform: ${e} scale(${t});\n        opacity: ${t}\n      `}}}),an=un,fn=cn;function dn(t,n,e={}){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform,s=n.from.width/t.clientWidth,l=n.from.height/t.clientHeight,u=(n.from.left-n.to.left)/s,c=(n.from.top-n.to.top)/l,a=Math.sqrt(u*u+c*c),{delay:f=0,duration:d=(t=>120*Math.sqrt(t)),easing:m=_t}=e;return{delay:f,duration:i(d)?d(a):d,easing:m,css:(t,n)=>`transform: ${r} translate(${n*u}px, ${n*c}px);`}}function mn(t,n,e){const o=t.slice();return o[2]=n[e],o}function pn(t,n,e){const o=t.slice();return o[5]=n[e],o[7]=e,o}function $n(n,e){let o,r,s,i,l=e[5]+"",u=t;return{key:n,first:null,c(){o=x("p"),r=_(l),k(o,"class","item svelte-bbogq"),this.first=o},m(t,n){y(t,o,n),v(o,r)},p(t,n){e=t,1&n&&l!==(l=e[5]+"")&&O(r,l)},r(){i=o.getBoundingClientRect()},f(){U(o),u()},a(){u(),u=P(o,i,dn,{})},i(t){s||F((()=>{s=ct(o,fn,{key:e[5]}),s.start()}))},o:t,d(t){t&&b(o)}}}function gn(n){let e,o,r,s,i,l,u=vn(n[1],n[2][0])+"",c=[],a=new Map,f=n[2][1];const d=t=>t[5];for(let t=0;t<f.length;t+=1){let e=pn(n,f,t),o=d(e);a.set(o,c[t]=$n(o,e))}return{c(){e=x("div"),o=x("div"),r=C(),s=x("p"),s.textContent="* * *",i=C();for(let t=0;t<c.length;t+=1)c[t].c();l=C(),k(s,"class","svelte-bbogq"),k(e,"class","card svelte-bbogq")},m(t,n){y(t,e,n),v(e,o),o.innerHTML=u,v(e,r),v(e,s),v(e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);v(e,l)},p(t,n){if(3&n&&u!==(u=vn(t[1],t[2][0])+"")&&(o.innerHTML=u),1&n){f=t[2][1];for(let t=0;t<c.length;t+=1)c[t].r();c=$t(c,n,d,1,t,f,a,e,mt,$n,l,pn);for(let t=0;t<c.length;t+=1)c[t].a()}},i(t){for(let t=0;t<f.length;t+=1)it(c[t])},o:t,d(t){t&&b(e);for(let t=0;t<c.length;t+=1)c[t].d()}}}function hn(n){let e,o=n[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=gn(mn(n,o,t));return{c(){e=x("main");for(let t=0;t<r.length;t+=1)r[t].c();k(e,"class","svelte-bbogq")},m(t,n){y(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,[n]){if(3&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=mn(t,o,s);r[s]?(r[s].p(i,n),it(r[s],1)):(r[s]=gn(i),r[s].c(),it(r[s],1),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i(t){for(let t=0;t<o.length;t+=1)it(r[t])},o:t,d(t){t&&b(e),w(r,t)}}}function vn(t,n){return-1!==t.indexOf(n)?`<div style="color: grey;"><s>${n}</s></div>`:`<div>${n}</div>`}function yn(t,n,e){let o,r;return a(t,zt,(t=>e(0,o=t))),a(t,Ft,(t=>e(1,r=t))),[o,r]}class bn extends wt{constructor(t){super(),bt(this,t,yn,hn,l,{})}}function wn(n){let e,o,r;return{c(){e=x("main"),o=x("h2"),r=_(n[0]),k(o,"class","svelte-1449bxe")},m(t,n){y(t,e,n),v(e,o),v(o,r)},p(t,[n]){1&n&&O(r,t[0])},i:t,o:t,d(t){t&&b(e)}}}function xn(t,n,e){let o,r,s;return a(t,Yt,(t=>e(1,r=t))),a(t,Ut,(t=>e(2,s=t))),t.$$.update=()=>{var n;2&t.$$.dirty&&e(0,o=s===(n=r)?"It's your turn!":`It's ${n}'s turn`)},[o,r]}class _n extends wt{constructor(t){super(),bt(this,t,xn,wn,l,{})}}function Cn(n){let e;return{c(){e=x("h2"),e.textContent="You are Mr.White!",k(e,"class","blue-main svelte-1pmn7x5")},m(t,n){y(t,e,n)},p:t,d(t){t&&b(e)}}}function In(t){let n,e,o,r;return{c(){n=x("h2"),n.textContent="Your word is",e=C(),o=x("h3"),r=_(t[0]),k(n,"class","blue-main svelte-1pmn7x5"),k(o,"class","svelte-1pmn7x5")},m(t,s){y(t,n,s),y(t,e,s),y(t,o,s),v(o,r)},p(t,n){1&n&&O(r,t[0])},d(t){t&&b(n),t&&b(e),t&&b(o)}}}function Sn(n){let e;function o(t,n){return t[0]?In:Cn}let r=o(n),s=r(n);return{c(){e=x("main"),s.c()},m(t,n){y(t,e,n),s.m(e,null)},p(t,[n]){r===(r=o(t))&&s?s.p(t,n):(s.d(1),s=r(t),s&&(s.c(),s.m(e,null)))},i:t,o:t,d(t){t&&b(e),s.d()}}}function Tn(t,n,e){let o;return a(t,Ht,(t=>e(0,o=t))),[o]}class kn extends wt{constructor(t){super(),bt(this,t,Tn,Sn,l,{})}}function On(t,n,e){const o=t.slice();return o[5]=n[e],o}function En(t,n){let e,o,r,s,i,l,u=n[5].msg+"";return{key:t,first:null,c(){e=x("div"),o=_(u),r=C(),k(e,"class","toast-item svelte-1awg690"),this.first=e},m(t,n){y(t,e,n),v(e,o),v(e,r),l=!0},p(t,e){n=t,(!l||1&e)&&u!==(u=n[5].msg+"")&&O(o,u)},i(t){l||(F((()=>{i&&i.end(1),s||(s=ct(e,St,{delay:0,duration:300,x:0,y:50,opacity:.1,easing:xt})),s.start()})),l=!0)},o(t){s&&s.invalidate(),i=at(e,It,{duration:500,opacity:0}),l=!1},d(t){t&&b(e),t&&i&&i.end()}}}function Rn(t){let n,e,o=[],r=new Map,s=t[0];const i=t=>t[5]._id;for(let n=0;n<s.length;n+=1){let e=On(t,s,n),l=i(e);r.set(l,o[n]=En(l,e))}return{c(){n=x("div");for(let t=0;t<o.length;t+=1)o[t].c();k(n,"class","toast-wrapper svelte-1awg690")},m(t,r){y(t,n,r);for(let t=0;t<o.length;t+=1)o[t].m(n,null);e=!0},p(t,[e]){1&e&&(s=t[0],rt(),o=$t(o,e,i,1,t,s,r,n,dt,En,null,On),st())},i(t){if(!e){for(let t=0;t<s.length;t+=1)it(o[t]);e=!0}},o(t){for(let t=0;t<o.length;t+=1)lt(o[t]);e=!1},d(t){t&&b(n);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Wn(t,n,e){let{retainMs:o=1500}=n,r=[],s=0;const i=(t="")=>{e(0,r=[...r,{_id:++s,msg:t}]),setTimeout((()=>{l()}),o)},l=()=>{e(0,r=r.filter(((t,n)=>n>0)))};return D((()=>{window.pushToast=i})),t.$$set=t=>{"retainMs"in t&&e(1,o=t.retainMs)},[r,o]}class Mn extends wt{constructor(t){super(),bt(this,t,Wn,Rn,l,{retainMs:1})}}function Nn(t){let n,e,o,r,i,l,u,c,a,f,d;return c=new Mn({}),{c(){n=x("main"),e=x("input"),o=C(),r=x("button"),i=_("Submit"),u=C(),gt(c.$$.fragment),k(e,"type","text"),k(e,"placeholder",t[3]),k(e,"size","15"),k(e,"class","svelte-1uwyw7p"),k(r,"class","btn btn-light svelte-1uwyw7p"),r.disabled=l=!t[1],k(n,"class","svelte-1uwyw7p")},m(s,l){y(s,n,l),v(n,e),t[9](e),E(e,t[2]),v(n,o),v(n,r),v(r,i),v(n,u),ht(c,n,null),a=!0,f||(d=[S(e,"input",t[10]),S(e,"keyup",T(t[5])),S(r,"click",t[4])],f=!0)},p(t,[n]){(!a||8&n)&&k(e,"placeholder",t[3]),4&n&&e.value!==t[2]&&E(e,t[2]),(!a||2&n&&l!==(l=!t[1]))&&(r.disabled=l)},i(t){a||(it(c.$$.fragment,t),a=!0)},o(t){lt(c.$$.fragment,t),a=!1},d(e){e&&b(n),t[9](null),vt(c),f=!1,s(d)}}}function An(t,n,e){let o,r,s,i,l,u;a(t,Xt,(t=>e(7,r=t))),a(t,Ht,(t=>e(8,s=t))),a(t,on,(t=>e(1,i=t))),a(t,en,(t=>e(11,l=t))),a(t,qt,(t=>e(12,u=t)));let c,f="",d=!1;function m(){const t=f.trim();i?t.length>0?(l.has(t.toLowerCase())?window.pushToast(`${t} has already been used!`):ln(function(t,n){return{topic:"game",subtopic:"add",data:t,roomId:n}}(t,u)),e(2,f="")):window.pushToast("Not a very clear description ðŸ‘€"):window.pushToast("Not your turn yet ðŸ¤·â€â™‚ï¸")}return D((()=>e(6,d=!0))),t.$$.update=()=>{384&t.$$.dirty&&e(3,o=r?"Try to describe..":`Describe ${s}`),67&t.$$.dirty&&i&&d&&c.focus()},[c,i,f,o,m,function(){"Enter"===event.code&&m()},d,r,s,function(t){j[t?"unshift":"push"]((()=>{c=t,e(0,c)}))},function(){f=this.value,e(2,f)}]}class Ln extends wt{constructor(t){super(),bt(this,t,An,Nn,l,{})}}function Pn(t){const n=kt(t);let e=t;return{state:n,transitionTo:function(t){e!==t&&(e=t,n.set(null))},onOutro:function(){n.set(e)}}}function Un(t,n,e){const o=t.slice();return o[6]=n[e],o[8]=e,o}function Gn(t){let n,e,o,r,s,i,l=t[6]+"";function u(){return t[4](t[6])}return{c(){n=x("p"),e=x("button"),o=_(l),r=C(),k(e,"class","btn btn-light svelte-1xhqqj1")},m(t,l){y(t,n,l),v(n,e),v(e,o),v(n,r),s||(i=S(e,"click",u),s=!0)},p(n,e){t=n,1&e&&l!==(l=t[6]+"")&&O(o,l)},d(t){t&&b(n),s=!1,i()}}}function qn(t,n){let e,o,r=n[6]!==n[1]&&Gn(n);return{key:t,first:null,c(){e=I(),r&&r.c(),o=I(),this.first=e},m(t,n){y(t,e,n),r&&r.m(t,n),y(t,o,n)},p(t,e){(n=t)[6]!==n[1]?r?r.p(n,e):(r=Gn(n),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(t){t&&b(e),r&&r.d(t),t&&b(o)}}}function Dn(n){let e,o,r,s=[],i=new Map,l=n[0];const u=t=>t[6];for(let t=0;t<l.length;t+=1){let e=Un(n,l,t),o=u(e);i.set(o,s[t]=qn(o,e))}return{c(){e=x("main"),o=x("h2"),o.textContent="Vote against",r=C();for(let t=0;t<s.length;t+=1)s[t].c();k(o,"class","blue-main svelte-1xhqqj1")},m(t,n){y(t,e,n),v(e,o),v(e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,[n]){7&n&&(l=t[0],s=$t(s,n,u,1,t,l,i,e,ft,qn,null,Un))},i:t,o:t,d(t){t&&b(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Vn(t,n,e){let o,r,s,i;function l(t){ln(function(t,n){return{topic:"vote",subtopic:"against",data:t,roomId:n}}(t,s))}a(t,nn,(t=>e(3,r=t))),a(t,qt,(t=>e(5,s=t))),a(t,Ut,(t=>e(1,i=t)));return t.$$.update=()=>{8&t.$$.dirty&&e(0,o=r)},[o,i,l,r,t=>l(t)]}class jn extends wt{constructor(t){super(),bt(this,t,Vn,Dn,l,{})}}function Hn(t,n,e){const o=t.slice();return o[2]=n[e],o[4]=e,o}function Bn(n,e){let o,r,s,i,l,u,c,a=e[2]+"",f=t;return{key:n,first:null,c(){o=x("div"),r=_(a),s=C(),k(o,"class","item svelte-12trl76"),this.first=o},m(t,n){y(t,o,n),v(o,r),v(o,s),c=!0},p(t,n){e=t,(!c||1&n)&&a!==(a=e[2]+"")&&O(r,a)},r(){u=o.getBoundingClientRect()},f(){U(o),f(),G(o,u)},a(){f(),f=P(o,u,dn,{})},i(t){c||(F((()=>{l&&l.end(1),i||(i=ct(o,fn,{key:e[2]})),i.start()})),c=!0)},o(t){i&&i.invalidate(),l=at(o,an,{key:e[2]}),c=!1},d(t){t&&b(o),t&&l&&l.end()}}}function zn(t){let n,e,o,r,s,i=[],l=new Map,u=t[0];const c=t=>t[2];for(let n=0;n<u.length;n+=1){let e=Hn(t,u,n),o=c(e);l.set(o,i[n]=Bn(o,e))}return{c(){n=x("main"),e=x("h2"),o=_(t[1]),r=C();for(let t=0;t<i.length;t+=1)i[t].c();k(e,"class","blue-main svelte-12trl76"),k(n,"class","svelte-12trl76")},m(t,l){y(t,n,l),v(n,e),v(e,o),v(n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);s=!0},p(t,[e]){if((!s||2&e)&&O(o,t[1]),1&e){u=t[0],rt();for(let t=0;t<i.length;t+=1)i[t].r();i=$t(i,e,c,1,t,u,l,n,pt,Bn,null,Hn);for(let t=0;t<i.length;t+=1)i[t].a();st()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)it(i[t]);s=!0}},o(t){for(let t=0;t<i.length;t+=1)lt(i[t]);s=!1},d(t){t&&b(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Yn(t,n,e){let o,r;return a(t,Qt,(t=>e(0,r=t))),t.$$.update=()=>{1&t.$$.dirty&&e(1,o=r.length>0?"Has voted: ":"Nobody has voted yet ðŸ¤·â€â™‚ï¸")},[r,o]}class Fn extends wt{constructor(t){super(),bt(this,t,Yn,zn,l,{})}}function Jn(n){let e;return{c(){e=x("h2"),e.textContent="Waiting for vote completion..",k(e,"class","blue-main svelte-1dyuhm8")},m(t,n){y(t,e,n)},p:t,i:t,o:t,d(t){t&&b(e)}}}class Kn extends wt{constructor(t){super(),bt(this,t,null,Jn,l,{})}}function Qn(t){let n,e,o=`Undercover word was: ${t[2]}`;return{c(){n=x("p"),e=_(o),k(n,"class","words svelte-1n02f2z")},m(t,o){y(t,n,o),v(n,e)},p(t,n){4&n&&o!==(o=`Undercover word was: ${t[2]}`)&&O(e,o)},d(t){t&&b(n)}}}function Xn(n){let e,o,r,s,i,l,u,c,a=`Good word was: ${n[1]}`,f=n[4](n[0])+"",d=n[3]>0&&Qn(n);return{c(){e=x("main"),o=x("div"),r=x("p"),s=_(a),i=C(),d&&d.c(),l=C(),u=x("p"),c=_(f),k(r,"class","words svelte-1n02f2z"),k(u,"class","end-text svelte-1n02f2z"),k(o,"class","end svelte-1n02f2z")},m(t,n){y(t,e,n),v(e,o),v(o,r),v(r,s),v(o,i),d&&d.m(o,null),v(o,l),v(o,u),v(u,c)},p(t,[n]){2&n&&a!==(a=`Good word was: ${t[1]}`)&&O(s,a),t[3]>0?d?d.p(t,n):(d=Qn(t),d.c(),d.m(o,l)):d&&(d.d(1),d=null),1&n&&f!==(f=t[4](t[0])+"")&&O(c,f)},i:t,o:t,d(t){t&&b(e),d&&d.d()}}}function Zn(t,n,e){let o,r,s,i,l;return a(t,Kt,(t=>e(5,i=t))),a(t,Dt,(t=>e(3,l=t))),t.$$.update=()=>{32&t.$$.dirty&&e(0,o=i.gameState),32&t.$$.dirty&&e(1,r=i.goodWord),32&t.$$.dirty&&e(2,s=i.undercoverWord)},[o,r,s,l,function(t){const n="won the game!";return t===Mt.WON?`Cilivians ${n}`:`Vilains ${n}`},i]}class te extends wt{constructor(t){super(),bt(this,t,Zn,Xn,l,{})}}function ne(n){let e,o,r,i,l,u,c,a;return{c(){e=x("main"),o=x("h3"),o.textContent="Try to guess the word to win!",r=C(),i=x("input"),l=C(),u=x("button"),u.textContent="Guess",k(o,"class","svelte-rkg4x0"),k(i,"type","text"),k(i,"size","15"),k(u,"class","btn btn-light")},m(t,s){y(t,e,s),v(e,o),v(e,r),v(e,i),E(i,n[0]),v(e,l),v(e,u),c||(a=[f(ee.call(null,i)),S(i,"input",n[3]),S(i,"keyup",T(n[2])),S(u,"click",n[1])],c=!0)},p(t,[n]){1&n&&i.value!==t[0]&&E(i,t[0])},i:t,o:t,d(t){t&&b(e),c=!1,s(a)}}}function ee(t){t.focus()}function oe(t,n,e){let o;a(t,qt,(t=>e(4,o=t)));let r="";function s(){const t=r.trim();t.length>0&&ln(function(t,n){return{topic:"vote",subtopic:"guess",data:t,roomId:n}}(t,o))}return[r,s,function(){"Enter"===event.code&&s()},function(){r=this.value,e(0,r)}]}class re extends wt{constructor(t){super(),bt(this,t,oe,ne,l,{})}}function se(t,n,e){const o=t.slice();return o[15]=n[e][0],o[16]=n[e][1],o}function ie(t){let n,e,o=`${t[15]}: ${Array(t[16]).fill("âŒ").join("")}`;return{c(){n=x("p"),e=_(o),k(n,"class","svelte-ordoxm")},m(t,o){y(t,n,o),v(n,e)},p(t,n){2&n&&o!==(o=`${t[15]}: ${Array(t[16]).fill("âŒ").join("")}`)&&O(e,o)},d(t){t&&b(n)}}}function le(t){let n,e,o,r;const s=[ae,ce],i=[];function l(t,n){return t[3]!==t[6]?0:1}return n=l(t),e=i[n]=s[n](t),{c(){e.c(),o=I()},m(t,e){i[n].m(t,e),y(t,o,e),r=!0},p(t,r){let u=n;n=l(t),n!==u&&(rt(),lt(i[u],1,1,(()=>{i[u]=null})),st(),e=i[n],e||(e=i[n]=s[n](t),e.c()),it(e,1),e.m(o.parentNode,o))},i(t){r||(it(e),r=!0)},o(t){lt(e),r=!1},d(t){i[n].d(t),t&&b(o)}}}function ue(n){let e,o;return e=new te({}),{c(){gt(e.$$.fragment)},m(t,n){ht(e,t,n),o=!0},p:t,i(t){o||(it(e.$$.fragment,t),o=!0)},o(t){lt(e.$$.fragment,t),o=!1},d(t){vt(e,t)}}}function ce(t){let n,e;return n=new re({}),{c(){gt(n.$$.fragment)},m(t,o){ht(n,t,o),e=!0},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){lt(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function ae(n){let e;return{c(){e=x("h3"),e.textContent="Waiting for Mr white's guess...",k(e,"class","svelte-ordoxm")},m(t,n){y(t,e,n)},i:t,o:t,d(t){t&&b(e)}}}function fe(t){let n,e,o,r,s,i,l,u,c,a,f,d,m,p,$,g,h,I,T,E,R,W,M=t[1],N=[];for(let n=0;n<M.length;n+=1)N[n]=ie(se(t,M,n));const A=[ue,le],L=[];function P(t,n){return 1&n&&(d=!!t[8](t[0])),d?0:t[5]?1:-1}return~(m=P(t,-1))&&(p=L[m]=A[m](t)),{c(){n=x("main"),e=x("h2"),e.textContent="Vote result",o=C();for(let t=0;t<N.length;t+=1)N[t].c();r=C(),s=x("br"),i=C(),l=x("br"),u=C(),c=x("h3"),a=_(t[2]),f=C(),p&&p.c(),$=C(),g=x("br"),h=C(),I=x("button"),T=_(t[4]),k(e,"class","blue-main svelte-ordoxm"),k(c,"class","svelte-ordoxm"),k(I,"class","btn btn-light"),I.disabled=t[5]},m(d,p){y(d,n,p),v(n,e),v(n,o);for(let t=0;t<N.length;t+=1)N[t].m(n,null);v(n,r),v(n,s),v(n,i),v(n,l),v(n,u),v(n,c),v(c,a),v(n,f),~m&&L[m].m(n,null),v(n,$),v(n,g),v(n,h),v(n,I),v(I,T),E=!0,R||(W=S(I,"click",t[11]),R=!0)},p(t,[e]){if(2&e){let o;for(M=t[1],o=0;o<M.length;o+=1){const s=se(t,M,o);N[o]?N[o].p(s,e):(N[o]=ie(s),N[o].c(),N[o].m(n,r))}for(;o<N.length;o+=1)N[o].d(1);N.length=M.length}(!E||4&e)&&O(a,t[2]);let o=m;m=P(t,e),m===o?~m&&L[m].p(t,e):(p&&(rt(),lt(L[o],1,1,(()=>{L[o]=null})),st()),~m?(p=L[m],p?p.p(t,e):(p=L[m]=A[m](t),p.c()),it(p,1),p.m(n,$)):p=null),(!E||16&e)&&O(T,t[4]),(!E||32&e)&&(I.disabled=t[5])},i(t){E||(it(p),E=!0)},o(t){lt(p),E=!1},d(t){t&&b(n),w(N,t),~m&&L[m].d(),R=!1,W()}}}function de(t,n,e){let o,r,s,i,l,u,c,f,d,m,p;function $(t){o?Bt.set("voting"):g(t)?(ln(Rt(d)),Bt.set("started")):(ln(function(t){return{topic:"game",subtopic:"update",roomId:t}}(d)),Ft.set([...m,f.playerOut]),Bt.set("started"))}a(t,Kt,(t=>e(10,f=t))),a(t,qt,(t=>e(12,d=t))),a(t,Ft,(t=>e(13,m=t))),a(t,Ut,(t=>e(6,p=t)));const g=t=>t===Mt.WON||t===Mt.LOST;D((()=>{Qt.set([])}));return t.$$.update=()=>{1024&t.$$.dirty&&e(9,o="DRAW"===f.result),1024&t.$$.dirty&&e(1,r=f.voteDetails),1536&t.$$.dirty&&e(2,s=o?"It is a draw! ðŸ™ƒ":`${f.playerOut} (${f.playerOutRole}) has been eliminated! â˜ ï¸`),1024&t.$$.dirty&&e(0,i=f.gameState),1024&t.$$.dirty&&e(3,l=f.playerOut),1025&t.$$.dirty&&e(4,u=function(t,n){return g(t)?"Play again":"DRAW"===n?"Vote again!":"Next turn"}(i,f.result)),1&t.$$.dirty&&e(5,c=i===Mt.MR_WHITE_GUESS_WAITING),1&t.$$.dirty&&g(i)&&Ft.set([])},[i,r,s,l,u,c,p,$,g,o,f,()=>$(i)]}class me extends wt{constructor(t){super(),bt(this,t,de,fe,l,{})}}function pe(n){let e,o,r,s,i,l,u;return o=new me({}),{c(){e=x("div"),gt(o.$$.fragment)},m(t,r){y(t,e,r),ht(o,e,null),i=!0,l||(u=S(e,"outroend",n[2]),l=!0)},p:t,i(t){i||(it(o.$$.fragment,t),F((()=>{s&&s.end(1),r||(r=ct(e,It,{})),r.start()})),i=!0)},o(t){lt(o.$$.fragment,t),r&&r.invalidate(),s=at(e,It,{}),i=!1},d(t){t&&b(e),vt(o),t&&s&&s.end(),l=!1,u()}}}function $e(n){let e,o,r,s,i,l,u,c,a;return o=new Kn({}),s=new Fn({}),{c(){e=x("div"),gt(o.$$.fragment),r=C(),gt(s.$$.fragment)},m(t,i){y(t,e,i),ht(o,e,null),v(e,r),ht(s,e,null),u=!0,c||(a=S(e,"outroend",n[2]),c=!0)},p:t,i(t){u||(it(o.$$.fragment,t),it(s.$$.fragment,t),F((()=>{l&&l.end(1),i||(i=ct(e,It,{})),i.start()})),u=!0)},o(t){lt(o.$$.fragment,t),lt(s.$$.fragment,t),i&&i.invalidate(),l=at(e,It,{}),u=!1},d(t){t&&b(e),vt(o),vt(s),t&&l&&l.end(),c=!1,a()}}}function ge(t){let n,e,o,r,s,i,l,u,c,a,f=!t[1]&&he();return o=new bn({}),s=new Fn({}),{c(){n=x("div"),f&&f.c(),e=C(),gt(o.$$.fragment),r=C(),gt(s.$$.fragment)},m(i,l){y(i,n,l),f&&f.m(n,null),v(n,e),ht(o,n,null),v(n,r),ht(s,n,null),u=!0,c||(a=S(n,"outroend",t[2]),c=!0)},p(t,o){t[1]?f&&(rt(),lt(f,1,1,(()=>{f=null})),st()):f?2&o&&it(f,1):(f=he(),f.c(),it(f,1),f.m(n,e))},i(t){u||(it(f),it(o.$$.fragment,t),it(s.$$.fragment,t),F((()=>{l&&l.end(1),i||(i=ct(n,It,{})),i.start()})),u=!0)},o(t){lt(f),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i&&i.invalidate(),l=at(n,It,{}),u=!1},d(t){t&&b(n),f&&f.d(),vt(o),vt(s),t&&l&&l.end(),c=!1,a()}}}function he(t){let n,e,o,r,s,i;return n=new jn({}),{c(){gt(n.$$.fragment),e=C(),o=x("br"),r=C(),s=x("br")},m(t,l){ht(n,t,l),y(t,e,l),y(t,o,l),y(t,r,l),y(t,s,l),i=!0},i(t){i||(it(n.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),i=!1},d(t){vt(n,t),t&&b(e),t&&b(o),t&&b(r),t&&b(s)}}}function ve(t){let n,e,o,r;const s=[ge,$e,pe],i=[];function l(t,n){return"init"===t[0]?0:"voted"===t[0]?1:"result"===t[0]?2:-1}return~(e=l(t))&&(o=i[e]=s[e](t)),{c(){n=x("main"),o&&o.c()},m(t,o){y(t,n,o),~e&&i[e].m(n,null),r=!0},p(t,[r]){let u=e;e=l(t),e===u?~e&&i[e].p(t,r):(o&&(rt(),lt(i[u],1,1,(()=>{i[u]=null})),st()),~e?(o=i[e],o?o.p(t,r):(o=i[e]=s[e](t),o.c()),it(o,1),o.m(n,null)):o=null)},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(n),~e&&i[e].d()}}}function ye(t,n,e){let o,r,s,i,l;a(t,Bt,(t=>e(4,o=t))),a(t,Zt,(t=>e(5,r=t))),a(t,Qt,(t=>e(6,s=t))),a(t,tn,(t=>e(1,l=t)));const{onOutro:u,transitionTo:c,state:f}=Pn("init");return a(t,f,(t=>e(0,i=t))),t.$$.update=()=>{112&t.$$.dirty&&("voting"!==o||r?"result"===o?(console.log("Showing result!!"),c("result")):(console.log(`$hasVoted: ${r}, playingState: ${o}.\n    $playersWhoVoted: ${s}`),console.log("has voted!!"),c("voted")):(console.log("Vote init!!"),c("init")))},[i,l,u,f,o,r,s]}class be extends wt{constructor(t){super(),bt(this,t,ye,ve,l,{})}}function we(n){let e;return{c(){e=x("h2"),e.textContent="Waiting for game to complete..",k(e,"class","blue-main svelte-1dyuhm8")},m(t,n){y(t,e,n)},p:t,i:t,o:t,d(t){t&&b(e)}}}class xe extends wt{constructor(t){super(),bt(this,t,null,we,l,{})}}function _e(n){let e,o,r;return{c(){e=x("button"),e.textContent="Skip word",k(e,"class","btn btn-light")},m(t,s){y(t,e,s),o||(r=S(e,"click",n[0]),o=!0)},p:t,i:t,o:t,d(t){t&&b(e),o=!1,r()}}}function Ce(t,n,e){let o;return a(t,qt,(t=>e(1,o=t))),[function(){ln(Rt(o))}]}class Ie extends wt{constructor(t){super(),bt(this,t,Ce,_e,l,{})}}function Se(n){let e,o,r,s,i,l,u;return o=new be({}),{c(){e=x("div"),gt(o.$$.fragment)},m(t,r){y(t,e,r),ht(o,e,null),i=!0,l||(u=S(e,"outroend",n[2]),l=!0)},p:t,i(t){i||(it(o.$$.fragment,t),F((()=>{s&&s.end(1),r||(r=ct(e,St,{x:500,duration:500})),r.start()})),i=!0)},o(t){lt(o.$$.fragment,t),r&&r.invalidate(),s=at(e,St,{y:500,duration:500}),i=!1},d(t){t&&b(e),vt(o),t&&s&&s.end(),l=!1,u()}}}function Te(t){let n,e,o,r,s,i,l,u,c,a,f,d;const m=[Ee,Oe],p=[];function $(t,n){return t[1]?0:1}return e=$(t),o=p[e]=m[e](t),l=new bn({}),{c(){n=x("div"),o.c(),r=C(),s=x("br"),i=C(),gt(l.$$.fragment)},m(o,u){y(o,n,u),p[e].m(n,null),v(n,r),v(n,s),v(n,i),ht(l,n,null),a=!0,f||(d=S(n,"outroend",t[2]),f=!0)},p(t,s){let i=e;e=$(t),e!==i&&(rt(),lt(p[i],1,1,(()=>{p[i]=null})),st(),o=p[e],o||(o=p[e]=m[e](t),o.c()),it(o,1),o.m(n,r))},i(t){a||(it(o),it(l.$$.fragment,t),F((()=>{c&&c.end(1),u||(u=ct(n,It,{})),u.start()})),a=!0)},o(t){lt(o),lt(l.$$.fragment,t),u&&u.invalidate(),c=at(n,St,{x:-500,duration:500}),a=!1},d(t){t&&b(n),p[e].d(),vt(l),t&&c&&c.end(),f=!1,d()}}}function ke(n){let e,o,r,s,i,l,u,c,a,f,d,m,p,$,g;return o=new kn({}),s=new _n({}),l=new Ln({}),f=new Ie({}),{c(){e=x("div"),gt(o.$$.fragment),r=C(),gt(s.$$.fragment),i=C(),gt(l.$$.fragment),u=C(),c=x("br"),a=C(),gt(f.$$.fragment)},m(t,d){y(t,e,d),ht(o,e,null),v(e,r),ht(s,e,null),v(e,i),ht(l,e,null),v(e,u),v(e,c),v(e,a),ht(f,e,null),p=!0,$||(g=S(e,"outroend",n[2]),$=!0)},p:t,i(t){p||(it(o.$$.fragment,t),it(s.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),F((()=>{m&&m.end(1),d||(d=ct(e,St,{y:500,duration:500})),d.start()})),p=!0)},o(t){lt(o.$$.fragment,t),lt(s.$$.fragment,t),lt(l.$$.fragment,t),lt(f.$$.fragment,t),d&&d.invalidate(),m=at(e,It,{}),p=!1},d(t){t&&b(e),vt(o),vt(s),vt(l),vt(f),t&&m&&m.end(),$=!1,g()}}}function Oe(t){let n,e,o,r,s,i;return n=new kn({}),o=new _n({}),s=new Ln({}),{c(){gt(n.$$.fragment),e=C(),gt(o.$$.fragment),r=C(),gt(s.$$.fragment)},m(t,l){ht(n,t,l),y(t,e,l),ht(o,t,l),y(t,r,l),ht(s,t,l),i=!0},i(t){i||(it(n.$$.fragment,t),it(o.$$.fragment,t),it(s.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i=!1},d(t){vt(n,t),t&&b(e),vt(o,t),t&&b(r),vt(s,t)}}}function Ee(t){let n,e,o,r,s,i;return n=new xe({}),o=new kn({}),s=new _n({}),{c(){gt(n.$$.fragment),e=C(),gt(o.$$.fragment),r=C(),gt(s.$$.fragment)},m(t,l){ht(n,t,l),y(t,e,l),ht(o,t,l),y(t,r,l),ht(s,t,l),i=!0},i(t){i||(it(n.$$.fragment,t),it(o.$$.fragment,t),it(s.$$.fragment,t),i=!0)},o(t){lt(n.$$.fragment,t),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i=!1},d(t){vt(n,t),t&&b(e),vt(o,t),t&&b(r),vt(s,t)}}}function Re(t){let n,e,o,r;const s=[ke,Te,Se],i=[];function l(t,n){return"first"===t[0]?0:"started"===t[0]?1:"voting"===t[0]?2:-1}return~(e=l(t))&&(o=i[e]=s[e](t)),{c(){n=x("main"),o&&o.c()},m(t,o){y(t,n,o),~e&&i[e].m(n,null),r=!0},p(t,[r]){let u=e;e=l(t),e===u?~e&&i[e].p(t,r):(o&&(rt(),lt(i[u],1,1,(()=>{i[u]=null})),st()),~e?(o=i[e],o?o.p(t,r):(o=i[e]=s[e](t),o.c()),it(o,1),o.m(n,null)):o=null)},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(n),~e&&i[e].d()}}}function We(t,n,e){let o,r,s,i;a(t,Bt,(t=>e(4,o=t))),a(t,Jt,(t=>e(5,r=t))),a(t,tn,(t=>e(1,i=t)));const{onOutro:l,transitionTo:u,state:c}=Pn("first");return a(t,c,(t=>e(0,s=t))),t.$$.update=()=>{48&t.$$.dirty&&("voting"===o?u(o):0===r?u("first"):"started"===o?u(o):console.log(`I'm nowhere...\n    $playingState ${o},\n    $playingState ${r},\n    `))},[s,i,l,c,o,r]}class Me extends wt{constructor(t){super(),bt(this,t,We,Re,l,{})}}function Ne(t){let n,e,o,r,i,l,u,c,a,d,m,p,$,g,h,w,_,I,T,O,R,W,M,N,A,L,P,U,G,q,D,V,j;return q=new Mn({}),{c(){var t,s,f;n=x("main"),e=x("h1"),e.textContent="Undercover",o=C(),r=x("h2"),r.textContent="Choose your name",i=C(),l=x("input"),u=C(),c=x("br"),a=C(),d=x("button"),d.textContent="Create room",m=C(),p=x("br"),$=C(),g=x("br"),h=C(),w=x("br"),_=C(),I=x("h3"),I.textContent="Or",T=C(),O=x("br"),R=C(),W=x("h2"),W.textContent="Join room with code",M=C(),N=x("input"),A=C(),L=x("br"),P=C(),U=x("button"),U.textContent="Join",G=C(),gt(q.$$.fragment),k(e,"class","blue-main svelte-xai2l6"),k(r,"class","svelte-xai2l6"),k(l,"id","name"),k(l,"type","text"),k(l,"size","15"),k(l,"maxlength","15"),k(l,"class","svelte-xai2l6"),k(d,"id","create-room-btn"),k(d,"class","btn btn-light svelte-xai2l6"),k(I,"class","svelte-xai2l6"),k(W,"class","svelte-xai2l6"),k(N,"id","room-id"),k(N,"type","text"),k(N,"size","6"),k(N,"maxlength","5"),t="text-transform",s="uppercase",N.style.setProperty(t,s,f?"important":""),k(N,"class","svelte-xai2l6"),k(U,"id","join-room-btn"),k(U,"class","btn btn-light svelte-xai2l6")},m(s,b){y(s,n,b),v(n,e),v(n,o),v(n,r),v(n,i),v(n,l),E(l,t[0]),v(n,u),v(n,c),v(n,a),v(n,d),v(n,m),v(n,p),v(n,$),v(n,g),v(n,h),v(n,w),v(n,_),v(n,I),v(n,T),v(n,O),v(n,R),v(n,W),v(n,M),v(n,N),E(N,t[1]),v(n,A),v(n,L),v(n,P),v(n,U),v(n,G),ht(q,n,null),D=!0,V||(j=[f(Ae.call(null,l)),S(l,"input",t[4]),S(d,"click",t[2]),S(N,"input",t[5]),S(U,"click",t[3])],V=!0)},p(t,[n]){1&n&&l.value!==t[0]&&E(l,t[0]),2&n&&N.value!==t[1]&&E(N,t[1])},i(t){D||(it(q.$$.fragment,t),D=!0)},o(t){lt(q.$$.fragment,t),D=!1},d(t){t&&b(n),vt(q),V=!1,s(j)}}}function Ae(t){t.focus()}function Le(t,n,e){var o,r,s=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(r,s){function i(t){try{u(o.next(t))}catch(t){s(t)}}function l(t){try{u(o.throw(t))}catch(t){s(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,l)}u((o=o.apply(t,n||[])).next())}))};const i=null!==(r=null===(o=null=={env:{WS_API_URL:"ws://localhost:8080",REST_API_URL:"http://localhost:8081"}}?void 0:{WS_API_URL:"ws://localhost:8080",REST_API_URL:"http://localhost:8081"})||void 0===o?void 0:o.REST_API_URL)&&void 0!==r?r:"http://localhost:8081";let l=c(Ut),u="";function a(t){Ut.set(t),localStorage.setItem("playerId",t),Gt.set(!0)}return[l,u,function(){return s(this,void 0,void 0,(function*(){if(0===l.length)return void window.pushToast("Cannot have empty name");const t=yield fetch(i+"/rooms",{method:"POST"});if(200===t.status){const n=yield t.json();qt.set(n),ln(Et(l,n)),a(l)}else window.pushToast("Server returned an error")}))},function(){return s(this,void 0,void 0,(function*(){if(0===l.length)return void window.pushToast("Cannot have empty name");if(5!==(null==u?void 0:u.length))return void window.pushToast("Room IDs should be of length 5");const t=null==u?void 0:u.toUpperCase(),n=yield fetch(`${i}/rooms/${t}`);if(200===n.status){-1===(yield n.json()).indexOf(l)?(qt.set(t),ln(Et(l,t)),a(l)):window.pushToast("This name already exist")}else 404===n.status?window.pushToast("This room id does not exist!"):window.pushToast("Error connecting to the server")}))},function(){l=this.value,e(0,l)},function(){u=this.value,e(1,u)}]}class Pe extends wt{constructor(t){super(),bt(this,t,Le,Ne,l,{})}}function Ue(t,n,e){const o=t.slice();return o[3]=n[e],o[5]=e,o}function Ge(n,e){let o,r,s,i,l,u,c,a=De(e[1],e[3])+"",f=t;return{key:n,first:null,c(){o=x("p"),s=C(),r=new R(s),this.first=o},m(t,n){y(t,o,n),r.m(a,o),v(o,s),c=!0},p(t,n){e=t,(!c||3&n)&&a!==(a=De(e[1],e[3])+"")&&r.p(a)},r(){u=o.getBoundingClientRect()},f(){U(o),f(),G(o,u)},a(){f(),f=P(o,u,dn,{})},i(t){c||(F((()=>{l&&l.end(1),i||(i=ct(o,fn,{key:e[1]})),i.start()})),c=!0)},o(t){i&&i.invalidate(),l=at(o,an,{key:e[1]}),c=!1},d(t){t&&b(o),t&&l&&l.end()}}}function qe(t){let n,e,o,r,s=[],i=new Map,l=t[0];const u=t=>t[3];for(let n=0;n<l.length;n+=1){let e=Ue(t,l,n),o=u(e);i.set(o,s[n]=Ge(o,e))}return{c(){n=x("main"),e=x("h2"),e.textContent="Connected players",o=C();for(let t=0;t<s.length;t+=1)s[t].c();k(e,"class","blue-main svelte-1fqvwjx")},m(t,i){y(t,n,i),v(n,e),v(n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);r=!0},p(t,[e]){if(3&e){l=t[0],rt();for(let t=0;t<s.length;t+=1)s[t].r();s=$t(s,e,u,1,t,l,i,n,pt,Ge,null,Ue);for(let t=0;t<s.length;t+=1)s[t].a();st()}},i(t){if(!r){for(let t=0;t<l.length;t+=1)it(s[t]);r=!0}},o(t){for(let t=0;t<s.length;t+=1)lt(s[t]);r=!1},d(t){t&&b(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function De(t,n){return t===n?`<b> ${n} <b>`:n}function Ve(t,n,e){let o,r,s;return a(t,Pt,(t=>e(2,r=t))),a(t,Ut,(t=>e(1,s=t))),t.$$.update=()=>{4&t.$$.dirty&&e(0,o=r)},[o,s,r]}class je extends wt{constructor(t){super(),bt(this,t,Ve,qe,l,{})}}function He(n){let e,o,r,i,l,u,c,a,f,d,m,p,$,g,h,w,I,T,E,R,W,M,N,A,L;return{c(){e=x("main"),o=x("h2"),o.textContent="Settings",r=C(),i=x("p"),i.textContent="Undercover",l=C(),u=x("button"),u.textContent="<",c=C(),a=x("div"),f=_(n[0]),d=C(),m=x("button"),m.textContent=">",p=C(),$=x("br"),g=x("br"),h=C(),w=x("p"),w.textContent="Mr White",I=C(),T=x("button"),T.textContent="<",E=C(),R=x("div"),W=_(n[1]),M=C(),N=x("button"),N.textContent=">",k(o,"id","settings-title"),k(o,"class","blue-main svelte-p863gp"),k(u,"class","btn btn-light svelte-p863gp"),k(a,"data-testid","undercoverCount"),k(a,"class","svelte-p863gp"),k(m,"class","btn btn-light svelte-p863gp"),k(T,"class","btn btn-light svelte-p863gp"),k(R,"data-testid","mrWhiteCount"),k(R,"class","svelte-p863gp"),k(N,"class","btn btn-light svelte-p863gp"),k(e,"class","svelte-p863gp")},m(t,s){y(t,e,s),v(e,o),v(e,r),v(e,i),v(e,l),v(e,u),v(e,c),v(e,a),v(a,f),v(e,d),v(e,m),v(e,p),v(e,$),v(e,g),v(e,h),v(e,w),v(e,I),v(e,T),v(e,E),v(e,R),v(R,W),v(e,M),v(e,N),A||(L=[S(u,"click",n[3]),S(m,"click",n[4]),S(T,"click",n[5]),S(N,"click",n[6])],A=!0)},p(t,[n]){1&n&&O(f,t[0]),2&n&&O(W,t[1])},i:t,o:t,d(t){t&&b(e),A=!1,s(L)}}}function Be(t,n,e){let o,r,s;function i(t,n){ln({topic:"settings",subtopic:t,data:n,roomId:o})}a(t,qt,(t=>e(7,o=t))),a(t,Dt,(t=>e(0,r=t))),a(t,Vt,(t=>e(1,s=t))),D((()=>{ln(function(t){return{topic:"settings",subtopic:"get",roomId:t}}(o))}));return[r,s,i,()=>i("undercover","decrement"),()=>i("undercover","increment"),()=>i("white","decrement"),()=>i("white","increment")]}class ze extends wt{constructor(t){super(),bt(this,t,Be,He,l,{})}}function Ye(n){let e,o,r,s,i,l;return r=new Mn({}),{c(){e=x("button"),e.textContent="Start",o=C(),gt(r.$$.fragment),k(e,"class","btn btn-light"),k(e,"title","totoooo")},m(t,u){y(t,e,u),y(t,o,u),ht(r,t,u),s=!0,i||(l=S(e,"click",n[0]),i=!0)},p:t,i(t){s||(it(r.$$.fragment,t),s=!0)},o(t){lt(r.$$.fragment,t),s=!1},d(t){t&&b(e),t&&b(o),vt(r,t),i=!1,l()}}}function Fe(t,n,e){let o=t+n;return!(e<3||0===o||o>=e)&&e-o>=2}function Je(t,n,e){let o,r,s,i;return a(t,Dt,(t=>e(1,o=t))),a(t,Vt,(t=>e(2,r=t))),a(t,Pt,(t=>e(3,s=t))),a(t,qt,(t=>e(5,i=t))),t.$$.update=()=>{14&t.$$.dirty&&Fe(o,r,s.length)},[function(){Fe(o,r,s.length)?ln(Rt(i)):window.pushToast("Must have minimum 3 players with 2 normal players to start the game")},o,r,s]}class Ke extends wt{constructor(t){super(),bt(this,t,Je,Ye,l,{})}}function Qe(t){let n,e,o,r,s,i,l,u,c,a,f,d;return c=new Mn({props:{retainMs:1e3}}),{c(){n=x("main"),e=x("h2"),o=_("Room ID: "),r=_(t[0]),s=_(" Â "),i=C(),l=x("button"),l.innerHTML='<i class="far fa-copy"></i>',u=C(),gt(c.$$.fragment),k(e,"id","room-id"),k(e,"class","blue-main svelte-16evh8q"),k(l,"id","liveToastBtn"),k(l,"data-bs-toggle","tooltip"),k(l,"data-bs-placement","top"),k(l,"title","Copy room ID"),k(l,"class","svelte-16evh8q")},m(m,p){y(m,n,p),v(n,e),v(e,o),v(e,r),v(e,s),v(n,i),v(n,l),v(n,u),ht(c,n,null),a=!0,f||(d=S(l,"click",t[1]),f=!0)},p(t,[n]){(!a||1&n)&&O(r,t[0])},i(t){a||(it(c.$$.fragment,t),a=!0)},o(t){lt(c.$$.fragment,t),a=!1},d(t){t&&b(n),vt(c),f=!1,d()}}}function Xe(t,n,e){let o;return a(t,qt,(t=>e(0,o=t))),[o,function(){navigator.clipboard.writeText(o).then((()=>window.pushToast("Copied room ID to clipboard!")),(t=>console.error("Async: Could not copy text: ",t)))}]}class Ze extends wt{constructor(t){super(),bt(this,t,Xe,Qe,l,{})}}function to(n){let e,o,r,s,i,l,u,c,a,f,d,m,p,$,g,h;return o=new ze({}),l=new Ke({}),f=new Ze({}),m=new je({}),{c(){e=x("div"),gt(o.$$.fragment),r=C(),s=x("br"),i=C(),gt(l.$$.fragment),u=C(),c=x("br"),a=C(),gt(f.$$.fragment),d=C(),gt(m.$$.fragment)},m(t,p){y(t,e,p),ht(o,e,null),v(e,r),v(e,s),v(e,i),ht(l,e,null),v(e,u),v(e,c),v(e,a),ht(f,e,null),v(e,d),ht(m,e,null),$=!0,g||(h=S(e,"outroend",n[1]),g=!0)},p:t,i(t){$||(it(o.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),it(m.$$.fragment,t),p||F((()=>{p=ct(e,St,{x:500,duration:1e3}),p.start()})),$=!0)},o(t){lt(o.$$.fragment,t),lt(l.$$.fragment,t),lt(f.$$.fragment,t),lt(m.$$.fragment,t),$=!1},d(t){t&&b(e),vt(o),vt(l),vt(f),vt(m),g=!1,h()}}}function no(n){let e,o,r,s,i,l;return o=new Pe({}),{c(){e=x("div"),gt(o.$$.fragment)},m(t,r){y(t,e,r),ht(o,e,null),s=!0,i||(l=S(e,"outroend",n[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r&&r.end(1),s=!0)},o(t){lt(o.$$.fragment,t),r=at(e,St,{x:-100,duration:100}),s=!1},d(t){t&&b(e),vt(o),t&&r&&r.end(),i=!1,l()}}}function eo(t){let n,e,o,r;const s=[no,to],i=[];function l(t,n){return!1===t[0]?0:1}return e=l(t),o=i[e]=s[e](t),{c(){n=x("main"),o.c()},m(t,o){y(t,n,o),i[e].m(n,null),r=!0},p(t,[r]){let u=e;e=l(t),e===u?i[e].p(t,r):(rt(),lt(i[u],1,1,(()=>{i[u]=null})),st(),o=i[e],o?o.p(t,r):(o=i[e]=s[e](t),o.c()),it(o,1),o.m(n,null))},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(n),i[e].d()}}}function oo(t,n,e){let o,r;a(t,Gt,(t=>e(3,o=t)));const{onOutro:s,transitionTo:i,state:l}=Pn(o);return a(t,l,(t=>e(0,r=t))),t.$$.update=()=>{8&t.$$.dirty&&o&&i(o)},[r,s,l,o]}class ro extends wt{constructor(t){super(),bt(this,t,oo,eo,l,{})}}function so(n){let e,o,r,s,i,l;return o=new Me({}),{c(){e=x("div"),gt(o.$$.fragment)},m(t,r){y(t,e,r),ht(o,e,null),s=!0,i||(l=S(e,"outroend",n[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r||F((()=>{r=ct(e,St,{y:150}),r.start()})),s=!0)},o(t){lt(o.$$.fragment,t),s=!1},d(t){t&&b(e),vt(o),i=!1,l()}}}function io(n){let e,o,r,s,i,l;return o=new ro({}),{c(){e=x("div"),gt(o.$$.fragment)},m(t,r){y(t,e,r),ht(o,e,null),s=!0,i||(l=S(e,"outroend",n[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r&&r.end(1),s=!0)},o(t){lt(o.$$.fragment,t),r=at(e,St,{y:-150}),s=!1},d(t){t&&b(e),vt(o),t&&r&&r.end(),i=!1,l()}}}function lo(t){let n,e,o,r;const s=[io,so],i=[];function l(t,n){return"init"===t[0]?0:"started"===t[0]?1:-1}return~(e=l(t))&&(o=i[e]=s[e](t)),{c(){n=x("main"),o&&o.c(),k(n,"class","svelte-1gmv5eg")},m(t,o){y(t,n,o),~e&&i[e].m(n,null),r=!0},p(t,[r]){let u=e;e=l(t),e===u?~e&&i[e].p(t,r):(o&&(rt(),lt(i[u],1,1,(()=>{i[u]=null})),st()),~e?(o=i[e],o?o.p(t,r):(o=i[e]=s[e](t),o.c()),it(o,1),o.m(n,null)):o=null)},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(n),~e&&i[e].d()}}}function uo(t,n,e){let o,r;a(t,Bt,(t=>e(3,o=t)));const{onOutro:s,transitionTo:i,state:l}=Pn("init");return a(t,l,(t=>e(0,r=t))),t.$$.update=()=>{8&t.$$.dirty&&"started"===o&&i("started")},[r,s,l,o]}return new class extends wt{constructor(t){super(),bt(this,t,uo,lo,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
