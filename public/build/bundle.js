var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(t){let e;return c(t,(t=>e=t))(),e}function a(t,e,n){t.$$.on_destroy.push(c(e,n))}function f(e){return e&&i(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let $=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):t;const g=new Set;function m(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&p(m)}function h(t){let e;return 0===g.size&&p(m),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function y(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function E(){return x(" ")}function C(){return x("")}function O(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}class R{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=w(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)v(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(b)}}const M=new Set;let V,N=0;function L(t,e,n,o,r,s,i,l=0){const c=16.666/o;let u="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*s(t);u+=100*t+`%{${i(o,1-o)}}\n`}const a=u+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${l}`,d=t.ownerDocument;M.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(w("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${o}ms linear ${r}ms 1 both`,N+=1,f}function W(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),N-=r,N||p((()=>{N||(M.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),M.clear())})))}function G(n,o,r,s){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:l=0,duration:c=300,easing:u=e,start:a=$()+l,end:f=a+c,tick:d=t,css:p}=r(n,{from:o,to:i},s);let g,m=!0,y=!1;function v(){p&&W(n,g),m=!1}return h((t=>{if(!y&&t>=a&&(y=!0),y&&t>=f&&(d(1,0),v()),!m)return!1;if(y){const e=0+1*u((t-a)/c);d(e,1-e)}return!0})),p&&(g=L(n,0,1,c,l,u,p)),l||(y=!0),d(0,1),v}function A(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,q(t,r)}}function q(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function H(t){V=t}function D(t){(function(){if(!V)throw new Error("Function called outside component initialization");return V})().$$.on_mount.push(t)}const P=[],U=[],j=[],B=[],z=Promise.resolve();let Y=!1;function F(t){j.push(t)}let J=!1;const K=new Set;function Q(){if(!J){J=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];H(e),X(e.$$)}for(H(null),P.length=0;U.length;)U.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];K.has(e)||(K.add(e),e())}j.length=0}while(P.length);for(;B.length;)B.pop()();Y=!1,J=!1,K.clear()}}function X(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}let Z;function tt(){return Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z}function et(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ot;function rt(){ot={r:0,c:[],p:ot}}function st(){ot.r||s(ot.c),ot=ot.p}function it(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function lt(t,e,n,o){if(t&&t.o){if(nt.has(t))return;nt.add(t),ot.c.push((()=>{nt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const ct={duration:0};function ut(n,o,r){let s,l,c=o(n,r),u=!1,a=0;function f(){s&&W(n,s)}function d(){const{delay:o=0,duration:r=300,easing:i=e,tick:d=t,css:p}=c||ct;p&&(s=L(n,0,1,r,o,i,p,a++)),d(0,1);const g=$()+o,m=g+r;l&&l.abort(),u=!0,F((()=>et(n,!0,"start"))),l=h((t=>{if(u){if(t>=m)return d(1,0),et(n,!0,"end"),f(),u=!1;if(t>=g){const e=i((t-g)/r);d(e,1-e)}}return u}))}let p=!1;return{start(){p||(W(n),i(c)?(c=c(),tt().then(d)):d())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function at(n,o,r){let l,c=o(n,r),u=!0;const a=ot;function f(){const{delay:o=0,duration:r=300,easing:i=e,tick:f=t,css:d}=c||ct;d&&(l=L(n,1,0,r,o,i,d));const p=$()+o,g=p+r;F((()=>et(n,!1,"start"))),h((t=>{if(u){if(t>=g)return f(0,1),et(n,!1,"end"),--a.r||s(a.c),!1;if(t>=p){const e=i((t-p)/r);f(1-e,e)}}return u}))}return a.r+=1,i(c)?tt().then((()=>{c=c(),f()})):f(),{end(t){t&&c.tick&&c.tick(1,0),u&&(l&&W(n,l),u=!1)}}}function ft(t,e){t.d(1),e.delete(t.key)}function dt(t,e){t.f(),ft(t,e)}function $t(t,e){t.f(),function(t,e){lt(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function pt(t,e,n,o,r,s,i,l,c,u,a,f){let d=t.length,$=s.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],h=new Map,y=new Map;for(p=$;p--;){const t=f(r,s,p),l=n(t);let c=i.get(l);c?o&&c.p(t,e):(c=u(l,t),c.c()),h.set(l,m[p]=c),l in g&&y.set(l,Math.abs(p-g[l]))}const v=new Set,b=new Set;function _(t){it(t,1),t.m(l,a),i.set(t.key,t),a=t.first,$--}for(;d&&$;){const e=m[$-1],n=t[d-1],o=e.key,r=n.key;e===n?(a=e.first,d--,$--):h.has(r)?!i.has(o)||v.has(o)?_(e):b.has(r)?d--:y.get(o)>y.get(r)?(b.add(o),_(e)):(v.add(r),d--):(c(n,i),d--)}for(;d--;){const e=t[d];h.has(e.key)||c(e,i)}for(;$;)_(m[$-1]);return m}function gt(t){t&&t.c()}function mt(t,e,n){const{fragment:r,on_mount:l,on_destroy:c,after_update:u}=t.$$;r&&r.m(e,n),F((()=>{const e=l.map(o).filter(i);c?c.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(F)}function ht(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e){-1===t.$$.dirty[0]&&(P.push(t),Y||(Y=!0,z.then(Q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(e,n,o,i,l,c,u=[-1]){const a=V;H(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let d=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&yt(e,t)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&it(e.$$.fragment),mt(e,n.target,n.anchor),Q()}H(a)}class bt{$destroy(){ht(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function _t(t){const e=t-1;return e*e*e+1}function wt(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function xt(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function Et(t,{delay:e=0,duration:n=400,easing:o=_t,x:r=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,u="none"===l.transform?"":l.transform,a=c*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${c-a*e}`}}const Ct=[];function Ot(e,n=t){let o;const r=[];function s(t){if(l(e,t)&&(e=t,o)){const t=!Ct.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Ct.push(n,e)}if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,l=t){const c=[i,l];return r.push(c),1===r.length&&(o=n(s)||t),i(e),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function kt(e,n,o){const r=!Array.isArray(e),l=r?[e]:e,u=n.length<2;return{subscribe:Ot(o,(e=>{let o=!1;const a=[];let f=0,d=t;const $=()=>{if(f)return;d();const o=n(r?a[0]:a,e);u?e(o):d=i(o)?o:t},p=l.map(((t,e)=>c(t,(t=>{a[e]=t,f&=~(1<<e),o&&$()}),(()=>{f|=1<<e}))));return o=!0,$(),function(){s(p),d()}})).subscribe}}var St,It;!function(t){t.UNDERCOVER="Undercover",t.MR_WHITE="Mr. White",t.OTHER="Civilian"}(St||(St={})),function(t){t.LOBBY="LOBBY",t.PLAYING="PLAYING",t.VOTING="VOTING",t.FINISHED_VOTING="FINISHED_VOTING",t.DRAW_VOTE="DRAW_VOTE",t.MR_WHITE_GUESS_WAITING="MR_WHITE_GUESS_WAITING",t.WON="WON",t.LOST="LOST"}(It||(It={}));const Tt=Ot([]),Rt=Ot(""),Mt=Ot(0),Vt=Ot(0),Nt=Ot(!1),Lt=Ot("init"),Wt=Ot("init"),Gt=Ot([]),At=Ot(""),qt=Ot([]),Ht=Ot(0),Dt=Ot({turn:0,result:"DRAW",gameState:It.PLAYING}),Pt=Ot([]),Ut=kt(Lt,(t=>""===t)),jt=kt([Pt,Rt],(([t,e])=>-1!==t.indexOf(e))),Bt=kt([qt,Rt],(([t,e])=>-1!==t.indexOf(e))),zt=kt([qt,Tt],(([t,e])=>e.filter((e=>-1===t.indexOf(e))))),Yt=kt(Gt,(t=>new Set(t.reduce(((t,e)=>t.concat(e[1].map((t=>t.toLowerCase())))),[])))),Ft=kt([At,Rt],(([t,e])=>t===e));console.log('{"env":{"VERCEL":"1","VERCEL_ENV":"development","VERCEL_URL":"","VERCEL_GIT_PROVIDER":"","VERCEL_GIT_REPO_SLUG":"","VERCEL_GIT_REPO_OWNER":"","VERCEL_GIT_REPO_ID":"","VERCEL_GIT_COMMIT_REF":"","VERCEL_GIT_COMMIT_SHA":"","VERCEL_GIT_COMMIT_MESSAGE":"","VERCEL_GIT_COMMIT_AUTHOR_LOGIN":"","VERCEL_GIT_COMMIT_AUTHOR_NAME":"","API_URL":"wss://b455891f6f6b.ngrok.io"}} + wss://b455891f6f6b.ngrok.io');const Jt=new WebSocket("ws://localhost:3000");Jt.addEventListener("open",(()=>Nt.set(!0))),Jt.addEventListener("message",(function(t){const e=JSON.parse(t.data);if("player"===e.topic){if("update"===e.subtopic){!function(t){Tt.set(t.data)}(e)}}else if("settings"===e.topic){!function(t){const e=t.data;Mt.set(e.underCoverCount),Vt.set(e.mrWhiteCount)}(e)}else if("game"===e.topic){if("word"===e.subtopic){const t=e;Lt.set(t.data),Wt.set("started")}else if("update"===e.subtopic){const t=e.data;Gt.set(t.playerToWords),Ht.set(t.turn),At.set(t.player),t.state===It.VOTING&&(console.log(`Switching to voting mode!\n        playingState: ${u(Wt)},\n        hasVoted: ${u(jt)},\n        playersWhoVoted: ${u(Pt)}\n        `),Wt.set("voting"))}}else if("vote"===e.topic)if("update"===e.subtopic){const t=e;console.log(`Updating playersWhoVoted ${u(Pt)}`),console.log(`hasVoted ${u(jt)}`),Pt.set(t.data.playersWhoVoted),console.log(`Updated playersWhoVoted ${u(Pt)}`),console.log(`hasVoted ${u(jt)}`),t.data.state!==It.FINISHED_VOTING&&t.data.state!==It.MR_WHITE_GUESS_WAITING||Kt({topic:"vote",subtopic:"result"})}else if("result"===e.subtopic){const t=e;Dt.set(t.data),Wt.set("result")}else if("guess"===e.subtopic){const t=e;let n=u(Dt);n.gameState=t.data,Dt.set(n)}console.log(`Logging stores after message\n  playingState: ${u(Wt)},\n  voteResult: ${JSON.stringify(u(Dt))},\n  currentTurn: ${u(Ht)},\n  playersWhoVoted: ${u(Pt)},\n  votedOutPlayers: ${u(qt)},\n  playerLost: ${u(Bt)},\n  `)}));const Kt=t=>{u(Nt)&&Jt.send(JSON.stringify(t))},[Qt,Xt]=function(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["fallback"]);const r=new Map,s=new Map;function l(t,r,s){return(l,c)=>(t.set(c.key,{rect:l.getBoundingClientRect()}),()=>{if(r.has(c.key)){const{rect:t}=r.get(c.key);return r.delete(c.key),function(t,e,r){const{delay:s=0,duration:l=(t=>30*Math.sqrt(t)),easing:c=_t}=n(n({},o),r),u=e.getBoundingClientRect(),a=t.left-u.left,f=t.top-u.top,d=t.width/u.width,$=t.height/u.height,p=Math.sqrt(a*a+f*f),g=getComputedStyle(e),m="none"===g.transform?"":g.transform,h=+g.opacity;return{delay:s,duration:i(l)?l(p):l,easing:c,css:(t,e)=>`\n\t\t\t\topacity: ${t*h};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*a}px,${e*f}px) scale(${t+(1-t)*d}, ${t+(1-t)*$});\n\t\t\t`}}(t,l,c)}return t.delete(c.key),e&&e(l,c,s)})}return[l(s,r,!1),l(r,s,!0)]}({duration:t=>Math.sqrt(200*t),fallback(t){const e=getComputedStyle(t),n="none"===e.transform?"":e.transform;return{duration:600,easing:wt,css:t=>`\n        transform: ${n} scale(${t});\n        opacity: ${t}\n      `}}}),Zt=Qt,te=Xt;function ee(t,e,n={}){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform,s=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/s,u=(e.from.top-e.to.top)/l,a=Math.sqrt(c*c+u*u),{delay:f=0,duration:d=(t=>120*Math.sqrt(t)),easing:$=_t}=n;return{delay:f,duration:i(d)?d(a):d,easing:$,css:(t,e)=>`transform: ${r} translate(${e*c}px, ${e*u}px);`}}function ne(t,e,n){const o=t.slice();return o[2]=e[n],o}function oe(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function re(e,n){let o,r,s,i,l=n[5]+"",c=t;return{key:e,first:null,c(){o=w("p"),r=x(l),S(o,"class","item svelte-5fw120"),this.first=o},m(t,e){v(t,o,e),y(o,r)},p(t,e){n=t,1&e&&l!==(l=n[5]+"")&&I(r,l)},r(){i=o.getBoundingClientRect()},f(){A(o),c()},a(){c(),c=G(o,i,ee,{})},i(t){s||F((()=>{s=ut(o,te,{key:n[5]}),s.start()}))},o:t,d(t){t&&b(o)}}}function se(e){let n,o,r,s,i,l,c=le(e[1],e[2][0])+"",u=[],a=new Map,f=e[2][1];const d=t=>t[5];for(let t=0;t<f.length;t+=1){let n=oe(e,f,t),o=d(n);a.set(o,u[t]=re(o,n))}return{c(){n=w("div"),o=w("div"),r=E(),s=w("p"),s.textContent="* * *",i=E();for(let t=0;t<u.length;t+=1)u[t].c();l=E(),S(s,"class","svelte-5fw120"),S(n,"class","card svelte-5fw120")},m(t,e){v(t,n,e),y(n,o),o.innerHTML=c,y(n,r),y(n,s),y(n,i);for(let t=0;t<u.length;t+=1)u[t].m(n,null);y(n,l)},p(t,e){if(3&e&&c!==(c=le(t[1],t[2][0])+"")&&(o.innerHTML=c),1&e){f=t[2][1];for(let t=0;t<u.length;t+=1)u[t].r();u=pt(u,e,d,1,t,f,a,n,dt,re,l,oe);for(let t=0;t<u.length;t+=1)u[t].a()}},i(t){for(let t=0;t<f.length;t+=1)it(u[t])},o:t,d(t){t&&b(n);for(let t=0;t<u.length;t+=1)u[t].d()}}}function ie(e){let n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=se(ne(e,o,t));return{c(){n=w("main");for(let t=0;t<r.length;t+=1)r[t].c();S(n,"class","svelte-5fw120")},m(t,e){v(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(3&e){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=ne(t,o,s);r[s]?(r[s].p(i,e),it(r[s],1)):(r[s]=se(i),r[s].c(),it(r[s],1),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i(t){for(let t=0;t<o.length;t+=1)it(r[t])},o:t,d(t){t&&b(n),_(r,t)}}}function le(t,e){return-1!==t.indexOf(e)?`<div style="color: grey;"><s>${e}</s></div>`:`<div>${e}</div>`}function ce(t,e,n){let o,r;return a(t,Gt,(t=>n(0,o=t))),a(t,qt,(t=>n(1,r=t))),[o,r]}class ue extends bt{constructor(t){super(),vt(this,t,ce,ie,l,{})}}function ae(e){let n,o,r;return{c(){n=w("main"),o=w("h2"),r=x(e[0]),S(o,"class","svelte-1ml2o7h"),S(n,"class","svelte-1ml2o7h")},m(t,e){v(t,n,e),y(n,o),y(o,r)},p(t,[e]){1&e&&I(r,t[0])},i:t,o:t,d(t){t&&b(n)}}}function fe(t,e,n){let o,r,s;return a(t,At,(t=>n(1,r=t))),a(t,Rt,(t=>n(2,s=t))),t.$$.update=()=>{var e;2&t.$$.dirty&&n(0,o=s===(e=r)?"It's your turn!":`It's ${e}'s turn`)},[o,r]}class de extends bt{constructor(t){super(),vt(this,t,fe,ae,l,{})}}function $e(e){let n;return{c(){n=w("h2"),n.textContent="You are Mr.White!",S(n,"class","svelte-1g6vkai")},m(t,e){v(t,n,e)},p:t,d(t){t&&b(n)}}}function pe(t){let e,n,o,r;return{c(){e=w("h2"),e.textContent="Your word is",n=E(),o=w("h3"),r=x(t[0]),S(e,"class","svelte-1g6vkai"),S(o,"class","svelte-1g6vkai")},m(t,s){v(t,e,s),v(t,n,s),v(t,o,s),y(o,r)},p(t,e){1&e&&I(r,t[0])},d(t){t&&b(e),t&&b(n),t&&b(o)}}}function ge(e){let n;function o(t,e){return t[0]?pe:$e}let r=o(e),s=r(e);return{c(){n=w("main"),s.c()},m(t,e){v(t,n,e),s.m(n,null)},p(t,[e]){r===(r=o(t))&&s?s.p(t,e):(s.d(1),s=r(t),s&&(s.c(),s.m(n,null)))},i:t,o:t,d(t){t&&b(n),s.d()}}}function me(t,e,n){let o;return a(t,Lt,(t=>n(0,o=t))),[o]}class he extends bt{constructor(t){super(),vt(this,t,me,ge,l,{})}}function ye(e){let n,o,r,i,l,c,u,a;return{c(){n=w("main"),o=w("input"),r=E(),i=w("button"),l=x("Submit"),S(o,"type","text"),S(o,"placeholder",e[3]),S(o,"class","svelte-prh7qb"),i.disabled=c=!e[1],S(i,"class","svelte-prh7qb"),S(n,"class","svelte-prh7qb")},m(t,s){v(t,n,s),y(n,o),e[9](o),T(o,e[2]),y(n,r),y(n,i),y(i,l),u||(a=[O(o,"input",e[10]),O(o,"keyup",k(e[5])),O(i,"click",e[4])],u=!0)},p(t,[e]){8&e&&S(o,"placeholder",t[3]),4&e&&o.value!==t[2]&&T(o,t[2]),2&e&&c!==(c=!t[1])&&(i.disabled=c)},i:t,o:t,d(t){t&&b(n),e[9](null),u=!1,s(a)}}}function ve(t,e,n){let o,r,s,i,l;a(t,Ut,(t=>n(7,r=t))),a(t,Lt,(t=>n(8,s=t))),a(t,Ft,(t=>n(1,i=t))),a(t,Yt,(t=>n(11,l=t)));let c,u="",f=!1;function d(){const t=u.trim();t.length>0&&(l.has(t.toLowerCase())?alert(`${t} has already been used!`):Kt({topic:"game",subtopic:"add",data:t}),n(2,u=""))}return D((()=>n(6,f=!0))),t.$$.update=()=>{384&t.$$.dirty&&n(3,o=r?"Try to describe..":`Describe ${s}`),67&t.$$.dirty&&i&&f&&c.focus()},[c,i,u,o,d,function(){"Enter"===event.code&&d()},f,r,s,function(t){U[t?"unshift":"push"]((()=>{c=t,n(0,c)}))},function(){u=this.value,n(2,u)}]}class be extends bt{constructor(t){super(),vt(this,t,ve,ye,l,{})}}function _e(t){const e=Ot(t);let n=t;return{state:e,transitionTo:function(t){n!==t&&(n=t,e.set(null))},onOutro:function(){e.set(n)}}}function we(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function xe(t){let e,n,o,r,s,i,l=t[5]+"";function c(){return t[4](t[5])}return{c(){e=w("p"),n=w("button"),o=x(l),r=E(),S(n,"class","svelte-ymjgq6")},m(t,l){v(t,e,l),y(e,n),y(n,o),y(e,r),s||(i=O(n,"click",c),s=!0)},p(e,n){t=e,1&n&&l!==(l=t[5]+"")&&I(o,l)},d(t){t&&b(e),s=!1,i()}}}function Ee(t,e){let n,o,r=e[5]!==e[1]&&xe(e);return{key:t,first:null,c(){n=C(),r&&r.c(),o=C(),this.first=n},m(t,e){v(t,n,e),r&&r.m(t,e),v(t,o,e)},p(t,n){(e=t)[5]!==e[1]?r?r.p(e,n):(r=xe(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(t){t&&b(n),r&&r.d(t),t&&b(o)}}}function Ce(e){let n,o,r,s=[],i=new Map,l=e[0];const c=t=>t[5];for(let t=0;t<l.length;t+=1){let n=we(e,l,t),o=c(n);i.set(o,s[t]=Ee(o,n))}return{c(){n=w("main"),o=w("h2"),o.textContent="Vote against",r=E();for(let t=0;t<s.length;t+=1)s[t].c();S(o,"class","svelte-ymjgq6")},m(t,e){v(t,n,e),y(n,o),y(n,r);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){7&e&&(l=t[0],s=pt(s,e,c,1,t,l,i,n,ft,Ee,null,we))},i:t,o:t,d(t){t&&b(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Oe(t,e,n){let o,r,s;function i(t){Kt({topic:"vote",subtopic:"against",data:t})}a(t,zt,(t=>n(3,r=t))),a(t,Rt,(t=>n(1,s=t)));return t.$$.update=()=>{8&t.$$.dirty&&n(0,o=r)},[o,s,i,r,t=>i(t)]}class ke extends bt{constructor(t){super(),vt(this,t,Oe,Ce,l,{})}}function Se(t,e,n){const o=t.slice();return o[2]=e[n],o[4]=n,o}function Ie(e,n){let o,r,s,i,l,c,u,a=`${n[2]} `,f=t;return{key:e,first:null,c(){o=w("div"),r=x(a),s=E(),S(o,"class","item svelte-14m52ez"),this.first=o},m(t,e){v(t,o,e),y(o,r),y(o,s),u=!0},p(t,e){n=t,(!u||1&e)&&a!==(a=`${n[2]} `)&&I(r,a)},r(){c=o.getBoundingClientRect()},f(){A(o),f(),q(o,c)},a(){f(),f=G(o,c,ee,{})},i(t){u||(F((()=>{l&&l.end(1),i||(i=ut(o,te,{key:n[2]})),i.start()})),u=!0)},o(t){i&&i.invalidate(),l=at(o,Zt,{key:n[2]}),u=!1},d(t){t&&b(o),t&&l&&l.end()}}}function Te(t){let e,n,o,r,s,i,l,c=[],u=new Map,a=t[0];const f=t=>t[2];for(let e=0;e<a.length;e+=1){let n=Se(t,a,e),o=f(n);u.set(o,c[e]=Ie(o,n))}return{c(){e=w("main"),n=w("h2"),o=x(t[1]),r=E(),s=w("br"),i=E();for(let t=0;t<c.length;t+=1)c[t].c();S(n,"class","svelte-14m52ez"),S(e,"class","svelte-14m52ez")},m(t,u){v(t,e,u),y(e,n),y(n,o),y(e,r),y(e,s),y(e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);l=!0},p(t,[n]){if((!l||2&n)&&I(o,t[1]),1&n){a=t[0],rt();for(let t=0;t<c.length;t+=1)c[t].r();c=pt(c,n,f,1,t,a,u,e,$t,Ie,null,Se);for(let t=0;t<c.length;t+=1)c[t].a();st()}},i(t){if(!l){for(let t=0;t<a.length;t+=1)it(c[t]);l=!0}},o(t){for(let t=0;t<c.length;t+=1)lt(c[t]);l=!1},d(t){t&&b(e);for(let t=0;t<c.length;t+=1)c[t].d()}}}function Re(t,e,n){let o,r;return a(t,Pt,(t=>n(0,r=t))),t.$$.update=()=>{1&t.$$.dirty&&n(1,o=r.length>0?"Has voted: ":"Nobody has voted yet 🤷‍♂️")},[r,o]}class Me extends bt{constructor(t){super(),vt(this,t,Re,Te,l,{})}}function Ve(e){let n;return{c(){n=w("h2"),n.textContent="Waiting for vote completion..",S(n,"class","svelte-1kjq7yr")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class Ne extends bt{constructor(t){super(),vt(this,t,null,Ve,l,{})}}function Le(e){let n,o,r,s=e[1](e[0])+"";return{c(){n=w("main"),o=w("div"),r=x(s),S(o,"class","end svelte-8u94d1")},m(t,e){v(t,n,e),y(n,o),y(o,r)},p(t,[e]){1&e&&s!==(s=t[1](t[0])+"")&&I(r,s)},i:t,o:t,d(t){t&&b(n)}}}function We(t,e,n){let o,r;return a(t,Dt,(t=>n(2,r=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,o=r.gameState)},[o,function(t){const e="won the game!";return t===It.WON?`Cilivians ${e}`:`Vilains ${e}`},r]}class Ge extends bt{constructor(t){super(),vt(this,t,We,Le,l,{})}}function Ae(e){let n,o,r,i,l,c,u,a;return{c(){n=w("main"),o=w("h3"),o.textContent="Try to guess the word to win!",r=E(),i=w("input"),l=E(),c=w("button"),c.textContent="Guess",S(o,"class","svelte-rkg4x0"),S(i,"type","text")},m(t,s){v(t,n,s),y(n,o),y(n,r),y(n,i),T(i,e[0]),y(n,l),y(n,c),u||(a=[f(qe.call(null,i)),O(i,"input",e[3]),O(i,"keyup",k(e[2])),O(c,"click",e[1])],u=!0)},p(t,[e]){1&e&&i.value!==t[0]&&T(i,t[0])},i:t,o:t,d(t){t&&b(n),u=!1,s(a)}}}function qe(t){t.focus()}function He(t,e,n){let o="";function r(){const t=o.trim();t.length>0&&Kt({topic:"vote",subtopic:"guess",data:t})}return[o,r,function(){"Enter"===event.code&&r()},function(){o=this.value,n(0,o)}]}class De extends bt{constructor(t){super(),vt(this,t,He,Ae,l,{})}}function Pe(t,e,n){const o=t.slice();return o[14]=e[n],o}function Ue(t){let e,n,o=`${t[14][0]}: ${t[14][1]}`;return{c(){e=w("p"),n=x(o),S(e,"class","svelte-du5qfl")},m(t,o){v(t,e,o),y(e,n)},p(t,e){2&e&&o!==(o=`${t[14][0]}: ${t[14][1]}`)&&I(n,o)},d(t){t&&b(e)}}}function je(t){let e,n,o,r;const s=[Ye,ze],i=[];function l(t,e){return t[3]!==t[6]?0:1}return e=l(t),n=i[e]=s[e](t),{c(){n.c(),o=C()},m(t,n){i[e].m(t,n),v(t,o,n),r=!0},p(t,r){let c=e;e=l(t),e!==c&&(rt(),lt(i[c],1,1,(()=>{i[c]=null})),st(),n=i[e],n||(n=i[e]=s[e](t),n.c()),it(n,1),n.m(o.parentNode,o))},i(t){r||(it(n),r=!0)},o(t){lt(n),r=!1},d(t){i[e].d(t),t&&b(o)}}}function Be(e){let n,o;return n=new Ge({}),{c(){gt(n.$$.fragment)},m(t,e){mt(n,t,e),o=!0},p:t,i(t){o||(it(n.$$.fragment,t),o=!0)},o(t){lt(n.$$.fragment,t),o=!1},d(t){ht(n,t)}}}function ze(t){let e,n;return e=new De({}),{c(){gt(e.$$.fragment)},m(t,o){mt(e,t,o),n=!0},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function Ye(e){let n;return{c(){n=w("h3"),n.textContent="Waiting for Mr white's guess...",S(n,"class","svelte-du5qfl")},m(t,e){v(t,n,e)},i:t,o:t,d(t){t&&b(n)}}}function Fe(t){let e,n,o,r,s,i,l,c,u,a,f,d,$,p,g,m,h,C,k,T,R,M,V=t[1],N=[];for(let e=0;e<V.length;e+=1)N[e]=Ue(Pe(t,V,e));const L=[Be,je],W=[];function G(t,e){return 1&e&&(d=!!t[8](t[0])),d?0:t[5]?1:-1}return~($=G(t,-1))&&(p=W[$]=L[$](t)),{c(){e=w("main"),n=w("h2"),n.textContent="Vote result",o=E();for(let t=0;t<N.length;t+=1)N[t].c();r=E(),s=w("br"),i=E(),l=w("br"),c=E(),u=w("h3"),a=x(t[2]),f=E(),p&&p.c(),g=E(),m=w("br"),h=E(),C=w("button"),k=x(t[4]),S(n,"class","svelte-du5qfl"),S(u,"class","svelte-du5qfl"),C.disabled=t[5]},m(d,p){v(d,e,p),y(e,n),y(e,o);for(let t=0;t<N.length;t+=1)N[t].m(e,null);y(e,r),y(e,s),y(e,i),y(e,l),y(e,c),y(e,u),y(u,a),y(e,f),~$&&W[$].m(e,null),y(e,g),y(e,m),y(e,h),y(e,C),y(C,k),T=!0,R||(M=O(C,"click",t[11]),R=!0)},p(t,[n]){if(2&n){let o;for(V=t[1],o=0;o<V.length;o+=1){const s=Pe(t,V,o);N[o]?N[o].p(s,n):(N[o]=Ue(s),N[o].c(),N[o].m(e,r))}for(;o<N.length;o+=1)N[o].d(1);N.length=V.length}(!T||4&n)&&I(a,t[2]);let o=$;$=G(t,n),$===o?~$&&W[$].p(t,n):(p&&(rt(),lt(W[o],1,1,(()=>{W[o]=null})),st()),~$?(p=W[$],p?p.p(t,n):(p=W[$]=L[$](t),p.c()),it(p,1),p.m(e,g)):p=null),(!T||16&n)&&I(k,t[4]),(!T||32&n)&&(C.disabled=t[5])},i(t){T||(it(p),T=!0)},o(t){lt(p),T=!1},d(t){t&&b(e),_(N,t),~$&&W[$].d(),R=!1,M()}}}function Je(t,e,n){let o,r,s,i,l,c,u,f,d,$;function p(t){o?Wt.set("voting"):g(t)?(Kt({topic:"game",subtopic:"start"}),Wt.set("started")):(Kt({topic:"game",subtopic:"update"}),qt.set([...d,f.playerOut]),Wt.set("started"))}a(t,Dt,(t=>n(10,f=t))),a(t,qt,(t=>n(12,d=t))),a(t,Rt,(t=>n(6,$=t)));const g=t=>t===It.WON||t===It.LOST;D((()=>{Pt.set([])}));return t.$$.update=()=>{1024&t.$$.dirty&&n(9,o="DRAW"===f.result),1024&t.$$.dirty&&n(1,r=f.voteDetails),1536&t.$$.dirty&&n(2,s=o?"It is a draw! 🙃":`${f.playerOut} (${f.playerOutRole}) has been eliminated! ☠️`),1024&t.$$.dirty&&n(0,i=f.gameState),1024&t.$$.dirty&&n(3,l=f.playerOut),1025&t.$$.dirty&&n(4,c=function(t,e){return g(t)?"Play again":"DRAW"===e?"Vote again!":"Next turn"}(i,f.result)),1&t.$$.dirty&&n(5,u=i===It.MR_WHITE_GUESS_WAITING),1&t.$$.dirty&&g(i)&&qt.set([])},[i,r,s,l,c,u,$,p,g,o,f,()=>p(i)]}class Ke extends bt{constructor(t){super(),vt(this,t,Je,Fe,l,{})}}function Qe(e){let n,o,r,s,i,l,c;return o=new Ke({}),{c(){n=w("div"),gt(o.$$.fragment)},m(t,r){v(t,n,r),mt(o,n,null),i=!0,l||(c=O(n,"outroend",e[2]),l=!0)},p:t,i(t){i||(it(o.$$.fragment,t),F((()=>{s&&s.end(1),r||(r=ut(n,xt,{})),r.start()})),i=!0)},o(t){lt(o.$$.fragment,t),r&&r.invalidate(),s=at(n,xt,{}),i=!1},d(t){t&&b(n),ht(o),t&&s&&s.end(),l=!1,c()}}}function Xe(e){let n,o,r,s,i,l,c,u,a;return o=new Ne({}),s=new Me({}),{c(){n=w("div"),gt(o.$$.fragment),r=E(),gt(s.$$.fragment)},m(t,i){v(t,n,i),mt(o,n,null),y(n,r),mt(s,n,null),c=!0,u||(a=O(n,"outroend",e[2]),u=!0)},p:t,i(t){c||(it(o.$$.fragment,t),it(s.$$.fragment,t),F((()=>{l&&l.end(1),i||(i=ut(n,xt,{})),i.start()})),c=!0)},o(t){lt(o.$$.fragment,t),lt(s.$$.fragment,t),i&&i.invalidate(),l=at(n,xt,{}),c=!1},d(t){t&&b(n),ht(o),ht(s),t&&l&&l.end(),u=!1,a()}}}function Ze(t){let e,n,o,r,s,i,l,c,u,a,f=!t[1]&&tn();return o=new Me({}),s=new ue({}),{c(){e=w("div"),f&&f.c(),n=E(),gt(o.$$.fragment),r=E(),gt(s.$$.fragment)},m(i,l){v(i,e,l),f&&f.m(e,null),y(e,n),mt(o,e,null),y(e,r),mt(s,e,null),c=!0,u||(a=O(e,"outroend",t[2]),u=!0)},p(t,o){t[1]?f&&(rt(),lt(f,1,1,(()=>{f=null})),st()):f?2&o&&it(f,1):(f=tn(),f.c(),it(f,1),f.m(e,n))},i(t){c||(it(f),it(o.$$.fragment,t),it(s.$$.fragment,t),F((()=>{l&&l.end(1),i||(i=ut(e,xt,{})),i.start()})),c=!0)},o(t){lt(f),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i&&i.invalidate(),l=at(e,xt,{}),c=!1},d(t){t&&b(e),f&&f.d(),ht(o),ht(s),t&&l&&l.end(),u=!1,a()}}}function tn(t){let e,n;return e=new ke({}),{c(){gt(e.$$.fragment)},m(t,o){mt(e,t,o),n=!0},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ht(e,t)}}}function en(t){let e,n,o,r;const s=[Ze,Xe,Qe],i=[];function l(t,e){return"init"===t[0]?0:"voted"===t[0]?1:"result"===t[0]?2:-1}return~(n=l(t))&&(o=i[n]=s[n](t)),{c(){e=w("main"),o&&o.c()},m(t,o){v(t,e,o),~n&&i[n].m(e,null),r=!0},p(t,[r]){let c=n;n=l(t),n===c?~n&&i[n].p(t,r):(o&&(rt(),lt(i[c],1,1,(()=>{i[c]=null})),st()),~n?(o=i[n],o?o.p(t,r):(o=i[n]=s[n](t),o.c()),it(o,1),o.m(e,null)):o=null)},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(e),~n&&i[n].d()}}}function nn(t,e,n){let o,r,s,i,l;a(t,Wt,(t=>n(4,o=t))),a(t,jt,(t=>n(5,r=t))),a(t,Pt,(t=>n(6,s=t))),a(t,Bt,(t=>n(1,l=t)));const{onOutro:c,transitionTo:u,state:f}=_e("init");return a(t,f,(t=>n(0,i=t))),t.$$.update=()=>{112&t.$$.dirty&&("voting"!==o||r?"result"===o?(console.log("Showing result!!"),u("result")):(console.log(`$hasVoted: ${r}, playingState: ${o}.\n    $playersWhoVoted: ${s}`),console.log("has voted!!"),u("voted")):(console.log("Vote init!!"),u("init")))},[i,l,c,f,o,r,s]}class on extends bt{constructor(t){super(),vt(this,t,nn,en,l,{})}}function rn(e){let n;return{c(){n=w("h2"),n.textContent="Waiting for game to complete..",S(n,"class","svelte-1kjq7yr")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class sn extends bt{constructor(t){super(),vt(this,t,null,rn,l,{})}}function ln(e){let n,o,r;return{c(){n=w("button"),n.textContent="Skip word"},m(t,s){v(t,n,s),o||(r=O(n,"click",e[0]),o=!0)},p:t,i:t,o:t,d(t){t&&b(n),o=!1,r()}}}function cn(t){return[function(){Kt({topic:"game",subtopic:"start"})}]}class un extends bt{constructor(t){super(),vt(this,t,cn,ln,l,{})}}function an(e){let n,o,r,s,i,l,c;return o=new on({}),{c(){n=w("div"),gt(o.$$.fragment)},m(t,r){v(t,n,r),mt(o,n,null),i=!0,l||(c=O(n,"outroend",e[2]),l=!0)},p:t,i(t){i||(it(o.$$.fragment,t),F((()=>{s&&s.end(1),r||(r=ut(n,Et,{x:500,duration:500})),r.start()})),i=!0)},o(t){lt(o.$$.fragment,t),r&&r.invalidate(),s=at(n,Et,{y:500,duration:500}),i=!1},d(t){t&&b(n),ht(o),t&&s&&s.end(),l=!1,c()}}}function fn(t){let e,n,o,r,s,i,l,c,u,a,f,d;const $=[pn,$n],p=[];function g(t,e){return t[1]?0:1}return n=g(t),o=p[n]=$[n](t),l=new ue({}),{c(){e=w("div"),o.c(),r=E(),s=w("br"),i=E(),gt(l.$$.fragment)},m(o,c){v(o,e,c),p[n].m(e,null),y(e,r),y(e,s),y(e,i),mt(l,e,null),a=!0,f||(d=O(e,"outroend",t[2]),f=!0)},p(t,s){let i=n;n=g(t),n!==i&&(rt(),lt(p[i],1,1,(()=>{p[i]=null})),st(),o=p[n],o||(o=p[n]=$[n](t),o.c()),it(o,1),o.m(e,r))},i(t){a||(it(o),it(l.$$.fragment,t),F((()=>{u&&u.end(1),c||(c=ut(e,xt,{})),c.start()})),a=!0)},o(t){lt(o),lt(l.$$.fragment,t),c&&c.invalidate(),u=at(e,Et,{x:-500,duration:500}),a=!1},d(t){t&&b(e),p[n].d(),ht(l),t&&u&&u.end(),f=!1,d()}}}function dn(e){let n,o,r,s,i,l,c,u,a,f,d,$,p,g,m;return o=new he({}),s=new de({}),l=new be({}),f=new un({}),{c(){n=w("div"),gt(o.$$.fragment),r=E(),gt(s.$$.fragment),i=E(),gt(l.$$.fragment),c=E(),u=w("br"),a=E(),gt(f.$$.fragment)},m(t,d){v(t,n,d),mt(o,n,null),y(n,r),mt(s,n,null),y(n,i),mt(l,n,null),y(n,c),y(n,u),y(n,a),mt(f,n,null),p=!0,g||(m=O(n,"outroend",e[2]),g=!0)},p:t,i(t){p||(it(o.$$.fragment,t),it(s.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),F((()=>{$&&$.end(1),d||(d=ut(n,Et,{y:500,duration:500})),d.start()})),p=!0)},o(t){lt(o.$$.fragment,t),lt(s.$$.fragment,t),lt(l.$$.fragment,t),lt(f.$$.fragment,t),d&&d.invalidate(),$=at(n,xt,{}),p=!1},d(t){t&&b(n),ht(o),ht(s),ht(l),ht(f),t&&$&&$.end(),g=!1,m()}}}function $n(t){let e,n,o,r,s,i;return e=new he({}),o=new de({}),s=new be({}),{c(){gt(e.$$.fragment),n=E(),gt(o.$$.fragment),r=E(),gt(s.$$.fragment)},m(t,l){mt(e,t,l),v(t,n,l),mt(o,t,l),v(t,r,l),mt(s,t,l),i=!0},i(t){i||(it(e.$$.fragment,t),it(o.$$.fragment,t),it(s.$$.fragment,t),i=!0)},o(t){lt(e.$$.fragment,t),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i=!1},d(t){ht(e,t),t&&b(n),ht(o,t),t&&b(r),ht(s,t)}}}function pn(t){let e,n,o,r,s,i;return e=new sn({}),o=new he({}),s=new de({}),{c(){gt(e.$$.fragment),n=E(),gt(o.$$.fragment),r=E(),gt(s.$$.fragment)},m(t,l){mt(e,t,l),v(t,n,l),mt(o,t,l),v(t,r,l),mt(s,t,l),i=!0},i(t){i||(it(e.$$.fragment,t),it(o.$$.fragment,t),it(s.$$.fragment,t),i=!0)},o(t){lt(e.$$.fragment,t),lt(o.$$.fragment,t),lt(s.$$.fragment,t),i=!1},d(t){ht(e,t),t&&b(n),ht(o,t),t&&b(r),ht(s,t)}}}function gn(t){let e,n,o,r;const s=[dn,fn,an],i=[];function l(t,e){return"first"===t[0]?0:"started"===t[0]?1:"voting"===t[0]?2:-1}return~(n=l(t))&&(o=i[n]=s[n](t)),{c(){e=w("main"),o&&o.c()},m(t,o){v(t,e,o),~n&&i[n].m(e,null),r=!0},p(t,[r]){let c=n;n=l(t),n===c?~n&&i[n].p(t,r):(o&&(rt(),lt(i[c],1,1,(()=>{i[c]=null})),st()),~n?(o=i[n],o?o.p(t,r):(o=i[n]=s[n](t),o.c()),it(o,1),o.m(e,null)):o=null)},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(e),~n&&i[n].d()}}}function mn(t,e,n){let o,r,s,i;a(t,Wt,(t=>n(4,o=t))),a(t,Ht,(t=>n(5,r=t))),a(t,Bt,(t=>n(1,i=t)));const{onOutro:l,transitionTo:c,state:u}=_e("first");return a(t,u,(t=>n(0,s=t))),t.$$.update=()=>{48&t.$$.dirty&&("voting"===o?(console.log("voting"),c(o)):0===r?(console.log("first"),c("first")):"started"===o?(console.log("started"),c(o)):console.log(`I'm nowhere...\n    $playingState ${o},\n    $playingState ${r},\n    `))},[s,i,l,u,o,r]}class hn extends bt{constructor(t){super(),vt(this,t,mn,gn,l,{})}}function yn(e){let n,o,r,i,l,c,u,a,d,$,p,g,m,h;return{c(){n=w("main"),o=w("h1"),o.textContent="Undercover",r=E(),i=w("h2"),i.textContent="Input your name",l=E(),c=w("br"),u=E(),a=w("input"),d=E(),$=w("br"),p=E(),g=w("button"),g.textContent="OK",S(o,"class","svelte-77e15d"),S(i,"class","svelte-77e15d"),S(a,"type","text"),S(a,"size","15"),S(a,"class","svelte-77e15d"),S(g,"class","svelte-77e15d")},m(t,s){v(t,n,s),y(n,o),y(n,r),y(n,i),y(n,l),y(n,c),y(n,u),y(n,a),T(a,e[0]),y(n,d),y(n,$),y(n,p),y(n,g),m||(h=[f(vn.call(null,a)),O(a,"input",e[5]),O(a,"keyup",k(e[2])),O(g,"click",e[1])],m=!0)},p(t,[e]){1&e&&a.value!==t[0]&&T(a,t[0])},i:t,o:t,d(t){t&&b(n),m=!1,s(h)}}}function vn(t){t.focus()}function bn(t,e,n){let o,r,s;a(t,Tt,(t=>n(3,r=t))),a(t,Nt,(t=>n(4,s=t)));let i="";function l(){i.length>0&&(-1===o.indexOf(i)?(Kt(function(t){return{topic:"player",subtopic:"add",data:t}}(i)),Rt.set(i)):alert("This name has already been picked!"))}return t.$$.update=()=>{8&t.$$.dirty&&(o=r),16&t.$$.dirty&&s&&Kt({topic:"player",subtopic:"get"})},[i,l,function(){"Enter"===event.code&&l()},r,s,function(){i=this.value,n(0,i)}]}class _n extends bt{constructor(t){super(),vt(this,t,bn,yn,l,{})}}function wn(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function xn(e,n){let o,r,s,i,l,c,u,a=Cn(n[1],n[3])+"",f=t;return{key:e,first:null,c(){o=w("p"),s=E(),r=new R(s),this.first=o},m(t,e){v(t,o,e),r.m(a,o),y(o,s),u=!0},p(t,e){n=t,(!u||3&e)&&a!==(a=Cn(n[1],n[3])+"")&&r.p(a)},r(){c=o.getBoundingClientRect()},f(){A(o),f(),q(o,c)},a(){f(),f=G(o,c,ee,{})},i(t){u||(F((()=>{l&&l.end(1),i||(i=ut(o,te,{key:n[1]})),i.start()})),u=!0)},o(t){i&&i.invalidate(),l=at(o,Zt,{key:n[1]}),u=!1},d(t){t&&b(o),t&&l&&l.end()}}}function En(t){let e,n,o,r,s=[],i=new Map,l=t[0];const c=t=>t[3];for(let e=0;e<l.length;e+=1){let n=wn(t,l,e),o=c(n);i.set(o,s[e]=xn(o,n))}return{c(){e=w("main"),n=w("h2"),n.textContent="Connected players",o=E();for(let t=0;t<s.length;t+=1)s[t].c();S(n,"class","svelte-1kjq7yr")},m(t,i){v(t,e,i),y(e,n),y(e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);r=!0},p(t,[n]){if(3&n){l=t[0],rt();for(let t=0;t<s.length;t+=1)s[t].r();s=pt(s,n,c,1,t,l,i,e,$t,xn,null,wn);for(let t=0;t<s.length;t+=1)s[t].a();st()}},i(t){if(!r){for(let t=0;t<l.length;t+=1)it(s[t]);r=!0}},o(t){for(let t=0;t<s.length;t+=1)lt(s[t]);r=!1},d(t){t&&b(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Cn(t,e){return t===e?`<b> ${e} <b>`:e}function On(t,e,n){let o,r,s;return a(t,Tt,(t=>n(2,r=t))),a(t,Rt,(t=>n(1,s=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,o=r)},[o,s,r]}class kn extends bt{constructor(t){super(),vt(this,t,On,En,l,{})}}function Sn(e){let n,o,r,i,l,c,u,a,f,d,$,p,g,m,h,_,C,k,T,R,M,V;return{c(){n=w("main"),o=w("h2"),o.textContent="Settings",r=E(),i=w("p"),i.textContent="Undercover",l=E(),c=w("button"),c.textContent="<",u=E(),a=w("div"),f=x(e[0]),d=E(),$=w("button"),$.textContent=">",p=E(),g=w("p"),g.textContent="Mr White",m=E(),h=w("button"),h.textContent="<",_=E(),C=w("div"),k=x(e[1]),T=E(),R=w("button"),R.textContent=">",S(o,"class","svelte-1678sro"),S(c,"class","svelte-1678sro"),S(a,"class","svelte-1678sro"),S($,"class","svelte-1678sro"),S(h,"class","svelte-1678sro"),S(C,"class","svelte-1678sro"),S(R,"class","svelte-1678sro"),S(n,"class","svelte-1678sro")},m(t,s){v(t,n,s),y(n,o),y(n,r),y(n,i),y(n,l),y(n,c),y(n,u),y(n,a),y(a,f),y(n,d),y(n,$),y(n,p),y(n,g),y(n,m),y(n,h),y(n,_),y(n,C),y(C,k),y(n,T),y(n,R),M||(V=[O(c,"click",e[3]),O($,"click",e[4]),O(h,"click",e[5]),O(R,"click",e[6])],M=!0)},p(t,[e]){1&e&&I(f,t[0]),2&e&&I(k,t[1])},i:t,o:t,d(t){t&&b(n),M=!1,s(V)}}}function In(t,e,n){let o,r;function s(t,e){Kt({topic:"settings",subtopic:t,data:e})}a(t,Mt,(t=>n(0,o=t))),a(t,Vt,(t=>n(1,r=t))),D((()=>{Kt({topic:"settings",subtopic:"get"})}));return[o,r,s,()=>s("undercover","decrement"),()=>s("undercover","increment"),()=>s("white","decrement"),()=>s("white","increment")]}class Tn extends bt{constructor(t){super(),vt(this,t,In,Sn,l,{})}}function Rn(e){let n,o,r,s;return{c(){n=w("button"),o=x("Start"),n.disabled=e[0]},m(t,i){v(t,n,i),y(n,o),r||(s=O(n,"click",e[1]),r=!0)},p(t,[e]){1&e&&(n.disabled=t[0])},i:t,o:t,d(t){t&&b(n),r=!1,s()}}}function Mn(t,e,n){let o,r,s,i,l;return a(t,Tt,(t=>n(3,s=t))),a(t,Mt,(t=>n(4,i=t))),a(t,Vt,(t=>n(5,l=t))),t.$$.update=()=>{8&t.$$.dirty&&n(2,o=s.length),52&t.$$.dirty&&n(0,r=!function(t,e,n){let o=t+e;return!(n<3||0===o||o>=n)&&n-o>=2}(i,l,o))},[r,function(){Kt({topic:"game",subtopic:"start"})},o,s,i,l]}class Vn extends bt{constructor(t){super(),vt(this,t,Mn,Rn,l,{})}}function Nn(e){let n,o,r,s,i,l,c,u,a,f,d,$,p,g;return o=new Tn({}),l=new Vn({}),f=new kn({}),{c(){n=w("div"),gt(o.$$.fragment),r=E(),s=w("br"),i=E(),gt(l.$$.fragment),c=E(),u=w("br"),a=E(),gt(f.$$.fragment)},m(t,d){v(t,n,d),mt(o,n,null),y(n,r),y(n,s),y(n,i),mt(l,n,null),y(n,c),y(n,u),y(n,a),mt(f,n,null),$=!0,p||(g=O(n,"outroend",e[1]),p=!0)},p:t,i(t){$||(it(o.$$.fragment,t),it(l.$$.fragment,t),it(f.$$.fragment,t),d||F((()=>{d=ut(n,Et,{x:500,duration:1e3}),d.start()})),$=!0)},o(t){lt(o.$$.fragment,t),lt(l.$$.fragment,t),lt(f.$$.fragment,t),$=!1},d(t){t&&b(n),ht(o),ht(l),ht(f),p=!1,g()}}}function Ln(e){let n,o,r,s,i,l;return o=new _n({}),{c(){n=w("div"),gt(o.$$.fragment)},m(t,r){v(t,n,r),mt(o,n,null),s=!0,i||(l=O(n,"outroend",e[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r&&r.end(1),s=!0)},o(t){lt(o.$$.fragment,t),r=at(n,Et,{x:-500,duration:200}),s=!1},d(t){t&&b(n),ht(o),t&&r&&r.end(),i=!1,l()}}}function Wn(t){let e,n,o,r;const s=[Ln,Nn],i=[];function l(t,e){return""===t[0]?0:1}return n=l(t),o=i[n]=s[n](t),{c(){e=w("main"),o.c()},m(t,o){v(t,e,o),i[n].m(e,null),r=!0},p(t,[r]){let c=n;n=l(t),n===c?i[n].p(t,r):(rt(),lt(i[c],1,1,(()=>{i[c]=null})),st(),o=i[n],o?o.p(t,r):(o=i[n]=s[n](t),o.c()),it(o,1),o.m(e,null))},i(t){r||(it(o),r=!0)},o(t){lt(o),r=!1},d(t){t&&b(e),i[n].d()}}}function Gn(t,e,n){let o,r;a(t,Rt,(t=>n(3,o=t)));const{onOutro:s,transitionTo:i,state:l}=_e(o);return a(t,l,(t=>n(0,r=t))),t.$$.update=()=>{8&t.$$.dirty&&o&&i(o)},[r,s,l,o]}class An extends bt{constructor(t){super(),vt(this,t,Gn,Wn,l,{})}}function qn(e){let n,o,r,s,i,l;return o=new An({}),{c(){n=w("div"),gt(o.$$.fragment)},m(t,r){v(t,n,r),mt(o,n,null),s=!0,i||(l=O(n,"outroend",e[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r&&r.end(1),s=!0)},o(t){lt(o.$$.fragment,t),r=at(n,Et,{y:500,duration:300}),s=!1},d(t){t&&b(n),ht(o),t&&r&&r.end(),i=!1,l()}}}function Hn(e){let n,o,r,s,i,l;return o=new hn({}),{c(){n=w("div"),gt(o.$$.fragment)},m(t,r){v(t,n,r),mt(o,n,null),s=!0,i||(l=O(n,"outroend",e[1]),i=!0)},p:t,i(t){s||(it(o.$$.fragment,t),r||F((()=>{r=ut(n,Et,{y:500,duration:500}),r.start()})),s=!0)},o(t){lt(o.$$.fragment,t),s=!1},d(t){t&&b(n),ht(o),i=!1,l()}}}function Dn(t){let e,n,o,r="init"===t[0]&&qn(t),s="started"===t[0]&&Hn(t);return{c(){e=w("main"),r&&r.c(),n=E(),s&&s.c(),S(e,"class","svelte-1gmv5eg")},m(t,i){v(t,e,i),r&&r.m(e,null),y(e,n),s&&s.m(e,null),o=!0},p(t,[o]){"init"===t[0]?r?(r.p(t,o),1&o&&it(r,1)):(r=qn(t),r.c(),it(r,1),r.m(e,n)):r&&(rt(),lt(r,1,1,(()=>{r=null})),st()),"started"===t[0]?s?(s.p(t,o),1&o&&it(s,1)):(s=Hn(t),s.c(),it(s,1),s.m(e,null)):s&&(rt(),lt(s,1,1,(()=>{s=null})),st())},i(t){o||(it(r),it(s),o=!0)},o(t){lt(r),lt(s),o=!1},d(t){t&&b(e),r&&r.d(),s&&s.d()}}}function Pn(t,e,n){let o,r;a(t,Wt,(t=>n(3,o=t)));const{onOutro:s,transitionTo:i,state:l}=_e("init");return a(t,l,(t=>n(0,r=t))),t.$$.update=()=>{8&t.$$.dirty&&"started"===o&&i("started")},[r,s,l,o]}return new class extends bt{constructor(t){super(),vt(this,t,Pn,Dn,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
