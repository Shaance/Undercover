var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(s(t,n))}const l="undefined"!=typeof window;let g=l?()=>window.performance.now():()=>Date.now(),c=l?e=>requestAnimationFrame(e):e;const p=new Set;function f(e){p.forEach((t=>{t.c(e)||(p.delete(t),t.f())})),0!==p.size&&c(f)}function h(e){let t;return 0===p.size&&c(f),{promise:new Promise((n=>{p.add(t={c:e,f:n})})),abort(){p.delete(t)}}}function d(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function L(){return _(" ")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}class O{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=v(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)m(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}const E=new Set;let F,M=0;function T(e,t,n,r,o,i,a,s=0){const u=16.666/r;let l="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*i(e);l+=100*e+`%{${a(r,1-r)}}\n`}const g=l+`100% {${a(n,1-n)}}\n}`,c=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(g)}_${s}`,p=e.ownerDocument;E.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(v("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[c]||(h[c]=!0,f.insertRule(`@keyframes ${c} ${g}`,f.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${c} ${r}ms linear ${o}ms 1 both`,M+=1,c}function N(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),M-=o,M||c((()=>{M||(E.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),E.clear())})))}function R(e){F=e}function A(e){(function(){if(!F)throw new Error("Function called outside component initialization");return F})().$$.on_mount.push(e)}const x=[],P=[],j=[],$=[],k=Promise.resolve();let I=!1;function D(e){j.push(e)}let G=!1;const B=new Set;function U(){if(!G){G=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];R(t),Y(t.$$)}for(R(null),x.length=0;P.length;)P.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];B.has(t)||(B.add(t),t())}j.length=0}while(x.length);for(;$.length;)$.pop()();I=!1,G=!1,B.clear()}}function Y(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}let W;function z(){return W||(W=Promise.resolve(),W.then((()=>{W=null}))),W}function J(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const H=new Set;let V;function q(){V={r:0,c:[],p:V}}function K(){V.r||o(V.c),V=V.p}function Z(e,t){e&&e.i&&(H.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(H.has(e))return;H.add(e),V.c.push((()=>{H.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const Q={duration:0};function ee(n,r,o){let a,s,u=r(n,o),l=!1,c=0;function p(){a&&N(n,a)}function f(){const{delay:r=0,duration:o=300,easing:i=t,tick:f=e,css:d}=u||Q;d&&(a=T(n,0,1,o,r,i,d,c++)),f(0,1);const m=g()+r,y=m+o;s&&s.abort(),l=!0,D((()=>J(n,!0,"start"))),s=h((e=>{if(l){if(e>=y)return f(1,0),J(n,!0,"end"),p(),l=!1;if(e>=m){const t=i((e-m)/o);f(t,1-t)}}return l}))}let d=!1;return{start(){d||(N(n),i(u)?(u=u(),z().then(f)):f())},invalidate(){d=!1},end(){l&&(p(),l=!1)}}}function te(n,r,a){let s,u=r(n,a),l=!0;const c=V;function p(){const{delay:r=0,duration:i=300,easing:a=t,tick:p=e,css:f}=u||Q;f&&(s=T(n,1,0,i,r,a,f));const d=g()+r,m=d+i;D((()=>J(n,!1,"start"))),h((e=>{if(l){if(e>=m)return p(0,1),J(n,!1,"end"),--c.r||o(c.c),!1;if(e>=d){const t=a((e-d)/i);p(1-t,t)}}return l}))}return c.r+=1,i(u)?z().then((()=>{u=u(),p()})):p(),{end(e){e&&u.tick&&u.tick(1,0),l&&(s&&N(n,s),l=!1)}}}function ne(e){e&&e.c()}function re(e,t,r){const{fragment:a,on_mount:s,on_destroy:u,after_update:l}=e.$$;a&&a.m(t,r),D((()=>{const t=s.map(n).filter(i);u?u.push(...t):o(t),e.$$.on_mount=[]})),l.forEach(D)}function oe(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){-1===e.$$.dirty[0]&&(x.push(e),I||(I=!0,k.then(U)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ae(t,n,i,a,s,u,l=[-1]){const g=F;R(t);const c=n.props||{},p=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:r(),dirty:l,skip_bound:!1};let f=!1;if(p.ctx=i?i(t,c,((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&ie(t,e)),n})):[],p.update(),f=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(y)}else p.fragment&&p.fragment.c();n.intro&&Z(t.$$.fragment),re(t,n.target,n.anchor),U()}R(g)}class se{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ue(e){const t=e-1;return t*t*t+1}function le(e,{delay:t=0,duration:n=400,easing:r=ue,x:o=0,y:i=0,opacity:a=0}){const s=getComputedStyle(e),u=+s.opacity,l="none"===s.transform?"":s.transform,g=u*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${u-g*t}`}}const ge=[];function ce(t,n=e){let r;const o=[];function i(e){if(a(t,e)&&(t=e,r)){const e=!ge.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),ge.push(n,t)}if(e){for(let e=0;e<ge.length;e+=2)ge[e][0](ge[e+1]);ge.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const u=[a,s];return o.push(u),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(u);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}var pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function fe(e){var t={exports:{}};return e(t,t.exports),t.exports}var he=fe((function(e,t){var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warn=3]="Warn",n[n.Error=4]="Error",n[n.Fatal=5]="Fatal",function(e){e.fromString=function(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;default:throw new Error("Unsupported value for conversion: "+t)}}}(t.LogLevel||(t.LogLevel={})),(r=t.LoggerType||(t.LoggerType={}))[r.Console=0]="Console",r[r.MessageBuffer=1]="MessageBuffer",r[r.Custom=2]="Custom",function(e){e[e.Default=0]="Default",e[e.YearMonthDayTime=1]="YearMonthDayTime",e[e.YearDayMonthWithFullTime=2]="YearDayMonthWithFullTime",e[e.YearDayMonthTime=3]="YearDayMonthTime"}(t.DateFormatEnum||(t.DateFormatEnum={})),function(e){e.fromString=function(t){if(null==t)throw new Error("Argument must be set");switch(t.toLowerCase()){case"default":return e.Default;case"yearmonthdayTime":return e.YearMonthDayTime;case"yeardaymonthwithfulltime":return e.YearDayMonthWithFullTime;case"yeardaymonthtime":return e.YearDayMonthTime;default:throw new Error("Unsupported value for conversion: "+t)}}}(o=t.DateFormatEnum||(t.DateFormatEnum={}));var i=function(){function e(e,t){void 0===e&&(e=o.Default),void 0===t&&(t="-"),this._formatEnum=e,this._dateSeparator=t}return Object.defineProperty(e.prototype,"formatEnum",{get:function(){return this._formatEnum},set:function(e){this._formatEnum=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateSeparator",{get:function(){return this._dateSeparator},set:function(e){this._dateSeparator=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._formatEnum,this._dateSeparator)},e}();t.DateFormat=i;var a=function(){function e(e,t,n){void 0===e&&(e=new i),void 0===t&&(t=!0),void 0===n&&(n=!0),this._showTimeStamp=!0,this._showLoggerName=!0,this._dateFormat=e,this._showTimeStamp=t,this._showLoggerName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLoggerName",{get:function(){return this._showLoggerName},set:function(e){this._showLoggerName=e},enumerable:!0,configurable:!0}),e}();t.LogFormat=a;var s=function(){function e(e,t,n){void 0===e&&(e=new i),void 0===t&&(t=!0),void 0===n&&(n=!0),this._dateFormat=e,this._showTimeStamp=t,this._showCategoryName=n}return Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCategoryName",{get:function(){return this._showCategoryName},set:function(e){this._showCategoryName=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){return new e(this._dateFormat.copy(),this._showTimeStamp,this._showCategoryName)},e}();t.CategoryLogFormat=s})),de=function(){function e(e){this._previous=null,this._next=null,this._value=e}return Object.defineProperty(e.prototype,"previous",{get:function(){return this._previous},set:function(e){this._previous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),me=function(){function e(){this.head=null,this.size=0}return e.prototype.addHead=function(e){if(!this.createHeadIfNeeded(e)){if(null==this.head)throw new Error("This should never happen, list implementation broken");var t=this.head.next,n=new de(e);null!=t&&(t.previous=n,n.next=t),this.head=n}this.size++},e.prototype.addTail=function(e){if(!this.createHeadIfNeeded(e)){var t=this.getTailNode();if(null==t)throw new Error("List implementation broken");var n=new de(e);t.next=n,n.previous=t}this.size++},e.prototype.clear=function(){this.head=null,this.size=0},e.prototype.getHead=function(){return null!=this.head?this.head.value:null},e.prototype.removeHead=function(){if(null!=this.head){var e=this.head,t=e.value;return this.head=e.next,this.size--,t}return null},e.prototype.getTail=function(){var e=this.getTailNode();return null!=e?e.value:null},e.prototype.removeTail=function(){var e=this.getTailNode();if(null!=e){if(e===this.head)this.head=null;else{var t=e.previous;if(null==t)throw new Error("List implementation is broken");t.next=null}return this.size--,e.value}return null},e.prototype.getSize=function(){return this.size},e.prototype.filter=function(e){var t=function(e,n,r){e(n.value)&&r.push(n.value);var o=n.next;null!=o&&t(e,o,r)},n=[],r=this.head;return null!=r&&t(e,r,n),n},e.prototype.createHeadIfNeeded=function(e){return null==this.head&&(this.head=new de(e),!0)},e.prototype.getTailNode=function(){if(null==this.head)return null;for(var e=this.head;null!=e.next;)e=e.next;return e},e}(),ye=function(){function e(){this.array={}}return e.prototype.put=function(e,t){this.array[e]=t},e.prototype.get=function(e){return this.array[e]},e.prototype.exists=function(e){return void 0!==this.array[e]},e.prototype.remove=function(e){var t=this.array[e];return void 0!==t&&delete this.array[e],t},e.prototype.keys=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(t);return e},e.prototype.values=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(this.get(t));return e},e.prototype.size=function(){return this.keys().length},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.array={}},e.prototype.forEach=function(e){var t=0;for(var n in this.array){if(this.array.hasOwnProperty(n))e(n,this.array[n],t),t++}},e.prototype.forEachValue=function(e){var t=0;for(var n in this.array){if(this.array.hasOwnProperty(n))e(this.array[n],t),t++}},e}(),ve=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e}(),_e=function(){function e(){this.data=[]}return e.prototype.append=function(e){if(void 0===e||null==e)throw new Error("String must be set, cannot append null or undefined");return this.data.push(e),this},e.prototype.appendLine=function(e){return this.data.push(e+"\n"),this},e.prototype.isEmpty=function(){return 0===this.data.length},e.prototype.clear=function(){this.data=[]},e.prototype.toString=function(e){return void 0===e&&(e=""),this.data.join(e)},e}(),Le=Object.defineProperty({LinkedList:me,SimpleMap:ye,TuplePair:ve,StringBuilder:_e},"__esModule",{value:!0}),be=fe((function(e,t){e.exports=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t}()})),we=fe((function(e,t){e.exports=function(e){var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function o(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=t.call(n,e[o]);return r}function i(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],o=0;o<e.length;o++)t.call(n,e[o])&&r.push(e[o]);return r}function a(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return o(i(t.stack.split("\n"),(function(e){return!!e.match(n)}),this),(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=a(["eval","<anonymous>"],r[0])>-1?void 0:r[0];return new e(o,void 0,i,r[1],r[2],t)}),this)},parseFFOrSafari:function(t){return o(i(t.stack.split("\n"),(function(e){return!e.match(r)}),this),(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new e(o,void 0,r[0],r[1],r[2],t)}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e(void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera11:function(n){return o(i(n.stack.split("\n"),(function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this),(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(a,s,o[0],o[1],o[2],t)}),this)}}}(be)})),Ce=fe((function(e,t){e.exports=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],u=r.concat(o,i,a,s);function l(e){if(e)for(var n=0;n<u.length;n++)void 0!==e[u[n]]&&this["set"+t(u[n])](e[u[n]])}l.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof l)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new l(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},l.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),s=a[1],u=a[2],g=a[3];return new l({functionName:r,args:o||void 0,fileName:s,lineNumber:u||void 0,columnNumber:g||void 0})};for(var g=0;g<r.length;g++)l.prototype["get"+t(r[g])]=n(r[g]),l.prototype["set"+t(r[g])]=function(e){return function(t){this[e]=Boolean(t)}}(r[g]);for(var c=0;c<o.length;c++)l.prototype["get"+t(o[c])]=n(o[c]),l.prototype["set"+t(o[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[c]);for(var p=0;p<i.length;p++)l.prototype["get"+t(i[p])]=n(i[p]),l.prototype["set"+t(i[p])]=function(e){return function(t){this[e]=String(t)}}(i[p]);return l}()})),Se=fe((function(e,t){var n;e.exports=(n=Ce,{backtrace:function(e){var t=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var o=arguments.callee;o&&t.length<r;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?t.push(new n({functionName:RegExp.$1||void 0,args:i})):t.push(new n({args:i}));try{o=o.caller}catch(e){break}}return t}})})),Oe=fe((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var a,s=t.isAbsolute(n),u=n.split(/\/+/),l=0,g=u.length-1;g>=0;g--)"."===(a=u[g])?u.splice(g,1):".."===a?l++:l>0&&(""===a?(u.splice(g+1,l),l=0):(u.splice(g,2),l--));return""===(n=u.join("/"))&&(n=s?"/":"."),r?(r.path=n,i(r)):n}t.urlParse=o,t.urlGenerate=i,t.normalize=a,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),s=o(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),i(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,i(s);var u="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=u,i(s)):u},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function g(e,t){return e===t?0:e>t?1:-1}t.toSetString=s?u:function(e){return l(e)?"$"+e:e},t.fromSetString=s?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=e.source-t.source)||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=g(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:g(e.name,t.name)}})),Ee=fe((function(e,t){function n(e,r,o,i,a,s){var u=Math.floor((r-e)/2)+e,l=a(o,i[u],!0);return 0===l?u:l>0?r-u>1?n(u,r,o,i,a,s):s==t.LEAST_UPPER_BOUND?r<i.length?r:-1:u:u-e>1?n(e,u,o,i,a,s):s==t.LEAST_UPPER_BOUND?u:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,o,i){if(0===r.length)return-1;var a=n(-1,r.length,e,r,o,i||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(r[a],r[a-1],!0);)--a;return a}})),Fe=Object.prototype.hasOwnProperty;function Me(){this._array=[],this._set=Object.create(null)}Me.fromArray=function(e,t){for(var n=new Me,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},Me.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},Me.prototype.add=function(e,t){var n=Oe.toSetString(e),r=Fe.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=o)},Me.prototype.has=function(e){var t=Oe.toSetString(e);return Fe.call(this._set,t)},Me.prototype.indexOf=function(e){var t=Oe.toSetString(e);if(Fe.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},Me.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},Me.prototype.toArray=function(){return this._array.slice()};var Te={ArraySet:Me},Ne=("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1});var Re=function(e,t,n){var r,o,i,a,s=e.length,u=0,l=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=Ne(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),u+=(o&=31)<<l,l+=5}while(r);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t};function Ae(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function xe(e,t,n,r){if(n<r){var o=n-1;Ae(e,(u=n,l=r,Math.round(u+Math.random()*(l-u))),r);for(var i=e[r],a=n;a<r;a++)t(e[a],i)<=0&&Ae(e,o+=1,a);Ae(e,o+1,a);var s=o+1;xe(e,t,n,s-1),xe(e,t,s+1,r)}var u,l}var Pe=Te.ArraySet,je=function(e,t){xe(e,t,0,e.length-1)};function $e(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new Be(t):new Ie(t)}$e.fromSourceMap=function(e){return Ie.fromSourceMap(e)},$e.prototype._version=3,$e.prototype.__generatedMappings=null,Object.defineProperty($e.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),$e.prototype.__originalMappings=null,Object.defineProperty($e.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),$e.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},$e.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},$e.GENERATED_ORDER=1,$e.ORIGINAL_ORDER=2,$e.GREATEST_LOWER_BOUND=1,$e.LEAST_UPPER_BOUND=2,$e.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||$e.GENERATED_ORDER){case $e.GENERATED_ORDER:r=this._generatedMappings;break;case $e.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=i&&(t=Oe.join(i,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},$e.prototype.allGeneratedPositionsFor=function(e){var t=Oe.getArg(e,"line"),n={source:Oe.getArg(e,"source"),originalLine:t,originalColumn:Oe.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=Oe.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Oe.compareByOriginalPositions,Ee.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)r.push({line:Oe.getArg(i,"generatedLine",null),column:Oe.getArg(i,"generatedColumn",null),lastColumn:Oe.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var s=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==s;)r.push({line:Oe.getArg(i,"generatedLine",null),column:Oe.getArg(i,"generatedColumn",null),lastColumn:Oe.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r};var ke=$e;function Ie(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=Oe.getArg(t,"version"),r=Oe.getArg(t,"sources"),o=Oe.getArg(t,"names",[]),i=Oe.getArg(t,"sourceRoot",null),a=Oe.getArg(t,"sourcesContent",null),s=Oe.getArg(t,"mappings"),u=Oe.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(Oe.normalize).map((function(e){return i&&Oe.isAbsolute(i)&&Oe.isAbsolute(e)?Oe.relative(i,e):e})),this._names=Pe.fromArray(o.map(String),!0),this._sources=Pe.fromArray(r,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=s,this.file=u}function De(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Ie.prototype=Object.create($e.prototype),Ie.prototype.consumer=$e,Ie.fromSourceMap=function(e){var t=Object.create(Ie.prototype),n=t._names=Pe.fromArray(e._names.toArray(),!0),r=t._sources=Pe.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var o=e._mappings.toArray().slice(),i=t.__generatedMappings=[],a=t.__originalMappings=[],s=0,u=o.length;s<u;s++){var l=o[s],g=new De;g.generatedLine=l.generatedLine,g.generatedColumn=l.generatedColumn,l.source&&(g.source=r.indexOf(l.source),g.originalLine=l.originalLine,g.originalColumn=l.originalColumn,l.name&&(g.name=n.indexOf(l.name)),a.push(g)),i.push(g)}return je(t.__originalMappings,Oe.compareByOriginalPositions),t},Ie.prototype._version=3,Object.defineProperty(Ie.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?Oe.join(this.sourceRoot,e):e}),this)}}),Ie.prototype._parseMappings=function(e,t){for(var n,r,o,i,a,s=1,u=0,l=0,g=0,c=0,p=0,f=e.length,h=0,d={},m={},y=[],v=[];h<f;)if(";"===e.charAt(h))s++,h++,u=0;else if(","===e.charAt(h))h++;else{for((n=new De).generatedLine=s,i=h;i<f&&!this._charIsMappingSeparator(e,i);i++);if(o=d[r=e.slice(h,i)])h+=r.length;else{for(o=[];h<i;)Re(e,h,m),a=m.value,h=m.rest,o.push(a);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");d[r]=o}n.generatedColumn=u+o[0],u=n.generatedColumn,o.length>1&&(n.source=c+o[1],c+=o[1],n.originalLine=l+o[2],l=n.originalLine,n.originalLine+=1,n.originalColumn=g+o[3],g=n.originalColumn,o.length>4&&(n.name=p+o[4],p+=o[4])),v.push(n),"number"==typeof n.originalLine&&y.push(n)}je(v,Oe.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,je(y,Oe.compareByOriginalPositions),this.__originalMappings=y},Ie.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return Ee.search(e,t,o,i)},Ie.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},Ie.prototype.originalPositionFor=function(e){var t={generatedLine:Oe.getArg(e,"line"),generatedColumn:Oe.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",Oe.compareByGeneratedPositionsDeflated,Oe.getArg(e,"bias",$e.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=Oe.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=Oe.join(this.sourceRoot,o)));var i=Oe.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:Oe.getArg(r,"originalLine",null),column:Oe.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},Ie.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},Ie.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=Oe.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=Oe.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},Ie.prototype.generatedPositionFor=function(e){var t=Oe.getArg(e,"source");if(null!=this.sourceRoot&&(t=Oe.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:Oe.getArg(e,"line"),originalColumn:Oe.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Oe.compareByOriginalPositions,Oe.getArg(e,"bias",$e.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:Oe.getArg(o,"generatedLine",null),column:Oe.getArg(o,"generatedColumn",null),lastColumn:Oe.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var Ge=Ie;function Be(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=Oe.getArg(t,"version"),r=Oe.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Pe,this._names=new Pe;var o={line:-1,column:0};this._sections=r.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=Oe.getArg(e,"offset"),n=Oe.getArg(t,"line"),r=Oe.getArg(t,"column");if(n<o.line||n===o.line&&r<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new $e(Oe.getArg(e,"map"))}}))}Be.prototype=Object.create($e.prototype),Be.prototype.constructor=$e,Be.prototype._version=3,Object.defineProperty(Be.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),Be.prototype.originalPositionFor=function(e){var t={generatedLine:Oe.getArg(e,"line"),generatedColumn:Oe.getArg(e,"column")},n=Ee.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},Be.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},Be.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},Be.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(Oe.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},Be.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],s=r.consumer._sources.at(a.source);null!==r.consumer.sourceRoot&&(s=Oe.join(r.consumer.sourceRoot,s)),this._sources.add(s),s=this._sources.indexOf(s);var u=r.consumer._names.at(a.name);this._names.add(u),u=this._names.indexOf(u);var l={source:s,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}je(this.__generatedMappings,Oe.compareByGeneratedPositionsDeflated),je(this.__originalMappings,Oe.compareByOriginalPositions)};var Ue,Ye={SourceMapConsumer:ke,BasicSourceMapConsumer:Ge,IndexedSourceMapConsumer:Be},We=fe((function(e,t){e.exports=function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function i(e,t){for(var n,r=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,a=e.split("\n"),s="",u=Math.min(t,20),l=0;l<u;++l){var g=a[t-l-1],c=g.indexOf("//");if(c>=0&&(g=g.substr(0,c)),g){if(s=g+s,(n=o.exec(s))&&n[1])return n[1];if((n=r.exec(s))&&n[1])return n[1];if((n=i.exec(s))&&n[1])return n[1]}}}function a(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function s(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}function l(n,r,o){return new Promise((function(i,a){var s=new e.SourceMapConsumer(r),u=s.originalPositionFor({line:n.lineNumber,column:n.columnNumber});if(u.source){var l=s.sourceContentFor(u.source);l&&(o[u.source]=l),i(new t(u.name||n.functionName,n.args,u.source,u.line,u.column))}else a(new Error("Could not get original source for given stackframe and source map"))}))}return function e(g){if(!(this instanceof e))return new e(g);g=g||{},this.sourceCache=g.sourceCache||{},this.ajax=g.ajax||n,this._atob=g.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(g.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var o=/^data:application\/json;([\w=:"-]+;)*base64,/,i=e.match(o);if(i){var a=i[0].length,s=e.substr(a),u=this._atob(s);this.sourceCache[e]=u,t(u)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var l=this.ajax(e,{method:"get"});this.sourceCache[e]=l,l.then(t,n)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){s(e),this._get(e.fileName).then((function(r){var o=e.lineNumber,a=e.columnNumber,s=i(r,o);n(s?new t(s,e.args,e.fileName,o,a):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,n){a(),s(e);var r=this.sourceCache,i=e.fileName;this._get(i).then(function(a){var s=u(a),g="data:"===s.substr(0,5),c=i.substring(0,i.lastIndexOf("/")+1);"/"===s[0]||g||/^https?:\/\/|^\/\//i.test(s)||(s=c+s),this._get(s).then((function(n){"string"==typeof n&&(n=o(n.replace(/^\)\]\}'/,""))),void 0===n.sourceRoot&&(n.sourceRoot=c),l(e,n,r).then(t).catch((function(){t(e)}))}),n).catch(n)}.bind(this),n).catch(n)}.bind(this))}}}(Ye,be)})),ze=fe((function(e,t){e.exports=function(e,t,n){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},o=function(){try{throw new Error}catch(e){return e}};function i(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n})),n}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=o();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=i(r,n);var u=o();return s(a(u)?e.parse(u):t.backtrace(n),n.filter)},fromError:function(t,o){o=i(r,o);var a=new n(o);return new Promise(function(n){var r=s(e.parse(t),o.filter);n(Promise.all(r.map((function(e){return new Promise((function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=i(r,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var o=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw a(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return o.__stacktraceOriginalFn=e,o},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n){return new Promise((function(r,o){var i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?r(i.responseText):o(new Error("POST to "+t+" failed with status: "+i.status)))},i.open("post",t),i.setRequestHeader("Content-Type","application/json");var a={stack:e};void 0!==n&&(a.message=n),i.send(JSON.stringify(a))}))}}}(we,Se,We)})),Je=function(){function e(){}return e.renderDate=function(e,t){var n=function(e,t,n){var r=t-e.length;if(r>0){for(var o="",i=0;i<r;i++)o+=n;return o+=e}return e},r=function(e){return n(e.getFullYear().toString(),4,"0")},o=function(e){return n((e.getMonth()+1).toString(),2,"0")},i=function(e){return n(e.getDate().toString(),2,"0")},a=function(e){return n(e.getHours().toString(),2,"0")},s=function(e){return n(e.getMinutes().toString(),2,"0")},u=function(e){return n(e.getSeconds().toString(),2,"0")},l=function(e){return n(e.getMilliseconds().toString(),3,"0")},g=t.dateSeparator,c="";switch(t.formatEnum){case he.DateFormatEnum.Default:c=r(e)+g+o(e)+g+i(e)+" "+a(e)+":"+s(e)+":"+u(e)+","+l(e);break;case he.DateFormatEnum.YearMonthDayTime:c=r(e)+g+o(e)+g+i(e)+" "+a(e)+":"+s(e)+":"+u(e);break;case he.DateFormatEnum.YearDayMonthWithFullTime:c=r(e)+g+i(e)+g+o(e)+" "+a(e)+":"+s(e)+":"+u(e)+","+l(e);break;case he.DateFormatEnum.YearDayMonthTime:c=r(e)+g+i(e)+g+o(e)+" "+a(e)+":"+s(e)+":"+u(e);break;default:throw new Error("Unsupported date format enum: "+t.formatEnum)}return c},e.renderDefaultMessage=function(t,n){var r="",o=t.logFormat;o.showTimeStamp&&(r+=e.renderDate(t.date,o.dateFormat)+" "),r+=he.LogLevel[t.level].toUpperCase(),t.isResolvedErrorMessage&&(r+=" (resolved)"),r+=" ",o.showCategoryName&&(r+="[",t.categories.forEach((function(e,t){t>0&&(r+=", "),r+=e.name})),r+="]");var i="",a="",s=t.message;if("string"==typeof s)i=s;else{var u=s;i=u.msg,u.data&&(a=" [data]: "+(u.ds?u.ds(u.data):JSON.stringify(u.data)))}return r+=" "+i+a,n&&null!==t.errorAsStack&&(r+="\n"+t.errorAsStack),r},e.renderDefaultLog4jMessage=function(t,n){var r=t.logGroupRule.logFormat,o="";r.showTimeStamp&&(o+=e.renderDate(t.date,r.dateFormat)+" "),o+=he.LogLevel[t.level].toUpperCase()+" ",r.showLoggerName&&(o+="["+t.loggerName+"]");var i="",a="";if("string"==typeof t.message)i=t.message;else{var s=t.message;i=s.msg,s.data&&(a=" [data]: "+(s.ds?s.ds(s.data):JSON.stringify(s.data)))}return o+=" "+i+a,n&&null!==t.errorAsStack&&(o+="\n"+t.errorAsStack),o},e.renderError=function(e){var t=e.name+": "+e.message+"\n@";return new Promise((function(n){ze.fromError(e,{offline:!0}).then((function(e){var r=e.map((function(e){return e.toString()})).join("\n  ");n(t+="\n"+r)})).catch((function(){t="Unexpected error object was passed in. ";try{t+="Could not resolve it, stringified object: "+JSON.stringify(e)}catch(e){t+="Could not resolve it or stringify it."}n(t)}))}))},e}(),He=Object.defineProperty({MessageFormatUtils:Je},"__esModule",{value:!0}),Ve=function(){function e(e,t,n,r,o,i,a,s){this._errorAsStack=null,this._error=null,this._loggerName=e,this._message=t,this._errorAsStack=n,this._error=r,this._logGroupRule=o,this._date=i,this._level=a,this._ready=s}return Object.defineProperty(e.prototype,"loggerName",{get:function(){return this._loggerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},set:function(e){this._logGroupRule=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),e}(),qe=function(){function e(e,t){this._allMessages=new Le.LinkedList,this._open=!0,this._name=e,this._logGroupRuntimeSettings=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.trace=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Trace,e,t)},e.prototype.debug=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Debug,e,t)},e.prototype.info=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Info,e,t)},e.prototype.warn=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Warn,e,t)},e.prototype.error=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Error,e,t)},e.prototype.fatal=function(e,t){void 0===t&&(t=null),this._log(he.LogLevel.Fatal,e,t)},e.prototype.isTraceEnabled=function(){return this._logGroupRuntimeSettings.level===he.LogLevel.Trace},e.prototype.isDebugEnabled=function(){return this._logGroupRuntimeSettings.level<=he.LogLevel.Debug},e.prototype.isInfoEnabled=function(){return this._logGroupRuntimeSettings.level<=he.LogLevel.Info},e.prototype.isWarnEnabled=function(){return this._logGroupRuntimeSettings.level<=he.LogLevel.Warn},e.prototype.isErrorEnabled=function(){return this._logGroupRuntimeSettings.level<=he.LogLevel.Error},e.prototype.isFatalEnabled=function(){return this._logGroupRuntimeSettings.level<=he.LogLevel.Fatal},e.prototype.getLogLevel=function(){return this._logGroupRuntimeSettings.level},e.prototype.isOpen=function(){return this._open},e.prototype.close=function(){this._open=!1,this._allMessages.clear()},e.prototype.createDefaultLogMessage=function(e){return He.MessageFormatUtils.renderDefaultLog4jMessage(e,!0)},e.prototype._getMessageFormatter=function(){return this._logGroupRuntimeSettings.formatterLogMessage},e.prototype._log=function(e,t,n){if(void 0===n&&(n=null),this._open&&this._logGroupRuntimeSettings.level<=e){this._allMessages.addTail(this.createMessage(e,(function(){return"function"==typeof t?t():t}),(function(){return"function"==typeof n?n():n}),new Date)),this.processMessages()}},e.prototype.createMessage=function(e,t,n,r){var o=this,i=n();if(null!==i){var a=new Ve(this._name,t(),null,i,this._logGroupRuntimeSettings.logGroupRule,r,e,!1);return He.MessageFormatUtils.renderError(i).then((function(e){a.errorAsStack=e,a.ready=!0,o.processMessages()})).catch((function(){a.errorAsStack="<UNKNOWN> unable to get stack.",a.ready=!0,o.processMessages()})),a}return new Ve(this._name,t(),null,i,this._logGroupRuntimeSettings.logGroupRule,r,e,!0)},e.prototype.processMessages=function(){var e=this._allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.ready)break;e.removeHead(),null!==t.message&&this.doLog(t)}}while(e.getSize()>0)},e}(),Ke=Object.defineProperty({AbstractLogger:qe},"__esModule",{value:!0}),Ze=pe&&pe.__extends||(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xe=function(e){function t(t,n){return e.call(this,t,n)||this}return Ze(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.message);var t=!1,n=e.level,r=this._getMessageFormatter(),o=void 0;switch(o=null===r?this.createDefaultLogMessage(e):r(e),n){case he.LogLevel.Trace:case he.LogLevel.Debug:break;case he.LogLevel.Info:console.info&&(console.info(o),t=!0);break;case he.LogLevel.Warn:console.warn&&(console.warn(o),t=!0);break;case he.LogLevel.Error:case he.LogLevel.Fatal:console.error&&(console.error(o),t=!0);break;default:throw new Error("Log level not supported: "+n)}t||console.log(o)},t}(Ke.AbstractLogger),Qe=Object.defineProperty({ConsoleLoggerImpl:Xe},"__esModule",{value:!0}),et=pe&&pe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.messages=[],r}return et(t,e),t.prototype.close=function(){this.messages=[],e.prototype.close.call(this)},t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map((function(e){return e})).join("\n")},t.prototype.doLog=function(e){var t,n=this._getMessageFormatter();t=null===n?this.createDefaultLogMessage(e):n(e),this.messages.push(t)},t}(Ke.AbstractLogger),nt=Object.defineProperty({MessageBufferLoggerImpl:tt},"__esModule",{value:!0}),rt=function(){function e(e){this._formatterLogMessage=null,this._logGroupRule=e,this._level=e.level,this._loggerType=e.loggerType,this._logFormat=new he.LogFormat(new he.DateFormat(e.logFormat.dateFormat.formatEnum,e.logFormat.dateFormat.dateSeparator),e.logFormat.showTimeStamp,e.logFormat.showLoggerName),this._callBackLogger=e.callBackLogger,this._formatterLogMessage=e.formatterLogMessage}return Object.defineProperty(e.prototype,"logGroupRule",{get:function(){return this._logGroupRule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}(),ot=Object.defineProperty({LogGroupRuntimeSettings:rt},"__esModule",{value:!0}),it=function(){function e(e,t){this._loggers=new Le.SimpleMap,this._logGroupRuntimeSettingsIndexed=[],this._loggerToLogGroupSettings=new Le.SimpleMap,this._name=e,this.configure(t)}return e.prototype.configure=function(e){this._options=e,this.closeLoggers(),this._loggerToLogGroupSettings.clear(),this._logGroupRuntimeSettingsIndexed=[];for(var t=this._options.logGroupRules,n=0;n<t.length;n++)this._logGroupRuntimeSettingsIndexed.push(new ot.LogGroupRuntimeSettings(t[n]))},e.prototype.getLogger=function(e){if(!this._options.enabled)throw new Error("LoggerFactory is not enabled, please check your options passed in");var t=this._loggers.get(e);return void 0!==t||(t=this.loadLogger(e),this._loggers.put(e,t)),t},e.prototype.isEnabled=function(){return this._options.enabled},e.prototype.closeLoggers=function(){this._loggers.forEachValue((function(e){e instanceof Ke.AbstractLogger&&e.close()})),this._loggers.clear()},e.prototype.getName=function(){return this._name},e.prototype.getLogGroupRuntimeSettingsByIndex=function(e){return e>=0&&e<this._logGroupRuntimeSettingsIndexed.length?this._logGroupRuntimeSettingsIndexed[e]:null},e.prototype.getLogGroupRuntimeSettingsByLoggerName=function(e){var t=this._loggerToLogGroupSettings.get(e);return void 0===t?null:t},e.prototype.getLogGroupRuntimeSettings=function(){return this._logGroupRuntimeSettingsIndexed.slice(0)},e.prototype.loadLogger=function(e){for(var t=this._options.logGroupRules,n=0;n<t.length;n++){var r=t[n];if(r.regExp.test(e)){var o=this._logGroupRuntimeSettingsIndexed[n],i=void 0;switch(r.loggerType){case he.LoggerType.Console:i=new Qe.ConsoleLoggerImpl(e,o);break;case he.LoggerType.MessageBuffer:i=new nt.MessageBufferLoggerImpl(e,o);break;case he.LoggerType.Custom:if(null==r.callBackLogger)throw new Error("Cannot create a custom logger, custom callback is null");i=r.callBackLogger(e,o);break;default:throw new Error("Cannot create a Logger for LoggerType: "+r.loggerType)}return this._loggerToLogGroupSettings.put(e,o),i}}throw new Error("Failed to find a match to create a Logger for: "+e)},e}(),at=Object.defineProperty({LoggerFactoryImpl:it},"__esModule",{value:!0}),st=function(){function e(e,t,n,r,o,i,a){this._resolvedErrorMessage=!1,this._errorAsStack=null,this._message=e,this._error=t,this._categories=n,this._date=r,this._level=o,this._logFormat=i,this._ready=a}return Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this._categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},e.prototype.setReady=function(e){this._ready=e},Object.defineProperty(e.prototype,"resolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},set:function(e){this._resolvedErrorMessage=e},enumerable:!0,configurable:!0}),e}(),ut=function(){function e(e,t){this.allMessages=new Le.LinkedList,this.rootCategory=e,this.runtimeSettings=t}return e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[he.LogLevel.Trace,e,null,!1].concat(t))},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[he.LogLevel.Debug,e,null,!1].concat(t))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[he.LogLevel.Info,e,null,!1].concat(t))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._log.apply(this,[he.LogLevel.Warn,e,null,!1].concat(t))},e.prototype.error=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[he.LogLevel.Error,e,t,!1].concat(n))},e.prototype.fatal=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[he.LogLevel.Fatal,e,t,!1].concat(n))},e.prototype.resolved=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this._log.apply(this,[he.LogLevel.Error,e,t,!0].concat(n))},e.prototype.log=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._log.apply(this,[e,t,n,!1].concat(r))},e.prototype.getRootCategory=function(){return this.rootCategory},e.prototype.createDefaultLogMessage=function(e){return He.MessageFormatUtils.renderDefaultMessage(e,!0)},e.prototype._getMessageFormatter=function(){var e=this.runtimeSettings.getCategorySettings(this.rootCategory);if(null===e)throw new Error("Did not find CategorySettings for rootCategory: "+this.rootCategory.name);return e.formatterLogMessage},e.prototype._log=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=function(){return"function"==typeof t?t():t},s=function(){return"function"==typeof n?n():n};this._logInternal.apply(this,[e,a,s,r].concat(o))},e.prototype._logInternal=function(e,t,n,r){for(var o=this,i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var s=[this.rootCategory];void 0!==i&&i.length>0&&(s=s.concat(i.filter((function(e){return e!==o.rootCategory}))));for(var u=function(i){var a=s[i];if(null===a)throw new Error("Cannot have a null element within categories, at index="+i);var u=l.runtimeSettings.getCategorySettings(a);if(null===u)throw new Error("Category with path: "+a.getCategoryPath()+" is not registered with this logger, maybe you registered it with a different root logger?");if(u.logLevel<=e){var g=null!==n?n():null;if(null===g){var c=new st(t(),g,s,new Date,e,u.logFormat,!0);c.resolvedErrorMessage=r,l.allMessages.addTail(c),l.processMessages()}else{var p=new st(t(),g,s,new Date,e,u.logFormat,!1);p.resolvedErrorMessage=r,l.allMessages.addTail(p),He.MessageFormatUtils.renderError(g).then((function(e){p.errorAsStack=e,p.setReady(!0),o.processMessages()})).catch((function(){p.errorAsStack="<UNKNOWN> unable to get stack.",p.setReady(!0),o.processMessages()}))}return"break"}},l=this,g=0;g<s.length;g++){var c=u(g);if("break"===c)break}},e.prototype.processMessages=function(){var e=this.allMessages;if(e.getSize()>0)do{var t=e.getHead();if(null!=t){if(!t.isReady())break;e.removeHead(),this.doLog(t)}}while(e.getSize()>0)},e}(),lt=Object.defineProperty({AbstractCategoryLogger:ut},"__esModule",{value:!0}),gt=pe&&pe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ct=function(e){function t(t,n){return e.call(this,t,n)||this}return gt(t,e),t.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.messageAsString);var t=this._getMessageFormatter(),n=void 0;n=null===t?this.createDefaultLogMessage(e):t(e);var r=!1;switch(e.level){case he.LogLevel.Trace:case he.LogLevel.Debug:break;case he.LogLevel.Info:console.info&&(console.info(n),r=!0);break;case he.LogLevel.Warn:console.warn&&(console.warn(n),r=!0);break;case he.LogLevel.Error:case he.LogLevel.Fatal:console.error&&(console.error(n),r=!0);break;default:throw new Error("Unsupported level: "+e.level)}r||console.log(n)},t}(lt.AbstractCategoryLogger),pt=Object.defineProperty({CategoryConsoleLoggerImpl:ct},"__esModule",{value:!0}),ft=function(){function e(e){this._delegate=e}return Object.defineProperty(e.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this._delegate).trace.apply(t,[e].concat(n))},e.prototype.debug=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this._delegate).debug.apply(t,[e].concat(n))},e.prototype.info=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this._delegate).info.apply(t,[e].concat(n))},e.prototype.warn=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this._delegate).warn.apply(t,[e].concat(n))},e.prototype.error=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];(n=this._delegate).error.apply(n,[e,t].concat(r))},e.prototype.fatal=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];(n=this._delegate).fatal.apply(n,[e,t].concat(r))},e.prototype.resolved=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];(n=this._delegate).resolved.apply(n,[e,t].concat(r))},e.prototype.log=function(e,t,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];(r=this._delegate).log.apply(r,[e,t,n].concat(o))},e}(),ht=Object.defineProperty({CategoryDelegateLoggerImpl:ft},"__esModule",{value:!0}),dt=pe&&pe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(e){function t(t,n){return e.call(this,t,n)||this}return dt(t,e),t.prototype.doLog=function(e){"undefined"!=typeof window?Nt.ExtensionHelper.sendCategoryLogMessage(e):console.log("window is not available, you must be running in a browser for this. Dropped message.")},t}(lt.AbstractCategoryLogger),yt=Object.defineProperty({CategoryExtensionLoggerImpl:mt},"__esModule",{value:!0}),vt=pe&&pe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messages=[],t}return vt(t,e),t.prototype.getMessages=function(){return this.messages},t.prototype.toString=function(){return this.messages.map((function(e){return e})).join("\n")},t.prototype.doLog=function(e){var t,n=this._getMessageFormatter();t=null===n?this.createDefaultLogMessage(e):n(e),this.messages.push(t)},t}(lt.AbstractCategoryLogger),Lt=Object.defineProperty({CategoryMessageBufferLoggerImpl:_t},"__esModule",{value:!0}),bt=function(){function e(e,t,n,r,o,i){void 0===t&&(t=he.LogLevel.Error),void 0===n&&(n=he.LoggerType.Console),void 0===r&&(r=new he.CategoryLogFormat),void 0===o&&(o=null),void 0===i&&(i=null),this._formatterLogMessage=null,this._category=e,this._logLevel=t,this._loggerType=n,this._logFormat=r,this._callBackLogger=o,this._formatterLogMessage=i}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}(),wt=Object.defineProperty({CategoryRuntimeSettings:bt},"__esModule",{value:!0}),Ct=function(){function e(e,t,n,r){if(void 0===e&&(e=he.LogLevel.Error),void 0===t&&(t=he.LoggerType.Console),void 0===n&&(n=new he.CategoryLogFormat),void 0===r&&(r=null),this._formatterLogMessage=null,this._logLevel=e,this._loggerType=t,this._logFormat=n,this._callBackLogger=r,this._loggerType===he.LoggerType.Custom&&null===this.callBackLogger)throw new Error("If you specify loggerType to be Custom, you must provide the callBackLogger argument")}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===he.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){var t=new e(this.logLevel,this.loggerType,this.logFormat.copy(),this.callBackLogger);return t.formatterLogMessage=this.formatterLogMessage,t},e}(),St=Object.defineProperty({CategoryConfiguration:Ct},"__esModule",{value:!0}),Ot=function(){function e(){this._defaultConfig=new St.CategoryConfiguration,this._mapState=new Le.SimpleMap,Nt.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.getLogger=function(e){return this.createOrGetCategoryState(e).logger},e.prototype.clear=function(){this._mapState.clear(),this.setDefaultConfiguration(new St.CategoryConfiguration)},e.prototype.getCategorySettings=function(e){return this.createOrGetCategoryState(e).currentRuntimeSettings},e.prototype.getOriginalCategorySettings=function(e){return this.createOrGetCategoryState(e).originalRuntimeSettings},e.prototype.setDefaultConfiguration=function(e,t){void 0===t&&(t=!0),this._defaultConfig=e,t&&this._mapState.forEachValue((function(t){t.updateSettings(e)}))},e.prototype.setConfigurationCategory=function(e,t,n){var r=this;void 0===n&&(n=!1),this.createOrGetCategoryState(t).updateSettings(e),n&&t.children.forEach((function(t){r.setConfigurationCategory(e,t,n)}))},e.prototype.registerCategory=function(t){if(null==t)throw new Error("Category CANNOT be null/undefined");if(this._mapState.exists(e.getCategoryKey(t)))throw new Error("Cannot add this root category with name: "+t.name+", it already exists (same name in hierarchy).");this.createOrGetCategoryState(t)},e.prototype.enableExtensionIntegration=function(){var e=this;this._mapState.forEachValue((function(t){return t.enableForExtension(e)}))},e.prototype.getRootCategories=function(){return this._mapState.values().filter((function(e){return null==e.category.parent})).map((function(e){return e.category}))},e.prototype.getCategoryById=function(e){var t=this._mapState.values().filter((function(t){return t.category.id===e})).map((function(e){return e.category}));return 1===t.length?t[0]:null},e.prototype.createOrGetCategoryState=function(t){var n=e.getCategoryKey(t),r=this._mapState.get(n);if(void 0!==r)return r;var o=this.createState(t);return this._mapState.put(n,o),o},e.prototype.createState=function(e){var t=this;return new Et(e,(function(){return t._defaultConfig}),(function(e,n){return t.createLogger(e,n)}))},e.prototype.createLogger=function(e,t){switch(e.loggerType){case he.LoggerType.Console:return new pt.CategoryConsoleLoggerImpl(t,this);case he.LoggerType.MessageBuffer:return new Lt.CategoryMessageBufferLoggerImpl(t,this);case he.LoggerType.Custom:if(null===e.callBackLogger)throw new Error("Cannot create custom logger, custom callback is null");return e.callBackLogger(t,this);default:throw new Error("Cannot create a Logger for LoggerType: "+e.loggerType)}},e.getCategoryKey=function(e){return e.getCategoryPath()},e._INSTANCE=null,e}(),Et=function(){function e(e,t,n){this._category=e,this._lazyState=new Ft(e,t,n)}return Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this._lazyState.getLogger()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalRuntimeSettings",{get:function(){return this._lazyState.getOriginalRuntimeSettings()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRuntimeSettings",{get:function(){return this._lazyState.getCurrentRuntimeSettings()},enumerable:!0,configurable:!0}),e.prototype.enableForExtension=function(e){this._lazyState.enableForExtension(e)},e.prototype.updateSettings=function(e){this._lazyState.updateSettings(e)},e}(),Ft=function(){function e(e,t,n){this._category=e,this._defaultConfig=t,this._createLogger=n}return e.prototype.isLoaded=function(){return void 0!==this._logger},e.prototype.getLogger=function(){return this.loadLoggerOnDemand(),this._delegateLogger},e.prototype.getOriginalRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._originalRuntimeSettings},e.prototype.getCurrentRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._currentRuntimeSettings},e.prototype.enableForExtension=function(e){this.loadLoggerOnDemand(),this._wrappedLogger instanceof yt.CategoryExtensionLoggerImpl||(console.log("Reconfiguring logger for extension for category: "+this._category.name),this._wrappedLogger=new yt.CategoryExtensionLoggerImpl(this._category,e),this._delegateLogger.delegate=this._wrappedLogger)},e.prototype.updateSettings=function(e){this.isLoaded()?(this._currentRuntimeSettings.logLevel=e.logLevel,this._currentRuntimeSettings.loggerType=e.loggerType,this._currentRuntimeSettings.logFormat=e.logFormat,this._currentRuntimeSettings.callBackLogger=e.callBackLogger,this._currentRuntimeSettings.formatterLogMessage=e.formatterLogMessage,this._logger=this._createLogger(e,this._category),this._wrappedLogger instanceof yt.CategoryExtensionLoggerImpl||(this._wrappedLogger=this._logger),this._delegateLogger.delegate=this._wrappedLogger):this._defaultConfig=function(){return e}},e.prototype.loadLoggerOnDemand=function(){this.isLoaded()||(this._logger=this._createLogger(this._defaultConfig(),this._category),this._wrappedLogger=this._logger,this._delegateLogger=new ht.CategoryDelegateLoggerImpl(this._wrappedLogger),this._originalRuntimeSettings=this.initNewSettings(),this._currentRuntimeSettings=this.initNewSettings())},e.prototype.initNewSettings=function(){var e=this._defaultConfig().copy();return new wt.CategoryRuntimeSettings(this._category,e.logLevel,e.loggerType,e.logFormat,e.callBackLogger,e.formatterLogMessage)},e}(),Mt=Object.defineProperty({CategoryServiceImpl:Ot},"__esModule",{value:!0}),Tt=function(){function e(){}return e.register=function(){if(!e.registered){var t=function(t){var n=t.data;null!==n&&e.processMessageFromExtension(n)};"undefined"!=typeof window&&void 0!==window.removeEventListener&&void 0!==window.addEventListener&&(window.removeEventListener("message",t),window.addEventListener("message",t),e.registered=!0)}},e.processMessageFromExtension=function(t){if(e.registered&&"tsl-extension"===t.from){var n=t.data;switch(n.type){case"register":e.enableExtensionIntegration();break;case"request-change-loglevel":var r=n.value,o=e.applyLogLevel(r.categoryId,r.logLevel,r.recursive);o.length>0&&e.sendCategoriesRuntimeUpdateMessage(o);break;default:console.log("Unknown command to process message from extension, command was: "+n.type)}}},e.sendCategoryLogMessage=function(t){if(e.registered){var n={data:{type:"log-message",value:{categories:t.categories.map((function(e){return e.id})),errorAsStack:t.errorAsStack,formattedMessage:He.MessageFormatUtils.renderDefaultMessage(t,!1),logLevel:he.LogLevel[t.level].toString(),message:t.messageAsString,resolvedErrorMessage:t.isResolvedErrorMessage}},from:"tsl-logging"};e.sendMessage(n)}},e.sendCategoriesRuntimeUpdateMessage=function(t){if(e.registered){var n=Mt.CategoryServiceImpl.getInstance(),r={categories:Array()};t.forEach((function(e){var t=n.getCategorySettings(e);null!=t&&r.categories.push({id:e.id,logLevel:he.LogLevel[t.logLevel].toString()})}));var o={data:{type:"categories-rt-update",value:r},from:"tsl-logging"};e.sendMessage(o)}},e.sendRootCategoriesToExtension=function(){if(e.registered){var t={data:{type:"root-categories-tree",value:Mt.CategoryServiceImpl.getInstance().getRootCategories().map((function(t){return e.getCategoryAsJSON(t)}))},from:"tsl-logging"};e.sendMessage(t)}},e.getCategoryAsJSON=function(t){return{children:t.children.map((function(t){return e.getCategoryAsJSON(t)})),id:t.id,logLevel:he.LogLevel[t.logLevel].toString(),name:t.name,parentId:null!=t.parent?t.parent.id:null}},e.applyLogLevel=function(t,n,r){var o=[],i=Mt.CategoryServiceImpl.getInstance().getCategoryById(t);return null!=i?e._applyLogLevelRecursive(i,he.LogLevel.fromString(n),r,o):console.log("Could not change log level, failed to find category with id: "+t),o},e._applyLogLevelRecursive=function(t,n,r,o){var i=Mt.CategoryServiceImpl.getInstance().getCategorySettings(t);null!=i&&(i.logLevel=n,o.push(t),r&&t.children.forEach((function(t){e._applyLogLevelRecursive(t,n,r,o)})))},e.getAllCategories=function(){var e=[],t=function(e,n){n.push(e),e.children.forEach((function(e){t(e,n)}))};return Mt.CategoryServiceImpl.getInstance().getRootCategories().forEach((function(n){t(n,e)})),e},e.sendMessage=function(t){e.registered&&"undefined"!=typeof window&&void 0!==window.postMessage&&window.postMessage(t,"*")},e.enableExtensionIntegration=function(){if(e.registered){Mt.CategoryServiceImpl.getInstance().enableExtensionIntegration(),e.sendRootCategoriesToExtension();var t=e.getAllCategories();e.sendCategoriesRuntimeUpdateMessage(t)}},e.registered=!1,e}(),Nt=Object.defineProperty({ExtensionHelper:Tt},"__esModule",{value:!0}),Rt=function(){function e(e,t,n,r,o){void 0===n&&(n=new he.LogFormat),void 0===r&&(r=he.LoggerType.Console),void 0===o&&(o=null),this._formatterLogMessage=null,this._regExp=e,this._level=t,this._logFormat=n,this._loggerType=r,this._callBackLogger=o}return Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===he.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),e}(),At=Object.defineProperty({LogGroupRule:Rt},"__esModule",{value:!0}),xt=function(){function e(){this._logGroupRules=[],this._enabled=!0}return e.prototype.addLogGroupRule=function(e){return this._logGroupRules.push(e),this},e.prototype.setEnabled=function(e){return this._enabled=e,this},Object.defineProperty(e.prototype,"logGroupRules",{get:function(){return this._logGroupRules},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e}(),Pt=Object.defineProperty({LoggerFactoryOptions:xt},"__esModule",{value:!0}),jt=function(){function e(){this._nameCounter=1,this._mapFactories=new Le.SimpleMap,Nt.ExtensionHelper.register()}return e.getInstance=function(){return null===e._INSTANCE&&(e._INSTANCE=new e),e._INSTANCE},e.prototype.createLoggerFactory=function(e){void 0===e&&(e=null);var t="LoggerFactory"+this._nameCounter++;return this.createNamedLoggerFactory(t,e)},e.prototype.createNamedLoggerFactory=function(t,n){if(void 0===n&&(n=null),this._mapFactories.exists(t))throw new Error("LoggerFactory with name "+t+" already exists.");var r;return r=null!==n?new at.LoggerFactoryImpl(t,n):new at.LoggerFactoryImpl(t,e.createDefaultOptions()),this._mapFactories.put(t,r),r},e.prototype.closeLoggers=function(){this._mapFactories.values().forEach((function(e){e.closeLoggers()})),this._mapFactories.clear(),this._nameCounter=1},e.prototype.getRuntimeSettingsForLoggerFactories=function(){var e=[];return this._mapFactories.forEachValue((function(t){return e.push(t)})),e},e.prototype.getLogGroupSettings=function(e,t){var n=this._mapFactories.get(e);return void 0===n?null:n.getLogGroupRuntimeSettingsByIndex(t)},e.prototype.getLoggerFactoryRuntimeSettingsByName=function(e){var t=this._mapFactories.get(e);return void 0===t?null:t},e.createDefaultOptions=function(){return(new Pt.LoggerFactoryOptions).addLogGroupRule(new At.LogGroupRule(new RegExp(".+"),he.LogLevel.Info))},e._INSTANCE=null,e}(),$t=function(){function e(){}return e.createLoggerFactory=function(t){return void 0===t&&(t=null),e.INSTANCE_SERVICE.createLoggerFactory(t)},e.createNamedLoggerFactory=function(t,n){if(void 0===n&&(n=null),t===e.DEFAULT_LOGGER_FACTORY_NAME)throw new Error("LoggerFactory name: "+e.DEFAULT_LOGGER_FACTORY_NAME+" is reserved and cannot be used.");return e.INSTANCE_SERVICE.createNamedLoggerFactory(t,n)},e.closeLoggers=function(){return e.INSTANCE_SERVICE.closeLoggers()},e.getRuntimeSettings=function(){return e.INSTANCE_SERVICE},Object.defineProperty(e,"DEFAULT",{get:function(){return e.getDefault()},enumerable:!0,configurable:!0}),e.getDefault=function(){return null===e.DEFAULT_LOGGER_FACTORY&&(e.DEFAULT_LOGGER_FACTORY=e.DEFAULT_LOGGER_FACTORY=e.INSTANCE_SERVICE.createNamedLoggerFactory(e.DEFAULT_LOGGER_FACTORY_NAME,(new Pt.LoggerFactoryOptions).addLogGroupRule(new At.LogGroupRule(new RegExp(".+"),he.LogLevel.Error)))),e.DEFAULT_LOGGER_FACTORY},e.DEFAULT_LOGGER_FACTORY_NAME="DEFAULT",e.INSTANCE_SERVICE=jt.getInstance(),e.DEFAULT_LOGGER_FACTORY=null,e}(),kt=Object.defineProperty({LFService:$t},"__esModule",{value:!0}),It=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.listFactories=function(){var t=e._getRuntimeSettingsLoggerFactories(),n=new Le.StringBuilder;n.appendLine("Registered LoggerFactories (index / name)");for(var r=0;r<t.length;r++){var o=t[r];n.append("  "+r).append(": "+o.getName()+"\n")}console.log(n.toString())},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=[];if("all"===t){var r=0;e._getRuntimeSettingsLoggerFactories().forEach((function(e){n.push(new Le.TuplePair(r++,e))}))}else{var o=e._getRuntimeSettingsLoggerFactories();if(!(t>=0&&t<o.length))throw new Error("Requested number: "+t+" was not found.");n.push(new Le.TuplePair(t,o[t]))}for(var i=0,a=n;i<a.length;i++){var s=a[i];console.log("  LoggerFactory: "+s.y.getName()+" (id="+s.x+")");for(var u=s.y.getLogGroupRuntimeSettings(),l=0;l<u.length;l++){var g=u[l];console.log("     LogGroup: (id="+l+")"),console.log("       RegExp: "+g.logGroupRule.regExp.source),console.log("       Level: "+he.LogLevel[g.level].toString()),console.log("       LoggerType: "+he.LoggerType[g.loggerType].toString())}}},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getRuntimeSettingsLoggerFactories(),r=[];"all"===t?r=n:t>=0&&t<n.length&&r.push(n[t]),r.forEach((function(e){console.log("Reset all settings for factory "+t),new Dt(e).reset()}))},e.prototype.getLoggerFactoryControl=function(t){var n=e._getRuntimeSettingsLoggerFactories();if(t>=0&&t<n.length)return new Dt(n[t]);throw new Error("idFactory is invalid (less than 0) or non existing id.")},e._getRuntimeSettingsLoggerFactories=function(){return e._getSettings().getRuntimeSettingsForLoggerFactories()},e._getSettings=function(){return kt.LFService.getRuntimeSettings()},e._help='\n  help(): void\n    ** Shows this help.\n\n  listFactories(): void\n    ** List all registered LoggerFactories with associated log groups with respective ids (ids can be used to target a factory and/or group).\n\n  showSettings(idFactory: number | "all"): void\n    ** Show log group settings for idFactory (use listFactories to find id for a LoggerFactory). If idFactory is "all" shows all factories.\n\n  getLoggerFactoryControl(idFactory: number): LoggerFactoryControl\n    ** Return LoggerFactoryControl when found for given idFactory or throws Error if invalid or null, get the id by using listFactories()\n\n  reset(idFactory: number | "all"): void\n    ** Resets given factory or all factories back to original values.\n',e}(),Dt=function(){function e(e){this._settings=e}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(e){var t=new Le.StringBuilder,n=this._settings.getLogGroupRuntimeSettings();t.appendLine("Registered LogGroups (index / expression)");for(var r=0;r<n.length;r++){var o=n[r];t.appendLine("  "+r+": "+o.logGroupRule.regExp.source+", logLevel="+he.LogLevel[o.level].toString()+", showTimestamp="+o.logFormat.showTimeStamp+", showLoggerName="+o.logFormat.showLoggerName+", format="+he.DateFormatEnum[o.logFormat.dateFormat.formatEnum].toString())}console.log(t.toString())},e.prototype.change=function(e){var t=this._getLogGroupRunTimeSettingsFor(e.group),n=null,r=null,o=null,i=null,a=null,s=function(e){null!==a&&(a+=", "),null===a?a=e:a+=e};"string"==typeof e.logLevel&&(n=he.LogLevel.fromString(e.logLevel),s("logLevel="+e.logLevel)),"string"==typeof e.logFormat&&(r=he.DateFormatEnum.fromString(e.logFormat),s("logFormat="+e.logFormat)),"boolean"==typeof e.showLoggerName&&(o=e.showLoggerName,s("showLoggerName="+e.showLoggerName)),"boolean"==typeof e.showTimestamp&&(i=e.showTimestamp,s("showTimestamp="+e.showTimestamp)),t.forEach((function(e){null!==n&&(e.level=n),null!==r&&(e.logFormat.dateFormat.formatEnum=r),null!==i&&(e.logFormat.showTimeStamp=i),null!==o&&(e.logFormat.showLoggerName=o)})),console.log("Applied changes: "+a+" to log groups '"+e.group+"'.")},e.prototype.reset=function(e){void 0===e&&(e="all");for(var t=0,n=this._getLogGroupRunTimeSettingsFor(e);t<n.length;t++){var r=n[t];r.level=r.logGroupRule.level,r.logFormat.showTimeStamp=r.logGroupRule.logFormat.showTimeStamp,r.logFormat.showLoggerName=r.logGroupRule.logFormat.showLoggerName,r.logFormat.dateFormat.formatEnum=r.logGroupRule.logFormat.dateFormat.formatEnum}console.log("Reset all settings for group "+e)},e.prototype._getLogGroupRunTimeSettingsFor=function(e){var t=[];return"all"===e?t=this._settings.getLogGroupRuntimeSettings():(this._checkIndex(e),t.push(this._settings.getLogGroupRuntimeSettings()[e])),t},e.prototype._checkIndex=function(e){if(e<0||e>=this._settings.getLogGroupRuntimeSettings().length)throw new Error("Invalid index, use listLogGroups to find out a valid one.")},e._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example of usage.\n\n  showSettings(id: number | "all"): void\n    ** Prints settings for given group id, "all" for all group.\n\n  change(settings: LogGroupControlSettings): void\n    ** Changes the current settings for one or all log groups.\n    **\n       LogGroupControlSettings, properties of object:\n         group: number | "all"\n           ** Apply to specific group, or "all".\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showLoggerName: boolean | undefined\n           ** Whether to show the logger name, undefined will not change the setting.\n           ** Optional\n\n  reset(id: number | "all"): void\n    ** Resets everything to original values, for one specific or for all groups.\n\n  help():\n    ** Shows this help.\n',e._example='\n  Examples:\n    change({group: "all", logLevel: "Info"})\n      ** Change loglevel to Info for all groups.\n\n    change({group: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for group 1 to Warn.\n\n    change({group: "all", logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showLoggerName:false})\n      ** Change loglevel to Debug for all groups, apply format, do not show timestamp and logger names.\n',e}(),Gt=Object.defineProperty({LoggerControlImpl:It},"__esModule",{value:!0}),Bt=function(){function e(){}return e.prototype.help=function(){console.log(e._help)},e.prototype.example=function(){console.log(e._example)},e.prototype.showSettings=function(t){void 0===t&&(t="all");var n=new Le.StringBuilder,r=e._getCategoryService();e._getCategories(t).forEach((function(t){e._processCategory(r,t,n,0)})),console.log(n.toString())},e.prototype.change=function(t){var n=e._getCategoryService(),r=e._getCategories(t.category),o=null,i=null,a=null,s=null,u=null,l=function(e){null!==u&&(u+=", "),null===u?u=e:u+=e};l("recursive="+t.recursive),"string"==typeof t.logLevel&&(o=he.LogLevel.fromString(t.logLevel),l("logLevel="+t.logLevel)),"string"==typeof t.logFormat&&(i=he.DateFormatEnum.fromString(t.logFormat),l("logFormat="+t.logFormat)),"boolean"==typeof t.showCategoryName&&(a=t.showCategoryName,l("showCategoryName="+t.showCategoryName)),"boolean"==typeof t.showTimestamp&&(s=t.showTimestamp,l("showTimestamp="+t.showTimestamp));var g=function(e){var t=n.getCategorySettings(e);null!==t&&(null!==o&&(t.logLevel=o),null!==i&&(t.logFormat.dateFormat.formatEnum=i),null!==s&&(t.logFormat.showTimeStamp=s),null!==a&&(t.logFormat.showCategoryName=a))};r.forEach((function(n){return e._applyToCategory(n,t.recursive,g)})),console.log("Applied changes: "+u+" to categories '"+t.category+"'.")},e.prototype.reset=function(t){void 0===t&&(t="all");var n=e._getCategoryService(),r=e._getCategories(t),o=function(e){var t=n.getCategorySettings(e),r=n.getOriginalCategorySettings(e);null!==t&&null!==r&&(t.logLevel=r.logLevel,t.logFormat.dateFormat.formatEnum=r.logFormat.dateFormat.formatEnum,t.logFormat.showTimeStamp=r.logFormat.showTimeStamp,t.logFormat.showCategoryName=r.logFormat.showCategoryName)};r.forEach((function(t){return e._applyToCategory(t,!0,o)})),console.log("Applied reset to category: "+t+".")},e._processCategory=function(t,n,r,o){var i=t.getCategorySettings(n);if(null!==i){if(r.append("  "+n.id+": "),o>0)for(var a=0;a<o;a++)r.append("  ");r.append(n.name+" ("+he.LogLevel[i.logLevel].toString()+"@"+he.LoggerType[i.loggerType].toString()+")\n"),n.children.length>0&&n.children.forEach((function(n){e._processCategory(t,n,r,o+1)}))}},e._applyToCategory=function(t,n,r){r(t),n&&t.children.forEach((function(t){e._applyToCategory(t,n,r)}))},e._getCategoryService=function(){return Mt.CategoryServiceImpl.getInstance()},e._getCategories=function(t){var n=e._getCategoryService(),r=[];if("all"===t)r=n.getRootCategories();else{var o=n.getCategoryById(t);if(null===o)throw new Error("Failed to find category with id "+t);r.push(o)}return r},e._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example on how to use this.\n\n  showSettings(id: number | "all" = "all"): void\n    ** Shows settings for a specific category, or for all. The id of categories can be found by calling this method without parameter.\n\n  change(settings: CategoryServiceControlSettings): void\n    ** Changes the current settings for one or all categories.\n    **\n       CategoryServiceControlSettings, properties of object:\n         category: number | "all"\n           ** Apply to specific category, or "all".\n           ** Required\n\n         recursive: boolean\n           ** Apply to child categories (true) or not.\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showCategoryName: boolean | undefined\n           ** Whether to show the category name, undefined will not change the setting.\n           ** Optional\n\n   reset(id: number | "all"): void\n     ** Resets everything to original values, for one specific or for all categories.\n',e._example='\n  Examples:\n    change({category: "all", recursive:true, logLevel: "Info"})\n      ** Change loglevel to Info for all categories, apply to child categories as well.\n\n    change({category: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for category 1, do not recurse.\n\n    change({category: "all", recursive:true, logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showCategoryName:false})\n      ** Change loglevel to Debug for all categories, apply format, do not show timestamp and category names - recursively to child categories.\n\n',e}(),Ut=Object.defineProperty({CategoryServiceControlImpl:Bt},"__esModule",{value:!0}),Yt=function(){function e(t,n){if(void 0===n&&(n=null),this._children=[],this._logLevel=he.LogLevel.Error,-1!==t.indexOf("#"))throw new Error("Cannot use # in a name of a Category");this._id=e.nextId(),this._name=t,this._parent=n,null!==this._parent&&this._parent._children.push(this),Mt.CategoryServiceImpl.getInstance().registerCategory(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),e.prototype.trace=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.loadCategoryLogger(),(t=this._logger).trace.apply(t,[e].concat(n))},e.prototype.debug=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.loadCategoryLogger(),(t=this._logger).debug.apply(t,[e].concat(n))},e.prototype.info=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.loadCategoryLogger(),(t=this._logger).info.apply(t,[e].concat(n))},e.prototype.warn=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.loadCategoryLogger(),(t=this._logger).warn.apply(t,[e].concat(n))},e.prototype.error=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this.loadCategoryLogger(),(n=this._logger).error.apply(n,[e,t].concat(r))},e.prototype.fatal=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this.loadCategoryLogger(),(n=this._logger).fatal.apply(n,[e,t].concat(r))},e.prototype.resolved=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this.loadCategoryLogger(),(n=this._logger).resolved.apply(n,[e,t].concat(r))},e.prototype.log=function(e,t,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];this.loadCategoryLogger(),(r=this._logger).log.apply(r,[e,t,n].concat(o))},e.prototype.getCategoryPath=function(){for(var e=this.name,t=this.parent;null!=t;)e=t.name+"#"+e,t=t.parent;return e},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.loadCategoryLogger=function(){if(this._logger||(this._logger=Mt.CategoryServiceImpl.getInstance().getLogger(this)),void 0===this._logger||null===this._logger)throw new Error("Failed to load a logger for category (should not happen): "+this.name)},e.nextId=function(){return e.currentId++},e.currentId=1,e}(),Wt=Object.defineProperty({Category:Yt},"__esModule",{value:!0}),zt=function(){function e(){}return e.getLogger=function(e){return Mt.CategoryServiceImpl.getInstance().getLogger(e)},e.clear=function(){return Mt.CategoryServiceImpl.getInstance().clear()},e.setDefaultConfiguration=function(e,t){void 0===t&&(t=!0),Mt.CategoryServiceImpl.getInstance().setDefaultConfiguration(e,t)},e.setConfigurationCategory=function(e,t,n){void 0===n&&(n=!1),Mt.CategoryServiceImpl.getInstance().setConfigurationCategory(e,t,n)},e}(),Jt=Object.defineProperty({CategoryServiceFactory:zt},"__esModule",{value:!0}),Ht=pe&&pe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=function(){function e(e){this._value=e}return e.prototype.getValue=function(){return this._value},e.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},e}(),qt=function(e){function t(t){return e.call(this,t)||this}return Ht(t,e),t}(Vt),Kt=function(e){function t(t){return e.call(this,t)||this}return Ht(t,e),t}(Vt),Zt=function(e){function t(t){return e.call(this,t)||this}return Ht(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?JSON.stringify(e.toString()):"null"},t}(Vt),Xt=function(e){function t(t){return e.call(this,t)||this}return Ht(t,e),t}(Vt),Qt=function(e){function t(t){return e.call(this,t)||this}return Ht(t,e),t.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},t}(Vt),en=function(e){function t(){return e.call(this,null)||this}return Ht(t,e),t.prototype.toString=function(){return"null"},t}(Vt),tn=function(){function e(){}return e.toJSONType=function(e){if(null===e)return new en;if("string"==typeof e)return new Zt(e);if("number"==typeof e)return new Kt(e);if("boolean"==typeof e)return new qt(e);if(e instanceof nn)return new Xt(e);throw new Error("Type not supported for value: "+e)},e}(),nn=function(){function e(){this.values=new Le.SimpleMap}return e.prototype.addBoolean=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new qt(n)),this},e.prototype.addNumber=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new Kt(n)),this},e.prototype.addString=function(t,n){return this.checkName(t),e.checkValue(n),this.values.put(t,new Zt(n)),this},e.prototype.addNull=function(e){return this.checkName(e),this.values.put(e,new en),this},e.prototype.addArray=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add array as null");return this.values.put(t,new Qt(n)),this},e.prototype.addObject=function(t,n){if(this.checkName(t),e.checkValue(n),null==n)throw new Error("Cannot add object as null");return this.values.put(t,new Xt(n)),this},e.prototype.toString=function(e){var t=this,n=!1,r=new Le.StringBuilder;return r.append("{"),this.values.keys().forEach((function(e){var o=t.values.get(e);null!=o&&(n&&r.append(","),r.append('"').append(e).append('":').append(o.toString()),n=!0)})),r.append("}"),r.toString()},e.prototype.checkName=function(e){if(null==e||void 0===e)throw new Error("Name is null or undefined");if(this.values.exists(e))throw new Error("Name "+e+" is already present for this object")},e.checkValue=function(e){if(void 0===e)throw new Error("Value is undefined")},e}(),rn=nn,on=function(){function e(){this.objects=[]}return e.prototype.add=function(e){if(void 0===e)throw new Error("Object is not allowed to be undefined");return this.objects.push(tn.toJSONType(e)),this},e.prototype.toString=function(e){var t=new Le.StringBuilder;return t.append("["),this.objects.forEach((function(e,n){n>0&&t.append(","),t.append(e.toString())})),t.append("]"),t.toString()},e}(),an=on,sn=function(){function e(){}return e.categoryToJSON=function(t,n){var r=new on;e._categoryToJSON(t,r,n);var o=new nn;return o.addArray("categories",r),o},e._categoryToJSON=function(t,n,r){var o=new nn;o.addNumber("id",t.id),o.addString("name",t.name),o.addString("logLevel",he.LogLevel[t.logLevel].toString()),null!=t.parent?o.addNumber("parent",t.parent.id):o.addNull("parent"),n.add(o),r&&t.children.forEach((function(t){e._categoryToJSON(t,n,r)}))},e}(),un=Object.defineProperty({JSONObject:rn,JSONArray:an,JSONHelper:sn},"__esModule",{value:!0}),ln=fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionHelper=Nt.ExtensionHelper,t.AbstractCategoryLogger=lt.AbstractCategoryLogger,t.CategoryConsoleLoggerImpl=pt.CategoryConsoleLoggerImpl,t.CategoryDelegateLoggerImpl=ht.CategoryDelegateLoggerImpl,t.Category=Wt.Category,t.CategoryRuntimeSettings=wt.CategoryRuntimeSettings,t.CategoryConfiguration=St.CategoryConfiguration,t.CategoryMessageBufferLoggerImpl=Lt.CategoryMessageBufferLoggerImpl,t.CategoryServiceFactory=Jt.CategoryServiceFactory,t.LoggerFactoryOptions=Pt.LoggerFactoryOptions,t.LogGroupRule=At.LogGroupRule,t.LFService=kt.LFService,t.AbstractLogger=Ke.AbstractLogger,t.ConsoleLoggerImpl=Qe.ConsoleLoggerImpl,t.MessageBufferLoggerImpl=nt.MessageBufferLoggerImpl,t.CategoryLogFormat=he.CategoryLogFormat,t.DateFormat=he.DateFormat,t.DateFormatEnum=he.DateFormatEnum,t.LogFormat=he.LogFormat,t.LoggerType=he.LoggerType,t.LogLevel=he.LogLevel,t.SimpleMap=Le.SimpleMap,t.LinkedList=Le.LinkedList,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(un),t.MessageFormatUtils=He.MessageFormatUtils,t.help=function(){console.log("help()\n   ** Shows this help\n\n getLogControl(): LoggerControl\n   ** Returns LoggerControl Object, use to dynamically change loglevels for log4j logging.\n   ** Call .help() on LoggerControl object for available options.\n\n getCategoryControl(): CategoryServiceControl\n   ** Returns CategoryServiceControl Object, use to dynamically change loglevels for category logging.\n   ** Call .help() on CategoryServiceControl object for available options.\n")},t.getLogControl=function(){return new Gt.LoggerControlImpl},t.getCategoryControl=function(){return new Ut.CategoryServiceControlImpl}}));const gn=(new ln.LoggerFactoryOptions).addLogGroupRule(new ln.LogGroupRule(new RegExp(".+"),ln.LogLevel.Info));var cn=ln.LFService.createNamedLoggerFactory("LoggerFactory",gn);const pn=ce([]),fn=ce(""),hn=ce(0),dn=ce(0),mn=ce(!1),yn=ce("init"),vn=ce("init"),_n=cn.getLogger("store"),Ln=new WebSocket("ws://localhost:3000");Ln.addEventListener("open",(()=>mn.set(!0))),Ln.addEventListener("message",(function(e){_n.info(`Received data from WS, ${e.data}`);const t=JSON.parse(e.data);if("player"===t.topic){if("update"===t.subtopic){!function(e){pn.set(e.data)}(t)}}else if("settings"===t.topic){!function(e){const t=e.data;hn.set(t.underCoverCount),dn.set(t.mrWhiteCount)}(t)}else if("game"===t.topic&&"word"===t.subtopic){const e=t;yn.set(e.data),vn.set("started")}}));const bn=e=>{(function(e){let t;return s(e,(e=>t=e))(),t})(mn)&&Ln.send(JSON.stringify(e))};function wn(t){let n,r;return{c(){n=v("main"),r=v("div")},m(e,o){m(e,n,o),d(n,r),r.innerHTML=t[0]},p(e,[t]){1&t&&(r.innerHTML=e[0])},i:e,o:e,d(e){e&&y(n)}}}function Cn(e,t,n){let r,o;return u(e,yn,(e=>n(1,o=e))),e.$$.update=()=>{var t;2&e.$$.dirty&&n(0,r=(t=o)?"init"===t?"<p>Retrieving your word..</p>":`<p> Your word is </p>\n      <p><b>${t}</b></p>`:"<p><b>You are Mr.white!</b></p>")},[r,o]}class Sn extends se{constructor(e){super(),ae(this,e,Cn,wn,a,{})}}function On(t){let n,r,o;return r=new Sn({}),{c(){n=v("main"),ne(r.$$.fragment)},m(e,t){m(e,n,t),re(r,n,null),o=!0},p:e,i(e){o||(Z(r.$$.fragment,e),o=!0)},o(e){X(r.$$.fragment,e),o=!1},d(e){e&&y(n),oe(r)}}}class En extends se{constructor(e){super(),ae(this,e,null,On,a,{})}}function Fn(t){let n,r,i,a,s,u,l,g,c,p;return{c(){n=v("main"),r=v("label"),r.textContent="Input name",i=L(),a=v("br"),s=L(),u=v("input"),l=L(),g=v("button"),g.textContent="OK",w(u,"type","text")},m(e,o){var f;m(e,n,o),d(n,r),d(n,i),d(n,a),d(n,s),d(n,u),S(u,t[0]),d(n,l),d(n,g),c||(p=[b(u,"input",t[5]),b(u,"keyup",(f=t[2],function(e){return e.preventDefault(),f.call(this,e)})),b(g,"click",t[1])],c=!0)},p(e,[t]){1&t&&u.value!==e[0]&&S(u,e[0])},i:e,o:e,d(e){e&&y(n),c=!1,o(p)}}}function Mn(e,t,n){let r,o,i;u(e,pn,(e=>n(3,o=e))),u(e,mn,(e=>n(4,i=e)));let a="";function s(){a.length>0&&(-1===r.indexOf(a)?(bn(function(e){return{topic:"player",subtopic:"add",data:e}}(a)),fn.set(a)):alert("This name has already been picked!"))}return e.$$.update=()=>{8&e.$$.dirty&&(r=o),16&e.$$.dirty&&i&&bn({topic:"player",subtopic:"get"})},[a,s,function(){"Enter"===event.code&&s()},o,i,function(){a=this.value,n(0,a)}]}class Tn extends se{constructor(e){super(),ae(this,e,Mn,Fn,a,{})}}function Nn(e,t,n){const r=e.slice();return r[3]=t[n],r}function Rn(e){let t,n,r,o=xn(e[1],e[3])+"";return{c(){t=v("p"),r=L(),n=new O(r)},m(e,i){m(e,t,i),n.m(o,t),d(t,r)},p(e,t){3&t&&o!==(o=xn(e[1],e[3])+"")&&n.p(o)},d(e){e&&y(t)}}}function An(t){let n,r,o,i=t[0],a=[];for(let e=0;e<i.length;e+=1)a[e]=Rn(Nn(t,i,e));return{c(){n=v("main"),r=v("h3"),r.textContent="Connected players",o=L();for(let e=0;e<a.length;e+=1)a[e].c()},m(e,t){m(e,n,t),d(n,r),d(n,o);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(3&t){let r;for(i=e[0],r=0;r<i.length;r+=1){const o=Nn(e,i,r);a[r]?a[r].p(o,t):(a[r]=Rn(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},i:e,o:e,d(e){e&&y(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(a,e)}}}function xn(e,t){return e===t?`<b> ${t} <b>`:t}function Pn(e,t,n){let r,o,i;return u(e,pn,(e=>n(2,o=e))),u(e,fn,(e=>n(1,i=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o)},[r,i,o]}class jn extends se{constructor(e){super(),ae(this,e,Pn,An,a,{})}}function $n(t){let n,r,i,a,s,u,l,g,c,p,f,h,S,O,E,F,M,T,N,R;return{c(){n=v("main"),r=v("h3"),r.textContent="Settings",i=L(),a=v("p"),a.textContent="Undercover",s=L(),u=v("button"),u.textContent="<",l=L(),g=_(t[0]),c=L(),p=v("button"),p.textContent=">",f=L(),h=v("p"),h.textContent="Mr White",S=L(),O=v("button"),O.textContent="<",E=L(),F=_(t[1]),M=L(),T=v("button"),T.textContent=">",w(u,"class","svelte-i5r9n8"),w(p,"class","svelte-i5r9n8"),w(O,"class","svelte-i5r9n8"),w(T,"class","svelte-i5r9n8")},m(e,o){m(e,n,o),d(n,r),d(n,i),d(n,a),d(n,s),d(n,u),d(n,l),d(n,g),d(n,c),d(n,p),d(n,f),d(n,h),d(n,S),d(n,O),d(n,E),d(n,F),d(n,M),d(n,T),N||(R=[b(u,"click",t[3]),b(p,"click",t[4]),b(O,"click",t[5]),b(T,"click",t[6])],N=!0)},p(e,[t]){1&t&&C(g,e[0]),2&t&&C(F,e[1])},i:e,o:e,d(e){e&&y(n),N=!1,o(R)}}}function kn(e,t,n){let r,o;function i(e,t){bn({topic:"settings",subtopic:e,data:t})}u(e,hn,(e=>n(0,r=e))),u(e,dn,(e=>n(1,o=e))),A((()=>{bn({topic:"settings",subtopic:"get"})}));return[r,o,i,()=>i("undercover","decrement"),()=>i("undercover","increment"),()=>i("white","decrement"),()=>i("white","increment")]}class In extends se{constructor(e){super(),ae(this,e,kn,$n,a,{})}}function Dn(t){let n,r,o,i;return{c(){n=v("button"),r=_("Start"),n.disabled=t[0]},m(e,a){m(e,n,a),d(n,r),o||(i=b(n,"click",t[1]),o=!0)},p(e,[t]){1&t&&(n.disabled=e[0])},i:e,o:e,d(e){e&&y(n),o=!1,i()}}}function Gn(e,t,n){let r,o,i,a,s;return u(e,pn,(e=>n(3,i=e))),u(e,hn,(e=>n(4,a=e))),u(e,dn,(e=>n(5,s=e))),e.$$.update=()=>{8&e.$$.dirty&&n(2,r=i.length),52&e.$$.dirty&&n(0,o=!function(e,t,n){let r=e+t;return!(n<3||0===r||r>=n)&&n-r>=2}(a,s,r))},[o,function(){bn({topic:"game",subtopic:"start"})},r,i,a,s]}class Bn extends se{constructor(e){super(),ae(this,e,Gn,Dn,a,{})}}function Un(e){const t=ce(e);let n=e;return{state:t,transitionTo:function(e){n!==e&&(n=e,t.set(null))},onOutro:function(){t.set(n)}}}function Yn(t){let n,r,o,i,a,s;return r=new Tn({}),{c(){n=v("div"),ne(r.$$.fragment)},m(e,o){m(e,n,o),re(r,n,null),i=!0,a||(s=b(n,"outroend",t[2]),a=!0)},p:e,i(e){i||(Z(r.$$.fragment,e),o&&o.end(1),i=!0)},o(e){X(r.$$.fragment,e),o=te(n,le,{y:500,duration:300}),i=!1},d(e){e&&y(n),oe(r),e&&o&&o.end(),a=!1,s()}}}function Wn(t){let n,r,o,i,a,s,u,l,g,c,p,f,h,_;return r=new jn({}),s=new In({}),c=new Bn({}),{c(){n=v("div"),ne(r.$$.fragment),o=L(),i=v("br"),a=L(),ne(s.$$.fragment),u=L(),l=v("br"),g=L(),ne(c.$$.fragment)},m(e,p){m(e,n,p),re(r,n,null),d(n,o),d(n,i),d(n,a),re(s,n,null),d(n,u),d(n,l),d(n,g),re(c,n,null),f=!0,h||(_=b(n,"outroend",t[2]),h=!0)},p:e,i(e){f||(Z(r.$$.fragment,e),Z(s.$$.fragment,e),Z(c.$$.fragment,e),p||D((()=>{p=ee(n,le,{y:500,duration:500}),p.start()})),f=!0)},o(e){X(r.$$.fragment,e),X(s.$$.fragment,e),X(c.$$.fragment,e),f=!1},d(e){e&&y(n),oe(r),oe(s),oe(c),h=!1,_()}}}function zn(e){let t,n,r,o="init"===e[1]&&Yn(e),i=e[1]===e[0]&&Wn(e);return{c(){t=v("main"),o&&o.c(),n=L(),i&&i.c()},m(e,a){m(e,t,a),o&&o.m(t,null),d(t,n),i&&i.m(t,null),r=!0},p(e,[r]){"init"===e[1]?o?(o.p(e,r),2&r&&Z(o,1)):(o=Yn(e),o.c(),Z(o,1),o.m(t,n)):o&&(q(),X(o,1,1,(()=>{o=null})),K()),e[1]===e[0]?i?(i.p(e,r),3&r&&Z(i,1)):(i=Wn(e),i.c(),Z(i,1),i.m(t,null)):i&&(q(),X(i,1,1,(()=>{i=null})),K())},i(e){r||(Z(o),Z(i),r=!0)},o(e){X(o),X(i),r=!1},d(e){e&&y(t),o&&o.d(),i&&i.d()}}}function Jn(e,t,n){let r,o;u(e,fn,(e=>n(0,r=e)));const{onOutro:i,transitionTo:a,state:s}=Un("init");return u(e,s,(e=>n(1,o=e))),e.$$.update=()=>{1&e.$$.dirty&&r&&a(r)},[r,o,i,s]}class Hn extends se{constructor(e){super(),ae(this,e,Jn,zn,a,{})}}function Vn(t){let n,r,o,i,a,s;return r=new Hn({}),{c(){n=v("div"),ne(r.$$.fragment)},m(e,o){m(e,n,o),re(r,n,null),i=!0,a||(s=b(n,"outroend",t[1]),a=!0)},p:e,i(e){i||(Z(r.$$.fragment,e),o&&o.end(1),i=!0)},o(e){X(r.$$.fragment,e),o=te(n,le,{y:500,duration:300}),i=!1},d(e){e&&y(n),oe(r),e&&o&&o.end(),a=!1,s()}}}function qn(t){let n,r,o,i,a,s;return r=new En({}),{c(){n=v("div"),ne(r.$$.fragment)},m(e,o){m(e,n,o),re(r,n,null),i=!0,a||(s=b(n,"outroend",t[1]),a=!0)},p:e,i(e){i||(Z(r.$$.fragment,e),o||D((()=>{o=ee(n,le,{y:500,duration:500}),o.start()})),i=!0)},o(e){X(r.$$.fragment,e),i=!1},d(e){e&&y(n),oe(r),a=!1,s()}}}function Kn(e){let t,n,r,o="init"===e[0]&&Vn(e),i="started"===e[0]&&qn(e);return{c(){t=v("main"),o&&o.c(),n=L(),i&&i.c(),w(t,"class","svelte-1fanpjj")},m(e,a){m(e,t,a),o&&o.m(t,null),d(t,n),i&&i.m(t,null),r=!0},p(e,[r]){"init"===e[0]?o?(o.p(e,r),1&r&&Z(o,1)):(o=Vn(e),o.c(),Z(o,1),o.m(t,n)):o&&(q(),X(o,1,1,(()=>{o=null})),K()),"started"===e[0]?i?(i.p(e,r),1&r&&Z(i,1)):(i=qn(e),i.c(),Z(i,1),i.m(t,null)):i&&(q(),X(i,1,1,(()=>{i=null})),K())},i(e){r||(Z(o),Z(i),r=!0)},o(e){X(o),X(i),r=!1},d(e){e&&y(t),o&&o.d(),i&&i.d()}}}function Zn(e,t,n){let r,o;u(e,vn,(e=>n(3,r=e)));const{onOutro:i,transitionTo:a,state:s}=Un("init");return u(e,s,(e=>n(0,o=e))),e.$$.update=()=>{8&e.$$.dirty&&"started"===r&&a("started")},[o,i,s,r]}return new class extends se{constructor(e){super(),ae(this,e,Zn,Kn,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
